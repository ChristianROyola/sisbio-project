(self.webpackChunksisbio_project=self.webpackChunksisbio_project||[]).push([[179],{2011:(an,Mt,q)=>{"use strict";q.d(Mt,{Dh:()=>Je,GT:()=>Ye,cc:()=>ht,hO:()=>Rt,on:()=>be,pX:()=>Le,xv:()=>Fe});var y=q(4650),he=q(9260),ne=q(2432);an=q.hmd(an);const We=["ngOnDestroy"],Le=(_t,Ke,Ct,Tt={})=>new Proxy(_t,{get:(mt,Ze)=>Ct.runOutsideAngular(()=>{var St;if(_t[Ze])return!(null===(St=Tt?.spy)||void 0===St)&&St.get&&Tt.spy.get(Ze,_t[Ze]),_t[Ze];if(We.indexOf(Ze)>-1)return()=>{};const Ee=Ke.toPromise().then(Ve=>{const ot=Ve&&Ve[Ze];return"function"==typeof ot?ot.bind(Ve):ot&&ot.then?ot.then(It=>Ct.run(()=>It)):Ct.run(()=>ot)});return new Proxy(()=>{},{get:(Ve,ot)=>Ee[ot],apply:(Ve,ot,It)=>Ee.then(kt=>{var Ot;const Wt=kt&&kt(...It);return!(null===(Ot=Tt?.spy)||void 0===Ot)&&Ot.apply&&Tt.spy.apply(Ze,It,Wt),Wt})})})}),Ye=(_t,Ke)=>{Ke.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(Tt=>{Object.defineProperty(_t.prototype,Tt,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,Tt))})})};class nt{constructor(Ke){return Ke}}const Je=new y.OlP("angularfire2.app.options"),Fe=new y.OlP("angularfire2.app.name");function be(_t,Ke,Ct){const mt="object"==typeof Ct&&Ct||{};mt.name=mt.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const St=he.Z.apps.filter(Ee=>Ee&&Ee.name===mt.name)[0]||Ke.runOutsideAngular(()=>he.Z.initializeApp(_t,mt));try{JSON.stringify(_t)!==JSON.stringify(St.options)&&H("error",`${St.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new nt(St)}const H=(_t,...Ke)=>{(0,y.X6Q)()&&typeof console<"u"&&console[_t](...Ke)},De={provide:nt,useFactory:be,deps:[Je,y.R0b,[new y.FiY,Fe]]};let Rt=(()=>{class _t{constructor(Ct){he.Z.registerVersion("angularfire",ne.q4.full,"core"),he.Z.registerVersion("angularfire",ne.q4.full,"app-compat"),he.Z.registerVersion("angular",y.q4F.full,Ct.toString())}static initializeApp(Ct,Tt){return{ngModule:_t,providers:[{provide:Je,useValue:Ct},{provide:Fe,useValue:Tt}]}}}return _t.\u0275fac=function(Ct){return new(Ct||_t)(y.LFG(y.Lbi))},_t.\u0275mod=y.oAB({type:_t}),_t.\u0275inj=y.cJS({providers:[De]}),_t})();function ht(_t,Ke,Ct,Tt,mt){const[,Ze,St]=globalThis.\u0275AngularfireInstanceCache.find(Ee=>Ee[0]===_t)||[];if(Ze)return function lt(_t,Ke){try{return _t.toString()===Ke.toString()}catch{return _t===Ke}}(mt,St)||(qe("error",`${Ke} was already initialized on the ${Ct} Firebase App with different settings.${xt?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:mt,was:St})),Ze;{const Ee=Tt();return globalThis.\u0275AngularfireInstanceCache.push([_t,Ee,mt]),Ee}}const xt=!!an.hot,qe=(_t,...Ke)=>{(0,y.X6Q)()&&typeof console<"u"&&console[_t](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2432:(an,Mt,q)=>{"use strict";q.d(Mt,{q4:()=>dt,iC:()=>Eo,HU:()=>Oi,vb:()=>cn,JM:()=>ti,u3:()=>gl});var y=q(4650),he=q(259),ne=q(5861),We=q(9681),Le=q(2090),Ye=q(4859),nt=q(1877);q(2833);const Fe="@firebase/remote-config",ht=new Le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ut{constructor(fe,Se,rt,wt){this.client=fe,this.storage=Se,this.storageCache=rt,this.logger=wt}isCachedDataFresh(fe,Se){if(!Se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const rt=Date.now()-Se,wt=rt<=fe;return this.logger.debug(`Config fetch cache check. Cache age millis: ${rt}. Cache max age millis (minimumFetchIntervalMillis setting): ${fe}. Is cache hit: ${wt}.`),wt}fetch(fe){var Se=this;return(0,ne.Z)(function*(){const[rt,wt]=yield Promise.all([Se.storage.getLastSuccessfulFetchTimestampMillis(),Se.storage.getLastSuccessfulFetchResponse()]);if(wt&&Se.isCachedDataFresh(fe.cacheMaxAgeMillis,rt))return wt;fe.eTag=wt&&wt.eTag;const Ut=yield Se.client.fetch(fe),rn=[Se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ut.status&&rn.push(Se.storage.setLastSuccessfulFetchResponse(Ut)),yield Promise.all(rn),Ut})()}}function bt(ye=navigator){return ye.languages&&ye.languages[0]||ye.language}class Dt{constructor(fe,Se,rt,wt,Ut,rn){this.firebaseInstallations=fe,this.sdkVersion=Se,this.namespace=rt,this.projectId=wt,this.apiKey=Ut,this.appId=rn}fetch(fe){var Se=this;return(0,ne.Z)(function*(){const[rt,wt]=yield Promise.all([Se.firebaseInstallations.getId(),Se.firebaseInstallations.getToken()]),rn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Se.projectId}/namespaces/${Se.namespace}:fetch?key=${Se.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":fe.eTag||"*"},Bn={sdk_version:Se.sdkVersion,app_instance_id:rt,app_instance_id_token:wt,app_id:Se.appId,language_code:bt()},zn={method:"POST",headers:Pn,body:JSON.stringify(Bn)},ci=fetch(rn,zn),Vi=new Promise((Qi,Di)=>{fe.signal.addEventListener(()=>{const Do=new Error("The operation was aborted.");Do.name="AbortError",Di(Do)})});let wi;try{yield Promise.race([ci,Vi]),wi=yield ci}catch(Qi){let Di="fetch-client-network";throw"AbortError"===Qi?.name&&(Di="fetch-timeout"),ht.create(Di,{originalErrorMessage:Qi?.message})}let Bi=wi.status;const Ds=wi.headers.get("ETag")||void 0;let Ni,ts;if(200===wi.status){let Qi;try{Qi=yield wi.json()}catch(Di){throw ht.create("fetch-client-parse",{originalErrorMessage:Di?.message})}Ni=Qi.entries,ts=Qi.state}if("INSTANCE_STATE_UNSPECIFIED"===ts?Bi=500:"NO_CHANGE"===ts?Bi=304:("NO_TEMPLATE"===ts||"EMPTY_CONFIG"===ts)&&(Ni={}),304!==Bi&&200!==Bi)throw ht.create("fetch-status",{httpStatus:Bi});return{status:Bi,eTag:Ds,config:Ni}})()}}class Ht{constructor(fe,Se){this.client=fe,this.storage=Se}fetch(fe){var Se=this;return(0,ne.Z)(function*(){const rt=(yield Se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Se.attemptFetch(fe,rt)})()}attemptFetch(fe,{throttleEndTimeMillis:Se,backoffCount:rt}){var wt=this;return(0,ne.Z)(function*(){yield function ct(ye,fe){return new Promise((Se,rt)=>{const wt=Math.max(fe-Date.now(),0),Ut=setTimeout(Se,wt);ye.addEventListener(()=>{clearTimeout(Ut),rt(ht.create("fetch-throttle",{throttleEndTimeMillis:fe}))})})}(fe.signal,Se);try{const Ut=yield wt.client.fetch(fe);return yield wt.storage.deleteThrottleMetadata(),Ut}catch(Ut){if(!function te(ye){if(!(ye instanceof Le.ZR&&ye.customData))return!1;const fe=Number(ye.customData.httpStatus);return 429===fe||500===fe||503===fe||504===fe}(Ut))throw Ut;const rn={throttleEndTimeMillis:Date.now()+(0,Le.$s)(rt),backoffCount:rt+1};return yield wt.storage.setThrottleMetadata(rn),wt.attemptFetch(fe,rn)}})()}}class ve{constructor(fe,Se,rt,wt,Ut){this.app=fe,this._client=Se,this._storageCache=rt,this._storage=wt,this._logger=Ut,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Me(ye,fe){const Se=ye.target.error||void 0;return ht.create(fe,{originalErrorMessage:Se&&Se?.message})}const Re="app_namespace_store";class tn{constructor(fe,Se,rt,wt=function Vt(){return new Promise((ye,fe)=>{try{const Se=indexedDB.open("firebase_remote_config",1);Se.onerror=rt=>{fe(Me(rt,"storage-open"))},Se.onsuccess=rt=>{ye(rt.target.result)},Se.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(Re,{keyPath:"compositeKey"})}}catch(Se){fe(ht.create("storage-open",{originalErrorMessage:Se?.message}))}})}()){this.appId=fe,this.appName=Se,this.namespace=rt,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(fe){return this.set("last_fetch_status",fe)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(fe){return this.set("last_successful_fetch_timestamp_millis",fe)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(fe){return this.set("last_successful_fetch_response",fe)}getActiveConfig(){return this.get("active_config")}setActiveConfig(fe){return this.set("active_config",fe)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(fe){return this.set("active_config_etag",fe)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(fe){return this.set("throttle_metadata",fe)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(fe){var Se=this;return(0,ne.Z)(function*(){const rt=yield Se.openDbPromise;return new Promise((wt,Ut)=>{const Pn=rt.transaction([Re],"readonly").objectStore(Re),Bn=Se.createCompositeKey(fe);try{const zn=Pn.get(Bn);zn.onerror=ci=>{Ut(Me(ci,"storage-get"))},zn.onsuccess=ci=>{const Vi=ci.target.result;wt(Vi?Vi.value:void 0)}}catch(zn){Ut(ht.create("storage-get",{originalErrorMessage:zn?.message}))}})})()}set(fe,Se){var rt=this;return(0,ne.Z)(function*(){const wt=yield rt.openDbPromise;return new Promise((Ut,rn)=>{const Bn=wt.transaction([Re],"readwrite").objectStore(Re),zn=rt.createCompositeKey(fe);try{const ci=Bn.put({compositeKey:zn,value:Se});ci.onerror=Vi=>{rn(Me(Vi,"storage-set"))},ci.onsuccess=()=>{Ut()}}catch(ci){rn(ht.create("storage-set",{originalErrorMessage:ci?.message}))}})})()}delete(fe){var Se=this;return(0,ne.Z)(function*(){const rt=yield Se.openDbPromise;return new Promise((wt,Ut)=>{const Pn=rt.transaction([Re],"readwrite").objectStore(Re),Bn=Se.createCompositeKey(fe);try{const zn=Pn.delete(Bn);zn.onerror=ci=>{Ut(Me(ci,"storage-delete"))},zn.onsuccess=()=>{wt()}}catch(zn){Ut(ht.create("storage-delete",{originalErrorMessage:zn?.message}))}})})()}createCompositeKey(fe){return[this.appId,this.appName,this.namespace,fe].join()}}class En{constructor(fe){this.storage=fe}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var fe=this;return(0,ne.Z)(function*(){const Se=fe.storage.getLastFetchStatus(),rt=fe.storage.getLastSuccessfulFetchTimestampMillis(),wt=fe.storage.getActiveConfig(),Ut=yield Se;Ut&&(fe.lastFetchStatus=Ut);const rn=yield rt;rn&&(fe.lastSuccessfulFetchTimestampMillis=rn);const Pn=yield wt;Pn&&(fe.activeConfig=Pn)})()}setLastFetchStatus(fe){return this.lastFetchStatus=fe,this.storage.setLastFetchStatus(fe)}setLastSuccessfulFetchTimestampMillis(fe){return this.lastSuccessfulFetchTimestampMillis=fe,this.storage.setLastSuccessfulFetchTimestampMillis(fe)}setActiveConfig(fe){return this.activeConfig=fe,this.storage.setActiveConfig(fe)}}function Dn(){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,ne.Z)(function*(){if(!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch{return!1}})).apply(this,arguments)}!function ln(){(0,We._registerComponent)(new Ye.wA("remote-config",function ye(fe,{instanceIdentifier:Se}){const rt=fe.getProvider("app").getImmediate(),wt=fe.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ht.create("registration-window");if(!(0,Le.hl)())throw ht.create("indexed-db-unavailable");const{projectId:Ut,apiKey:rn,appId:Pn}=rt.options;if(!Ut)throw ht.create("registration-project-id");if(!rn)throw ht.create("registration-api-key");if(!Pn)throw ht.create("registration-app-id");const Bn=new tn(Pn,rt.name,Se=Se||"firebase"),zn=new En(Bn),ci=new nt.Yd(Fe);ci.logLevel=nt.in.ERROR;const Vi=new Dt(wt,We.SDK_VERSION,Se,Ut,rn,Pn),wi=new Ht(Vi,Bn),Bi=new ut(wi,Bn,zn,ci),Ds=new ve(rt,Bi,zn,Bn,ci);return function St(ye){const fe=(0,Le.m9)(ye);fe._initializePromise||(fe._initializePromise=fe._storageCache.loadFromStorage().then(()=>{fe._isInitializationComplete=!0}))}(Ds),Ds},"PUBLIC").setMultipleInstances(!0)),(0,We.registerVersion)(Fe,"0.4.3"),(0,We.registerVersion)(Fe,"0.4.3","esm2017")}();var Kn=q(6774);const Xt="analytics",$n="firebase_id",Si="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yi="https://www.googletagmanager.com/gtag/js",nn=new nt.Yd("@firebase/analytics");function $t(ye){return Promise.all(ye.map(fe=>fe.catch(Se=>Se)))}function pn(ye,fe){const Se=document.createElement("script");Se.src=`${yi}?l=${ye}&id=${fe}`,Se.async=!0,document.head.appendChild(Se)}function hi(ye,fe,Se,rt,wt,Ut){return ui.apply(this,arguments)}function ui(){return(ui=(0,ne.Z)(function*(ye,fe,Se,rt,wt,Ut){const rn=rt[wt];try{if(rn)yield fe[rn];else{const Bn=(yield $t(Se)).find(zn=>zn.measurementId===wt);Bn&&(yield fe[Bn.appId])}}catch(Pn){nn.error(Pn)}ye("config",wt,Ut)})).apply(this,arguments)}function Yn(ye,fe,Se,rt,wt){return bn.apply(this,arguments)}function bn(){return(bn=(0,ne.Z)(function*(ye,fe,Se,rt,wt){try{let Ut=[];if(wt&&wt.send_to){let rn=wt.send_to;Array.isArray(rn)||(rn=[rn]);const Pn=yield $t(Se);for(const Bn of rn){const zn=Pn.find(Vi=>Vi.measurementId===Bn),ci=zn&&fe[zn.appId];if(!ci){Ut=[];break}Ut.push(ci)}}0===Ut.length&&(Ut=Object.values(fe)),yield Promise.all(Ut),ye("event",rt,wt||{})}catch(Ut){nn.error(Ut)}})).apply(this,arguments)}function ji(ye){const fe=window.document.getElementsByTagName("script");for(const Se of Object.values(fe))if(Se.src&&Se.src.includes(yi)&&Se.src.includes(ye))return Se;return null}const Qn=new Le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ce=new class Y{constructor(fe={},Se=1e3){this.throttleMetadata=fe,this.intervalMillis=Se}getThrottleMetadata(fe){return this.throttleMetadata[fe]}setThrottleMetadata(fe,Se){this.throttleMetadata[fe]=Se}deleteThrottleMetadata(fe){delete this.throttleMetadata[fe]}};function He(ye){return new Headers({Accept:"application/json","x-goog-api-key":ye})}function tt(ye){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ne.Z)(function*(ye){var fe;const{appId:Se,apiKey:rt}=ye,wt={method:"GET",headers:He(rt)},Ut=Si.replace("{app-id}",Se),rn=yield fetch(Ut,wt);if(200!==rn.status&&304!==rn.status){let Pn="";try{const Bn=yield rn.json();null!==(fe=Bn.error)&&void 0!==fe&&fe.message&&(Pn=Bn.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:rn.status,responseMessage:Pn})}return rn.json()})).apply(this,arguments)}function ue(ye){return oe.apply(this,arguments)}function oe(){return(oe=(0,ne.Z)(function*(ye,fe=Ce,Se){const{appId:rt,apiKey:wt,measurementId:Ut}=ye.options;if(!rt)throw Qn.create("no-app-id");if(!wt){if(Ut)return{measurementId:Ut,appId:rt};throw Qn.create("no-api-key")}const rn=fe.getThrottleMetadata(rt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pn=new Pe;return setTimeout((0,ne.Z)(function*(){Pn.abort()}),void 0!==Se?Se:6e4),me({appId:rt,apiKey:wt,measurementId:Ut},rn,Pn,fe)})).apply(this,arguments)}function me(ye,fe,Se){return le.apply(this,arguments)}function le(){return(le=(0,ne.Z)(function*(ye,{throttleEndTimeMillis:fe,backoffCount:Se},rt,wt=Ce){var Ut;const{appId:rn,measurementId:Pn}=ye;try{yield G(rt,fe)}catch(Bn){if(Pn)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${Bn?.message}]`),{appId:rn,measurementId:Pn};throw Bn}try{const Bn=yield tt(ye);return wt.deleteThrottleMetadata(rn),Bn}catch(Bn){const zn=Bn;if(!ae(zn)){if(wt.deleteThrottleMetadata(rn),Pn)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${zn?.message}]`),{appId:rn,measurementId:Pn};throw Bn}const ci=503===Number(null===(Ut=zn?.customData)||void 0===Ut?void 0:Ut.httpStatus)?(0,Le.$s)(Se,wt.intervalMillis,30):(0,Le.$s)(Se,wt.intervalMillis),Vi={throttleEndTimeMillis:Date.now()+ci,backoffCount:Se+1};return wt.setThrottleMetadata(rn,Vi),nn.debug(`Calling attemptFetch again in ${ci} millis`),me(ye,Vi,rt,wt)}})).apply(this,arguments)}function G(ye,fe){return new Promise((Se,rt)=>{const wt=Math.max(fe-Date.now(),0),Ut=setTimeout(Se,wt);ye.addEventListener(()=>{clearTimeout(Ut),rt(Qn.create("fetch-throttle",{throttleEndTimeMillis:fe}))})})}function ae(ye){if(!(ye instanceof Le.ZR&&ye.customData))return!1;const fe=Number(ye.customData.httpStatus);return 429===fe||500===fe||503===fe||504===fe}class Pe{constructor(){this.listeners=[]}addEventListener(fe){this.listeners.push(fe)}abort(){this.listeners.forEach(fe=>fe())}}let ft,D;function Xe(){return(Xe=(0,ne.Z)(function*(ye,fe,Se,rt,wt){if(wt&&wt.global)ye("event",Se,rt);else{const Ut=yield fe;ye("event",Se,Object.assign(Object.assign({},rt),{send_to:Ut}))}})).apply(this,arguments)}function k(ye){D=ye}function S(ye){ft=ye}function _(){return T.apply(this,arguments)}function T(){return(T=(0,ne.Z)(function*(){if(!(0,Le.hl)())return nn.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Le.eu)()}catch(ye){return nn.warn(Qn.create("indexeddb-unavailable",{errorInfo:ye?.toString()}).message),!1}return!0})).apply(this,arguments)}function m(){return(m=(0,ne.Z)(function*(ye,fe,Se,rt,wt,Ut,rn){var Pn;const Bn=ue(ye);Bn.then(Bi=>{Se[Bi.measurementId]=Bi.appId,ye.options.measurementId&&Bi.measurementId!==ye.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${ye.options.measurementId}) does not match the measurement ID fetched from the server (${Bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bi=>nn.error(Bi)),fe.push(Bn);const zn=_().then(Bi=>{if(Bi)return rt.getId()}),[ci,Vi]=yield Promise.all([Bn,zn]);ji(Ut)||pn(Ut,ci.measurementId),D&&(wt("consent","default",D),k(void 0)),wt("js",new Date);const wi=null!==(Pn=rn?.config)&&void 0!==Pn?Pn:{};return wi.origin="firebase",wi.update=!0,null!=Vi&&(wi[$n]=Vi),wt("config",ci.measurementId,wi),ft&&(wt("set",ft),S(void 0)),ci.measurementId})).apply(this,arguments)}class P{constructor(fe){this.app=fe}_delete(){return delete z[this.app.options.appId],Promise.resolve()}}let z={},U=[];const N={};let ie,se,$="dataLayer",ee=!1;function Ie(ye,fe,Se){!function et(){const ye=[];if((0,Le.ru)()&&ye.push("This is a browser extension environment."),(0,Le.zI)()||ye.push("Cookies are not available."),ye.length>0){const fe=ye.map((rt,wt)=>`(${wt+1}) ${rt}`).join(" "),Se=Qn.create("invalid-analytics-context",{errorInfo:fe});nn.warn(Se.message)}}();const rt=ye.options.appId;if(!rt)throw Qn.create("no-app-id");if(!ye.options.apiKey){if(!ye.options.measurementId)throw Qn.create("no-api-key");nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ye.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=z[rt])throw Qn.create("already-exists",{id:rt});if(!ee){!function li(ye){let fe=[];Array.isArray(window[ye])?fe=window[ye]:window[ye]=fe}($);const{wrappedGtag:Ut,gtagCore:rn}=function Cn(ye,fe,Se,rt,wt){let Ut=function(...rn){window[rt].push(arguments)};return window[wt]&&"function"==typeof window[wt]&&(Ut=window[wt]),window[wt]=function ii(ye,fe,Se,rt){function Ut(){return(Ut=(0,ne.Z)(function*(rn,Pn,Bn){try{"event"===rn?yield Yn(ye,fe,Se,Pn,Bn):"config"===rn?yield hi(ye,fe,Se,rt,Pn,Bn):"consent"===rn?ye("consent","update",Bn):ye("set",Pn)}catch(zn){nn.error(zn)}})).apply(this,arguments)}return function wt(rn,Pn,Bn){return Ut.apply(this,arguments)}}(Ut,ye,fe,Se),{gtagCore:Ut,wrappedGtag:window[wt]}}(z,U,N,$,"gtag");se=Ut,ie=rn,ee=!0}return z[rt]=function I(ye,fe,Se,rt,wt,Ut,rn){return m.apply(this,arguments)}(ye,U,N,fe,ie,$,Se),new P(ye)}function _e(){return ce.apply(this,arguments)}function ce(){return(ce=(0,ne.Z)(function*(){if((0,Le.ru)()||!(0,Le.zI)()||!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch{return!1}})).apply(this,arguments)}const Yt="@firebase/analytics";!function fn(){(0,We._registerComponent)(new Ye.wA(Xt,(fe,{options:Se})=>Ie(fe.getProvider("app").getImmediate(),fe.getProvider("installations-internal").getImmediate(),Se),"PUBLIC")),(0,We._registerComponent)(new Ye.wA("analytics-internal",function ye(fe){try{const Se=fe.getProvider(Xt).getImmediate();return{logEvent:(rt,wt,Ut)=>function On(ye,fe,Se,rt){ye=(0,Le.m9)(ye),function jt(ye,fe,Se,rt,wt){return Xe.apply(this,arguments)}(se,z[ye.app.options.appId],fe,Se,rt).catch(wt=>nn.error(wt))}(Se,rt,wt,Ut)}}catch(Se){throw Qn.create("interop-component-reg-failed",{reason:Se})}},"PRIVATE")),(0,We.registerVersion)(Yt,"0.9.3"),(0,We.registerVersion)(Yt,"0.9.3","esm2017")}();var dn=q(4408),xn=q(7565);const Ci=new class ei extends xn.v{}(class Zt extends dn.o{constructor(fe,Se){super(fe,Se),this.scheduler=fe,this.work=Se}schedule(fe,Se=0){return Se>0?super.schedule(fe,Se):(this.delay=Se,this.state=fe,this.scheduler.flush(this),this)}execute(fe,Se){return Se>0||this.closed?super.execute(fe,Se):this._execute(fe,Se)}requestAsyncId(fe,Se,rt=0){return null!=rt&&rt>0||null==rt&&this.delay>0?super.requestAsyncId(fe,Se,rt):(fe.flush(this),0)}});var Ki=q(4986),gt=q(9751),Cr=q(8505),Un=q(9468),es=q(5363);const dt=new y.GfV("7.5.0"),pt="__angularfire_symbol__analyticsIsSupportedValue",Lt="__angularfire_symbol__analyticsIsSupported",Ln="__angularfire_symbol__remoteConfigIsSupportedValue",Nt="__angularfire_symbol__remoteConfigIsSupported",on="__angularfire_symbol__messagingIsSupportedValue",Ri="__angularfire_symbol__messagingIsSupported";function ti(ye,fe,Se){if(fe){if(1===fe.length)return fe[0];const Ut=fe.filter(rn=>rn.app===Se);if(1===Ut.length)return Ut[0]}return Se.container.getProvider(ye).getImmediate({optional:!0})}globalThis[Lt]||(globalThis[Lt]=_e().then(ye=>globalThis[pt]=ye).catch(()=>globalThis[pt]=!1)),globalThis[Ri]||(globalThis[Ri]=(0,Kn.Gb)().then(ye=>globalThis[on]=ye).catch(()=>globalThis[on]=!1)),globalThis[Nt]||(globalThis[Nt]=Dn().then(ye=>globalThis[Ln]=ye).catch(()=>globalThis[Ln]=!1));const cn=(ye,fe)=>{const Se=fe?[fe]:(0,he.C6)(),rt=[];return Se.forEach(wt=>{wt.container.getProvider(ye).instances.forEach(rn=>{rt.includes(rn)||rt.push(rn)})}),rt};function wn(){}class Jt{constructor(fe,Se=Ci){this.zone=fe,this.delegate=Se}now(){return this.delegate.now()}schedule(fe,Se,rt){const wt=this.zone;return this.delegate.schedule(function(rn){wt.runGuarded(()=>{fe.apply(this,[rn])})},Se,rt)}}class Fn{constructor(fe){this.zone=fe,this.task=null}call(fe,Se){const rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wn,{},wn,wn)),Se.pipe((0,Cr.b)({next:rt,complete:rt,error:rt})).subscribe(fe).add(rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oi=(()=>{class ye{constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Jt(Zone.current)),this.insideAngular=Se.run(()=>new Jt(Zone.current,Ki.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(y.R0b))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function fi(){const ye=globalThis.\u0275AngularFireScheduler;if(!ye)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ye}function $i(ye){return fi().ngZone.runOutsideAngular(()=>ye())}function _n(ye){return fi().ngZone.run(()=>ye())}function Eo(ye){return fi(),function pl(ye){return function(Se){return(Se=Se.lift(new Fn(ye.ngZone))).pipe((0,Un.R)(ye.outsideAngular),(0,es.Q)(ye.insideAngular))}}(fi())(ye)}const fl=(ye,fe)=>function(){const rt=arguments;return fe&&setTimeout(()=>{"scheduled"===fe.state&&fe.invoke()},10),_n(()=>ye.apply(void 0,rt))},gl=(ye,fe)=>function(){let Se;const rt=arguments;for(let Ut=0;Ut<arguments.length;Ut++)"function"==typeof rt[Ut]&&(fe&&(Se||(Se=_n(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wn,{},wn,wn)))),rt[Ut]=fl(rt[Ut],Se));const wt=$i(()=>ye.apply(this,rt));if(!fe){if(wt instanceof gt.y){const Ut=fi();return wt.pipe((0,Un.R)(Ut.outsideAngular),(0,es.Q)(Ut.insideAngular))}return _n(()=>wt)}return wt instanceof gt.y?wt.pipe(Eo):wt instanceof Promise?_n(()=>new Promise((Ut,rn)=>wt.then(Pn=>_n(()=>Ut(Pn)),Pn=>_n(()=>rn(Pn))))):"function"==typeof wt&&Se?function(){return setTimeout(()=>{Se&&"scheduled"===Se.state&&Se.invoke()},10),wt.apply(this,arguments)}:_n(()=>wt)}},2722:(an,Mt,q)=>{"use strict";q.d(Mt,{$:()=>lh,A:()=>H,B:()=>ht,G:()=>T,H:()=>U,J:()=>ei,L:()=>ue,M:()=>Jn,N:()=>ti,P:()=>Py,Q:()=>cn,R:()=>Fu,T:()=>wn,U:()=>vi,V:()=>fi,W:()=>$i,X:()=>pl,Y:()=>wi,Z:()=>Ds,_:()=>ts,a:()=>_a,a0:()=>kp,a1:()=>uh,a2:()=>Nn,a3:()=>yy,a4:()=>Fp,a5:()=>ch,a6:()=>Rp,a7:()=>vt,a8:()=>Op,a9:()=>Lp,aA:()=>oe,aB:()=>Pl,aC:()=>Rh,aD:()=>Fh,aE:()=>S,aI:()=>ks,aL:()=>Fn,aa:()=>ns,ab:()=>dh,ac:()=>Vp,af:()=>Po,ag:()=>As,ah:()=>fh,ak:()=>Se,al:()=>yh,an:()=>wy,ao:()=>Cu,ap:()=>ot,aq:()=>o,ar:()=>jt,as:()=>Ct,at:()=>qi,au:()=>bs,av:()=>f,aw:()=>Tt,ax:()=>Ee,ay:()=>Uu,az:()=>kt,b:()=>wu,c:()=>Ru,d:()=>Ry,e:()=>Fy,f:()=>zi,g:()=>Lh,h:()=>Oh,i:()=>Ch,j:()=>Xr,k:()=>lf,l:()=>ro,m:()=>Ku,n:()=>cf,o:()=>Je,r:()=>Ay,s:()=>Dy,u:()=>S0});var y=q(5861),he=q(2090),ne=q(9681),We=q(1877),Le=q(655),Ye=q(4859);const Je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ht=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new We.Yd("@firebase/auth");function Ke(A,...b){_t.logLevel<=We.in.ERROR&&_t.error(`Auth (${ne.SDK_VERSION}): ${A}`,...b)}function Ct(A,...b){throw St(A,...b)}function Tt(A,...b){return St(A,...b)}function mt(A,b,M){const O=Object.assign(Object.assign({},lt()),{[b]:M});return new he.LL("auth","Firebase",O).create(b,{appName:A.name})}function Ze(A,b,M){if(!(b instanceof M))throw M.name!==b.constructor.name&&Ct(A,"argument-error"),mt(A,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(A,...b){if("string"!=typeof A){const M=b[0],O=[...b.slice(1)];return O[0]&&(O[0].appName=A.name),A._errorFactory.create(M,...O)}return xt.create(A,...b)}function Ee(A,b,...M){if(!A)throw St(b,...M)}function Ve(A){const b="INTERNAL ASSERTION FAILED: "+A;throw Ke(b),new Error(b)}function ot(A,b){A||Ve(b)}const It=new Map;function kt(A){ot(A instanceof Function,"Expected a class definition");let b=It.get(A);return b?(ot(b instanceof A,"Instance stored in cache mismatched with class"),b):(b=new A,It.set(A,b),b)}function je(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Qe(){return"http:"===ut()||"https:"===ut()}function ut(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class ct{constructor(b,M){this.shortDelay=b,this.longDelay=M,ot(M>b,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(A,b){ot(A.emulator,"Emulator should always be set here");const{url:M}=A.emulator;return b?`${M}${b.startsWith("/")?b.slice(1):b}`:M}class Ht{static initialize(b,M,O){this.fetchImpl=b,M&&(this.headersImpl=M),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},K=new ct(3e4,6e4);function ve(A,b){return A.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:A.tenantId}):b}function Me(A,b,M,O){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(A,b,M,O,X={}){return it(A,X,(0,y.Z)(function*(){let re={},Ue={};O&&("GET"===b?Ue=O:re={body:JSON.stringify(O)});const Et=(0,he.xO)(Object.assign({key:A.config.apiKey},Ue)).slice(1),sn=yield A._getAdditionalHeaders();return sn["Content-Type"]="application/json",A.languageCode&&(sn["X-Firebase-Locale"]=A.languageCode),Ht.fetch()(En(A,A.config.apiHost,M,Et),Object.assign({method:b,headers:sn,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function it(A,b,M){return at.apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(A,b,M){A._canInitEmulator=!1;const O=Object.assign(Object.assign({},zt),b);try{const X=new ln(A),re=yield Promise.race([M(),X.promise]);X.clearNetworkTimeout();const Ue=yield re.json();if("needConfirmation"in Ue)throw qt(A,"account-exists-with-different-credential",Ue);if(re.ok&&!("errorMessage"in Ue))return Ue;{const Et=re.ok?Ue.errorMessage:Ue.error.message,[sn,un]=Et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw qt(A,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===sn)throw qt(A,"email-already-in-use",Ue);if("USER_DISABLED"===sn)throw qt(A,"user-disabled",Ue);const Vn=O[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw mt(A,Vn,un);Ct(A,Vn)}}catch(X){if(X instanceof he.ZR)throw X;Ct(A,"network-request-failed")}})).apply(this,arguments)}function Vt(A,b,M,O){return tn.apply(this,arguments)}function tn(){return(tn=(0,y.Z)(function*(A,b,M,O,X={}){const re=yield Me(A,b,M,O,X);return"mfaPendingCredential"in re&&Ct(A,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function En(A,b,M,O){const X=`${b}${M}?${O}`;return A.config.emulator?te(A.config,X):`${A.config.apiScheme}://${X}`}class ln{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((M,O)=>{this.timer=setTimeout(()=>O(Tt(this.auth,"network-request-failed")),K.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(A,b,M){const O={appName:A.name};M.email&&(O.email=M.email),M.phoneNumber&&(O.phoneNumber=M.phoneNumber);const X=Tt(A,b,O);return X.customData._tokenResponse=M,X}function Dn(){return(Dn=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Gt(A,b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Xt(A,b){return $n.apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Pi(A){if(A)try{const b=new Date(Number(A));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function yi(){return(yi=(0,y.Z)(function*(A,b=!1){const M=(0,he.m9)(A),O=yield M.getIdToken(b),X=$t(O);Ee(X&&X.exp&&X.auth_time&&X.iat,M.auth,"internal-error");const re="object"==typeof X.firebase?X.firebase:void 0,Ue=re?.sign_in_provider;return{claims:X,token:O,authTime:Pi(nn(X.auth_time)),issuedAtTime:Pi(nn(X.iat)),expirationTime:Pi(nn(X.exp)),signInProvider:Ue||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function nn(A){return 1e3*Number(A)}function $t(A){const[b,M,O]=A.split(".");if(void 0===b||void 0===M||void 0===O)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,he.tV)(M);return X?JSON.parse(X):(Ke("Failed to decode base64 JWT payload"),null)}catch(X){return Ke("Caught error parsing JWT payload as JSON",X?.toString()),null}}function li(A,b){return hi.apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(A,b,M=!1){if(M)return b;try{return yield b}catch(O){throw O instanceof he.ZR&&ui(O)&&A.auth.currentUser===A&&(yield A.auth.signOut()),O}})).apply(this,arguments)}function ui({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class Yn{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var M;if(b){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const X=(null!==(M=this.user.stsTokenManager.expirationTime)&&void 0!==M?M:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(b=!1){var M=this;if(!this.isRunning)return;const O=this.getInterval(b);this.timerId=setTimeout((0,y.Z)(function*(){yield M.iteration()}),O)}iteration(){var b=this;return(0,y.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===M?.code&&b.schedule(!0))}b.schedule()})()}}class bn{constructor(b,M){this.createdAt=b,this.lastLoginAt=M,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pi(this.lastLoginAt),this.creationTime=Pi(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(A){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(A){var b;const M=A.auth,O=yield A.getIdToken(),X=yield li(A,Xt(M,{idToken:O}));Ee(X?.users.length,M,"internal-error");const re=X.users[0];A._notifyReloadListener(re);const Ue=null!==(b=re.providerUserInfo)&&void 0!==b&&b.length?V(re.providerUserInfo):[],Et=Qn(A.providerData,Ue),Vn=!!A.isAnonymous&&!(A.email&&re.passwordHash||Et?.length),Ii={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Et,metadata:new bn(re.createdAt,re.lastLoginAt),isAnonymous:Vn};Object.assign(A,Ii)})).apply(this,arguments)}function An(){return(An=(0,y.Z)(function*(A){const b=(0,he.m9)(A);yield ii(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function Qn(A,b){return[...A.filter(O=>!b.some(X=>X.providerId===O.providerId)),...b]}function V(A){return A.map(b=>{var{providerId:M}=b,O=(0,Le._T)(b,["providerId"]);return{providerId:M,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}function Y(){return(Y=(0,y.Z)(function*(A,b){const M=yield it(A,{},(0,y.Z)(function*(){const O=(0,he.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:X,apiKey:re}=A.config,Ue=En(A,X,"/v1/token",`key=${re}`),Et=yield A._getAdditionalHeaders();return Et["Content-Type"]="application/x-www-form-urlencoded",Ht.fetch()(Ue,{method:"POST",headers:Et,body:O})}));return{accessToken:M.access_token,expiresIn:M.expires_in,refreshToken:M.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Ee(b.idToken,"internal-error"),Ee(typeof b.idToken<"u","internal-error"),Ee(typeof b.refreshToken<"u","internal-error");const M="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function pn(A){const b=$t(A);return Ee(b,"internal-error"),Ee(typeof b.exp<"u","internal-error"),Ee(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,M)}getToken(b,M=!1){var O=this;return(0,y.Z)(function*(){return Ee(!O.accessToken||O.refreshToken,b,"user-token-expired"),M||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(b,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,M){var O=this;return(0,y.Z)(function*(){const{accessToken:X,refreshToken:re,expiresIn:Ue}=yield function B(A,b){return Y.apply(this,arguments)}(b,M);O.updateTokensAndExpiration(X,re,Number(Ue))})()}updateTokensAndExpiration(b,M,O){this.refreshToken=M||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(b,M){const{refreshToken:O,accessToken:X,expirationTime:re}=M,Ue=new Ce;return O&&(Ee("string"==typeof O,"internal-error",{appName:b}),Ue.refreshToken=O),X&&(Ee("string"==typeof X,"internal-error",{appName:b}),Ue.accessToken=X),re&&(Ee("number"==typeof re,"internal-error",{appName:b}),Ue.expirationTime=re),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function He(A,b){Ee("string"==typeof A||typeof A>"u","internal-error",{appName:b})}class tt{constructor(b){var{uid:M,auth:O,stsTokenManager:X}=b,re=(0,Le._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=M,this.auth=O,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new bn(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(b){var M=this;return(0,y.Z)(function*(){const O=yield li(M,M.stsTokenManager.getToken(M.auth,b));return Ee(O,M.auth,"internal-error"),M.accessToken!==O&&(M.accessToken=O,yield M.auth._persistUserIfCurrent(M),M.auth._notifyListenersIfCurrent(M)),O})()}getIdTokenResult(b){return function Si(A){return yi.apply(this,arguments)}(this,b)}reload(){return function ji(A){return An.apply(this,arguments)}(this)}_assign(b){this!==b&&(Ee(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(M=>Object.assign({},M)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new tt(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,M=!1){var O=this;return(0,y.Z)(function*(){let X=!1;b.idToken&&b.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(b),X=!0),M&&(yield ii(O)),yield O.auth._persistUserIfCurrent(O),X&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var b=this;return(0,y.Z)(function*(){const M=yield b.getIdToken();return yield li(b,function Ft(A,b){return Dn.apply(this,arguments)}(b.auth,{idToken:M})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,M){var O,X,re,Ue,Et,sn,un,Vn;const Ii=null!==(O=M.displayName)&&void 0!==O?O:void 0,Ur=null!==(X=M.email)&&void 0!==X?X:void 0,zr=null!==(re=M.phoneNumber)&&void 0!==re?re:void 0,Ia=null!==(Ue=M.photoURL)&&void 0!==Ue?Ue:void 0,ss=null!==(Et=M.tenantId)&&void 0!==Et?Et:void 0,Xo=null!==(sn=M._redirectEventId)&&void 0!==sn?sn:void 0,Wl=null!==(un=M.createdAt)&&void 0!==un?un:void 0,Ju=null!==(Vn=M.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:ao,emailVerified:hf,isAnonymous:df,providerData:qu,stsTokenManager:pf}=M;Ee(ao&&pf,b,"internal-error");const Ea=Ce.fromJSON(this.name,pf);Ee("string"==typeof ao,b,"internal-error"),He(Ii,b.name),He(Ur,b.name),Ee("boolean"==typeof hf,b,"internal-error"),Ee("boolean"==typeof df,b,"internal-error"),He(zr,b.name),He(Ia,b.name),He(ss,b.name),He(Xo,b.name),He(Wl,b.name),He(Ju,b.name);const Da=new tt({uid:ao,auth:b,email:Ur,emailVerified:hf,displayName:Ii,isAnonymous:df,photoURL:Ia,phoneNumber:zr,tenantId:ss,stsTokenManager:Ea,createdAt:Wl,lastLoginAt:Ju});return qu&&Array.isArray(qu)&&(Da.providerData=qu.map(Aa=>Object.assign({},Aa))),Xo&&(Da._redirectEventId=Xo),Da}static _fromIdTokenResponse(b,M,O=!1){return(0,y.Z)(function*(){const X=new Ce;X.updateFromServerResponse(M);const re=new tt({uid:M.localId,auth:b,stsTokenManager:X,isAnonymous:O});return yield ii(re),re})()}}const ue=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(M,O){var X=this;return(0,y.Z)(function*(){X.storage[M]=O})()}_get(M){var O=this;return(0,y.Z)(function*(){const X=O.storage[M];return void 0===X?null:X})()}_remove(M){var O=this;return(0,y.Z)(function*(){delete O.storage[M]})()}_addListener(M,O){}_removeListener(M,O){}}return A.type="NONE",A})();function oe(A,b,M){return`firebase:${A}:${b}:${M}`}class me{constructor(b,M,O){this.persistence=b,this.auth=M,this.userKey=O;const{config:X,name:re}=this.auth;this.fullUserKey=oe(this.userKey,X.apiKey,re),this.fullPersistenceKey=oe("persistence",X.apiKey,re),this.boundEventHandler=M._onStorageEvent.bind(M),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,y.Z)(function*(){const M=yield b.persistence._get(b.fullUserKey);return M?tt._fromJSON(b.auth,M):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var M=this;return(0,y.Z)(function*(){if(M.persistence===b)return;const O=yield M.getCurrentUser();return yield M.removeCurrentUser(),M.persistence=b,O?M.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,M,O="authUser"){return(0,y.Z)(function*(){if(!M.length)return new me(kt(ue),b,O);const X=(yield Promise.all(M.map(function(){var un=(0,y.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return un.apply(this,arguments)}}()))).filter(un=>un);let re=X[0]||kt(ue);const Ue=oe(O,b.config.apiKey,b.name);let Et=null;for(const un of M)try{const Vn=yield un._get(Ue);if(Vn){const Ii=tt._fromJSON(b,Vn);un!==re&&(Et=Ii),re=un;break}}catch{}const sn=X.filter(un=>un._shouldAllowMigration);return re._shouldAllowMigration&&sn.length?(re=sn[0],Et&&(yield re._set(Ue,Et.toJSON())),yield Promise.all(M.map(function(){var un=(0,y.Z)(function*(Vn){if(Vn!==re)try{yield Vn._remove(Ue)}catch{}});return function(Vn){return un.apply(this,arguments)}}())),new me(re,b,O)):new me(re,b,O)})()}}function le(A){const b=A.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(ft(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(G(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(Xe(b))return"Blackberry";if(Qt(b))return"Webos";if(ae(b))return"Safari";if((b.includes("chrome/")||Pe(b))&&!b.includes("edge/"))return"Chrome";if(jt(b))return"Android";{const O=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function G(A=(0,he.z$)()){return/firefox\//i.test(A)}function ae(A=(0,he.z$)()){const b=A.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Pe(A=(0,he.z$)()){return/crios\//i.test(A)}function ft(A=(0,he.z$)()){return/iemobile/i.test(A)}function jt(A=(0,he.z$)()){return/android/i.test(A)}function Xe(A=(0,he.z$)()){return/blackberry/i.test(A)}function Qt(A=(0,he.z$)()){return/webos/i.test(A)}function o(A=(0,he.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function f(A=(0,he.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function d(A=(0,he.z$)()){return o(A)||jt(A)||Qt(A)||Xe(A)||/windows phone/i.test(A)||ft(A)}function C(A,b=[]){let M;switch(A){case"Browser":M=le((0,he.z$)());break;case"Worker":M=`${le((0,he.z$)())}-${A}`;break;default:M=A}const O=b.length?b.join(","):"FirebaseCore-web";return`${M}/JsCore/${ne.SDK_VERSION}/${O}`}class D{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,M){const O=re=>new Promise((Ue,Et)=>{try{Ue(b(re))}catch(sn){Et(sn)}});O.onAbort=M,this.queue.push(O);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(b){var M=this;return(0,y.Z)(function*(){if(M.auth.currentUser===b)return;const O=[];try{for(const X of M.queue)yield X(b),X.onAbort&&O.push(X.onAbort)}catch(X){O.reverse();for(const re of O)try{re()}catch{}throw M.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}class k{constructor(b,M,O){this.app=b,this.heartbeatServiceProvider=M,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _(this),this.idTokenSubscription=new _(this),this.beforeStateQueue=new D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(b,M){var O=this;return M&&(this._popupRedirectResolver=kt(M)),this._initializationPromise=this.queue((0,y.Z)(function*(){var X,re;if(!O._deleted&&(O.persistenceManager=yield me.create(O,b),!O._deleted)){if(null!==(X=O._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(M),O.lastNotifiedUid=(null===(re=O.currentUser)||void 0===re?void 0:re.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,y.Z)(function*(){if(b._deleted)return;const M=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||M){if(b.currentUser&&M&&b.currentUser.uid===M.uid)return b._currentUser._assign(M),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(M,!0)}})()}initializeCurrentUser(b){var M=this;return(0,y.Z)(function*(){var O;const X=yield M.assertedPersistence.getCurrentUser();let re=X,Ue=!1;if(b&&M.config.authDomain){yield M.getOrInitRedirectPersistenceManager();const Et=null===(O=M.redirectUser)||void 0===O?void 0:O._redirectEventId,sn=re?._redirectEventId,un=yield M.tryRedirectSignIn(b);(!Et||Et===sn)&&un?.user&&(re=un.user,Ue=!0)}if(!re)return M.directlySetCurrentUser(null);if(!re._redirectEventId){if(Ue)try{yield M.beforeStateQueue.runMiddleware(re)}catch(Et){re=X,M._popupRedirectResolver._overrideRedirectResult(M,()=>Promise.reject(Et))}return re?M.reloadAndSetCurrentUserOrClear(re):M.directlySetCurrentUser(null)}return Ee(M._popupRedirectResolver,M,"argument-error"),yield M.getOrInitRedirectPersistenceManager(),M.redirectUser&&M.redirectUser._redirectEventId===re._redirectEventId?M.directlySetCurrentUser(re):M.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(b){var M=this;return(0,y.Z)(function*(){let O=null;try{O=yield M._popupRedirectResolver._completeRedirectFn(M,b,!0)}catch{yield M._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(b){var M=this;return(0,y.Z)(function*(){try{yield ii(b)}catch(O){if("auth/network-request-failed"!==O?.code)return M.directlySetCurrentUser(null)}return M.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var b=this;return(0,y.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var M=this;return(0,y.Z)(function*(){const O=b?(0,he.m9)(b):null;return O&&Ee(O.auth.config.apiKey===M.config.apiKey,M,"invalid-user-token"),M._updateCurrentUser(O&&O._clone(M))})()}_updateCurrentUser(b,M=!1){var O=this;return(0,y.Z)(function*(){if(!O._deleted)return b&&Ee(O.tenantId===b.tenantId,O,"tenant-id-mismatch"),M||(yield O.beforeStateQueue.runMiddleware(b)),O.queue((0,y.Z)(function*(){yield O.directlySetCurrentUser(b),O.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,y.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var M=this;return this.queue((0,y.Z)(function*(){yield M.assertedPersistence.setPersistence(kt(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new he.LL("auth","Firebase",b())}onAuthStateChanged(b,M,O){return this.registerStateListener(this.authStateSubscription,b,M,O)}beforeAuthStateChanged(b,M){return this.beforeStateQueue.pushCallback(b,M)}onIdTokenChanged(b,M,O){return this.registerStateListener(this.idTokenSubscription,b,M,O)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,M){var O=this;return(0,y.Z)(function*(){const X=yield O.getOrInitRedirectPersistenceManager(M);return null===b?X.removeCurrentUser():X.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var M=this;return(0,y.Z)(function*(){if(!M.redirectPersistenceManager){const O=b&&kt(b)||M._popupRedirectResolver;Ee(O,M,"argument-error"),M.redirectPersistenceManager=yield me.create(M,[kt(O._redirectPersistence)],"redirectUser"),M.redirectUser=yield M.redirectPersistenceManager.getCurrentUser()}return M.redirectPersistenceManager})()}_redirectUserForId(b){var M=this;return(0,y.Z)(function*(){var O,X;return M._isInitialized&&(yield M.queue((0,y.Z)(function*(){}))),(null===(O=M._currentUser)||void 0===O?void 0:O._redirectEventId)===b?M._currentUser:(null===(X=M.redirectUser)||void 0===X?void 0:X._redirectEventId)===b?M.redirectUser:null})()}_persistUserIfCurrent(b){var M=this;return(0,y.Z)(function*(){if(b===M.currentUser)return M.queue((0,y.Z)(function*(){return M.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,M;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(M=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==M?M:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,M,O,X){if(this._deleted)return()=>{};const re="function"==typeof M?M:M.next.bind(M),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Ue,this,"internal-error"),Ue.then(()=>re(this.currentUser)),"function"==typeof M?b.addObserver(M,O,X):b.addObserver(M)}directlySetCurrentUser(b){var M=this;return(0,y.Z)(function*(){M.currentUser&&M.currentUser!==b&&M._currentUser._stopProactiveRefresh(),b&&M.isProactiveRefreshEnabled&&b._startProactiveRefresh(),M.currentUser=b,b?yield M.assertedPersistence.setCurrentUser(b):yield M.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,y.Z)(function*(){var M;const O={"X-Client-Version":b.clientVersion};b.app.options.appId&&(O["X-Firebase-gmpid"]=b.app.options.appId);const X=yield null===(M=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getHeartbeatsHeader();return X&&(O["X-Firebase-Client"]=X),O})()}}function S(A){return(0,he.m9)(A)}class _{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,he.ne)(M=>this.observer=M)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function T(A,b,M){const O=S(A);Ee(O._canInitEmulator,O,"emulator-config-failed"),Ee(/^https?:\/\//.test(b),O,"invalid-emulator-scheme");const X=!!M?.disableWarnings,re=I(b),{host:Ue,port:Et}=function m(A){const b=I(A),M=/(\/\/)?([^?#/]+)/.exec(A.substr(b.length));if(!M)return{host:"",port:null};const O=M[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(O);if(X){const re=X[1];return{host:re,port:P(O.substr(re.length+1))}}{const[re,Ue]=O.split(":");return{host:re,port:P(Ue)}}}(b);O.config.emulator={url:`${re}//${Ue}${null===Et?"":`:${Et}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Ue,port:Et,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function z(){function A(){const b=document.createElement("p"),M=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",M.position="fixed",M.width="100%",M.backgroundColor="#ffffff",M.border=".1em solid #000000",M.color="#b50000",M.bottom="0px",M.left="0px",M.margin="0px",M.zIndex="10000",M.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function I(A){const b=A.indexOf(":");return b<0?"":A.substr(0,b+1)}function P(A){if(!A)return null;const b=Number(A);return isNaN(b)?null:b}class U{constructor(b,M){this.providerId=b,this.signInMethod=M}toJSON(){return Ve("not implemented")}_getIdTokenResponse(b){return Ve("not implemented")}_linkToIdToken(b,M){return Ve("not implemented")}_getReauthenticationResolver(b){return Ve("not implemented")}}function N(A,b){return $.apply(this,arguments)}function $(){return($=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:resetPassword",ve(A,b))})).apply(this,arguments)}function Z(A,b){return ie.apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function se(A,b){return ee.apply(this,arguments)}function ee(){return(ee=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:update",ve(A,b))})).apply(this,arguments)}function et(){return(et=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithPassword",ve(A,b))})).apply(this,arguments)}function Ie(A,b){return we.apply(this,arguments)}function we(){return(we=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:sendOobCode",ve(A,b))})).apply(this,arguments)}function ke(A,b){return _e.apply(this,arguments)}function _e(){return(_e=(0,y.Z)(function*(A,b){return Ie(A,b)})).apply(this,arguments)}function ce(A,b){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,y.Z)(function*(A,b){return Ie(A,b)})).apply(this,arguments)}function $e(A,b){return xe.apply(this,arguments)}function xe(){return(xe=(0,y.Z)(function*(A,b){return Ie(A,b)})).apply(this,arguments)}function gn(A,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(A,b){return Ie(A,b)})).apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithEmailLink",ve(A,b))})).apply(this,arguments)}function Xn(){return(Xn=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithEmailLink",ve(A,b))})).apply(this,arguments)}class fn extends U{constructor(b,M,O,X=null){super("password",O),this._email=b,this._password=M,this._tenantId=X}static _fromEmailAndPassword(b,M){return new fn(b,M,"password")}static _fromEmailAndCode(b,M,O=null){return new fn(b,M,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const M="string"==typeof b?JSON.parse(b):b;if(M?.email&&M?.password){if("password"===M.signInMethod)return this._fromEmailAndPassword(M.email,M.password);if("emailLink"===M.signInMethod)return this._fromEmailAndCode(M.email,M.password,M.tenantId)}return null}_getIdTokenResponse(b){var M=this;return(0,y.Z)(function*(){switch(M.signInMethod){case"password":return function Ne(A,b){return et.apply(this,arguments)}(b,{returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function On(A,b){return mn.apply(this,arguments)}(b,{email:M._email,oobCode:M._password});default:Ct(b,"internal-error")}})()}_linkToIdToken(b,M){var O=this;return(0,y.Z)(function*(){switch(O.signInMethod){case"password":return Z(b,{idToken:M,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function Yt(A,b){return Xn.apply(this,arguments)}(b,{idToken:M,email:O._email,oobCode:O._password});default:Ct(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function dn(A,b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithIdp",ve(A,b))})).apply(this,arguments)}class ei extends U{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const M=new ei(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(M.idToken=b.idToken),b.accessToken&&(M.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(M.nonce=b.nonce),b.pendingToken&&(M.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(M.accessToken=b.oauthToken,M.secret=b.oauthTokenSecret):Ct("argument-error"),M}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const M="string"==typeof b?JSON.parse(b):b,{providerId:O,signInMethod:X}=M,re=(0,Le._T)(M,["providerId","signInMethod"]);if(!O||!X)return null;const Ue=new ei(O,X);return Ue.idToken=re.idToken||void 0,Ue.accessToken=re.accessToken||void 0,Ue.secret=re.secret,Ue.nonce=re.nonce,Ue.pendingToken=re.pendingToken||null,Ue}_getIdTokenResponse(b){return dn(b,this.buildRequest())}_linkToIdToken(b,M){const O=this.buildRequest();return O.idToken=M,dn(b,O)}_getReauthenticationResolver(b){const M=this.buildRequest();return M.autoCreate=!1,dn(b,M)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const M={};this.idToken&&(M.id_token=this.idToken),this.accessToken&&(M.access_token=this.accessToken),this.secret&&(M.oauth_token_secret=this.secret),M.providerId=this.providerId,this.nonce&&!this.pendingToken&&(M.nonce=this.nonce),b.postBody=(0,he.xO)(M)}return b}}function Ci(A,b){return ir.apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:sendVerificationCode",ve(A,b))})).apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithPhoneNumber",ve(A,b))})).apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(A,b){const M=yield Vt(A,"POST","/v1/accounts:signInWithPhoneNumber",ve(A,b));if(M.temporaryProof)throw qt(A,"account-exists-with-different-credential",M);return M})).apply(this,arguments)}const es={USER_NOT_FOUND:"user-not-found"};function pt(){return(pt=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithPhoneNumber",ve(A,Object.assign(Object.assign({},b),{operation:"REAUTH"})),es)})).apply(this,arguments)}class Lt extends U{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,M){return new Lt({verificationId:b,verificationCode:M})}static _fromTokenResponse(b,M){return new Lt({phoneNumber:b,temporaryProof:M})}_getIdTokenResponse(b){return function Ki(A,b){return gt.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,M){return function Cr(A,b){return Un.apply(this,arguments)}(b,Object.assign({idToken:M},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function dt(A,b){return pt.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:M,verificationId:O,verificationCode:X}=this.params;return b&&M?{temporaryProof:b,phoneNumber:M}:{sessionInfo:O,code:X}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:M,verificationCode:O,phoneNumber:X,temporaryProof:re}=b;return O||M||X||re?new Lt({verificationId:M,verificationCode:O,phoneNumber:X,temporaryProof:re}):null}}class on{constructor(b){var M,O,X,re,Ue,Et;const sn=(0,he.zd)((0,he.pd)(b)),un=null!==(M=sn.apiKey)&&void 0!==M?M:null,Vn=null!==(O=sn.oobCode)&&void 0!==O?O:null,Ii=function Ln(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=sn.mode)&&void 0!==X?X:null);Ee(un&&Vn&&Ii,"argument-error"),this.apiKey=un,this.operation=Ii,this.code=Vn,this.continueUrl=null!==(re=sn.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Ue=sn.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(Et=sn.tenantId)&&void 0!==Et?Et:null}static parseLink(b){const M=function Nt(A){const b=(0,he.zd)((0,he.pd)(A)).link,M=b?(0,he.zd)((0,he.pd)(b)).deep_link_id:null,O=(0,he.zd)((0,he.pd)(A)).deep_link_id;return(O?(0,he.zd)((0,he.pd)(O)).link:null)||O||M||b||A}(b);try{return new on(M)}catch{return null}}}let Jn=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(M,O){return fn._fromEmailAndPassword(M,O)}static credentialWithLink(M,O){const X=on.parseLink(O);return Ee(X,"argument-error"),fn._fromEmailAndCode(M,X.code,X.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Kt{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class qn extends Kt{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class vi extends qn{static credentialFromJSON(b){const M="string"==typeof b?JSON.parse(b):b;return Ee("providerId"in M&&"signInMethod"in M,"argument-error"),ei._fromParams(M)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return Ee(b.idToken||b.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return vi.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return vi.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:X,pendingToken:re,nonce:Ue,providerId:Et}=b;if(!O&&!X&&!M&&!re||!Et)return null;try{return new vi(Et)._credential({idToken:M,accessToken:O,nonce:Ue,pendingToken:re})}catch{return null}}}let ti=(()=>{class A extends qn{constructor(){super("facebook.com")}static credential(M){return ei._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return A.credentialFromTaggedObject(M)}static credentialFromError(M){return A.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return A.credential(M.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),cn=(()=>{class A extends qn{constructor(){super("google.com"),this.addScope("profile")}static credential(M,O){return ei._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:M,accessToken:O})}static credentialFromResult(M){return A.credentialFromTaggedObject(M)}static credentialFromError(M){return A.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthIdToken:O,oauthAccessToken:X}=M;if(!O&&!X)return null;try{return A.credential(O,X)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),wn=(()=>{class A extends qn{constructor(){super("github.com")}static credential(M){return ei._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return A.credentialFromTaggedObject(M)}static credentialFromError(M){return A.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return A.credential(M.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class Fn extends U{constructor(b,M){super(b,b),this.pendingToken=M}_getIdTokenResponse(b){return dn(b,this.buildRequest())}_linkToIdToken(b,M){const O=this.buildRequest();return O.idToken=M,dn(b,O)}_getReauthenticationResolver(b){const M=this.buildRequest();return M.autoCreate=!1,dn(b,M)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const M="string"==typeof b?JSON.parse(b):b,{providerId:O,signInMethod:X,pendingToken:re}=M;return O&&X&&re&&O===X?new Fn(O,re):null}static _create(b,M){return new Fn(b,M)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends Kt{constructor(b){Ee(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return fi.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return fi.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const M=Fn.fromJSON(b);return Ee(M,"argument-error"),M}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:M,providerId:O}=b;if(!M||!O)return null;try{return Fn._create(O,M)}catch{return null}}}let $i=(()=>{class A extends qn{constructor(){super("twitter.com")}static credential(M,O){return ei._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:M,oauthTokenSecret:O})}static credentialFromResult(M){return A.credentialFromTaggedObject(M)}static credentialFromError(M){return A.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthAccessToken:O,oauthTokenSecret:X}=M;if(!O||!X)return null;try{return A.credential(O,X)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function _n(A,b){return Li.apply(this,arguments)}function Li(){return(Li=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signUp",ve(A,b))})).apply(this,arguments)}class Pr{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,M,O,X=!1){return(0,y.Z)(function*(){const re=yield tt._fromIdTokenResponse(b,O,X),Ue=Eo(O);return new Pr({user:re,providerId:Ue,_tokenResponse:O,operationType:M})})()}static _forOperation(b,M,O){return(0,y.Z)(function*(){yield b._updateTokensIfNecessary(O,!0);const X=Eo(O);return new Pr({user:b,providerId:X,_tokenResponse:O,operationType:M})})()}}function Eo(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function pl(A){return fl.apply(this,arguments)}function fl(){return(fl=(0,y.Z)(function*(A){var b;const M=S(A);if(yield M._initializationPromise,null!==(b=M.currentUser)&&void 0!==b&&b.isAnonymous)return new Pr({user:M.currentUser,providerId:null,operationType:"signIn"});const O=yield _n(M,{returnSecureToken:!0}),X=yield Pr._fromIdTokenResponse(M,"signIn",O,!0);return yield M._updateCurrentUser(X.user),X})).apply(this,arguments)}class gl extends he.ZR{constructor(b,M,O,X){var re;super(M.code,M.message),this.operationType=O,this.user=X,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:b.name,tenantId:null!==(re=b.tenantId)&&void 0!==re?re:void 0,_serverResponse:M.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(b,M,O,X){return new gl(b,M,O,X)}}function ye(A,b,M,O){return("reauthenticate"===b?M._getReauthenticationResolver(A):M._getIdTokenResponse(A)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?gl._fromErrorAndOperation(A,re,b,O):re})}function fe(A){return new Set(A.map(({providerId:b})=>b).filter(b=>!!b))}function Se(A,b){return rt.apply(this,arguments)}function rt(){return(rt=(0,y.Z)(function*(A,b){const M=(0,he.m9)(A);yield rn(!0,M,b);const{providerUserInfo:O}=yield Gt(M.auth,{idToken:yield M.getIdToken(),deleteProvider:[b]}),X=fe(O||[]);return M.providerData=M.providerData.filter(re=>X.has(re.providerId)),X.has("phone")||(M.phoneNumber=null),yield M.auth._persistUserIfCurrent(M),M})).apply(this,arguments)}function wt(A,b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(A,b,M=!1){const O=yield li(A,b._linkToIdToken(A.auth,yield A.getIdToken()),M);return Pr._forOperation(A,"link",O)})).apply(this,arguments)}function rn(A,b,M){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(A,b,M){yield ii(b);const X=!1===A?"provider-already-linked":"no-such-provider";Ee(fe(b.providerData).has(M)===A,b.auth,X)})).apply(this,arguments)}function Bn(A,b){return zn.apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(A,b,M=!1){const{auth:O}=A,X="reauthenticate";try{const re=yield li(A,ye(O,X,b,A),M);Ee(re.idToken,O,"internal-error");const Ue=$t(re.idToken);Ee(Ue,O,"internal-error");const{sub:Et}=Ue;return Ee(A.uid===Et,O,"user-mismatch"),Pr._forOperation(A,X,re)}catch(re){throw"auth/user-not-found"===re?.code&&Ct(O,"user-mismatch"),re}})).apply(this,arguments)}function ci(A,b){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,y.Z)(function*(A,b,M=!1){const O="signIn",X=yield ye(A,O,b),re=yield Pr._fromIdTokenResponse(A,O,X);return M||(yield A._updateCurrentUser(re.user)),re})).apply(this,arguments)}function wi(A,b){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,y.Z)(function*(A,b){return ci(S(A),b)})).apply(this,arguments)}function Ds(A,b){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,y.Z)(function*(A,b){const M=(0,he.m9)(A);return yield rn(!1,M,b.providerId),wt(M,b)})).apply(this,arguments)}function ts(A,b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(A,b){return Bn((0,he.m9)(A),b)})).apply(this,arguments)}function Di(A,b){return Do.apply(this,arguments)}function Do(){return(Do=(0,y.Z)(function*(A,b){return Vt(A,"POST","/v1/accounts:signInWithCustomToken",ve(A,b))})).apply(this,arguments)}function lh(A,b){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(A,b){const M=S(A),O=yield Di(M,{token:b,returnSecureToken:!0}),X=yield Pr._fromIdTokenResponse(M,"signIn",O);return yield M._updateCurrentUser(X.user),X})).apply(this,arguments)}class rr{constructor(b,M){this.factorId=b,this.uid=M.mfaEnrollmentId,this.enrollmentTime=new Date(M.enrolledAt).toUTCString(),this.displayName=M.displayName}static _fromServerResponse(b,M){return"phoneInfo"in M?_u._fromServerResponse(b,M):Ct(b,"internal-error")}}class _u extends rr{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,M){return new _u(M)}}function Ks(A,b,M){var O;Ee((null===(O=M.url)||void 0===O?void 0:O.length)>0,A,"invalid-continue-uri"),Ee(typeof M.dynamicLinkDomain>"u"||M.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),b.continueUrl=M.url,b.dynamicLinkDomain=M.dynamicLinkDomain,b.canHandleCodeInApp=M.handleCodeInApp,M.iOS&&(Ee(M.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),b.iOSBundleId=M.iOS.bundleId),M.android&&(Ee(M.android.packageName.length>0,A,"missing-android-pkg-name"),b.androidInstallApp=M.android.installApp,b.androidMinimumVersionCode=M.android.minimumVersion,b.androidPackageName=M.android.packageName)}function kp(A,b,M){return ms.apply(this,arguments)}function ms(){return(ms=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A),X={requestType:"PASSWORD_RESET",email:b};M&&Ks(O,X,M),yield ce(O,X)})).apply(this,arguments)}function uh(A,b,M){return ma.apply(this,arguments)}function ma(){return(ma=(0,y.Z)(function*(A,b,M){yield N((0,he.m9)(A),{oobCode:b,newPassword:M})})).apply(this,arguments)}function Nn(A,b){return ml.apply(this,arguments)}function ml(){return(ml=(0,y.Z)(function*(A,b){yield se((0,he.m9)(A),{oobCode:b})})).apply(this,arguments)}function yy(A,b){return xu.apply(this,arguments)}function xu(){return(xu=(0,y.Z)(function*(A,b){const M=(0,he.m9)(A),O=yield N(M,{oobCode:b}),X=O.requestType;switch(Ee(X,M,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(O.newEmail,M,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(O.mfaInfo,M,"internal-error");default:Ee(O.email,M,"internal-error")}let re=null;return O.mfaInfo&&(re=rr._fromServerResponse(S(M),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:re},operation:X}})).apply(this,arguments)}function Fp(A,b){return bu.apply(this,arguments)}function bu(){return(bu=(0,y.Z)(function*(A,b){const{data:M}=yield yy((0,he.m9)(A),b);return M.email})).apply(this,arguments)}function ch(A,b,M){return hh.apply(this,arguments)}function hh(){return(hh=(0,y.Z)(function*(A,b,M){const O=S(A),X=yield _n(O,{returnSecureToken:!0,email:b,password:M}),re=yield Pr._fromIdTokenResponse(O,"signIn",X);return yield O._updateCurrentUser(re.user),re})).apply(this,arguments)}function Rp(A,b,M){return wi((0,he.m9)(A),Jn.credential(b,M))}function vt(A,b,M){return ri.apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A),X={requestType:"EMAIL_SIGNIN",email:b};Ee(M.handleCodeInApp,O,"argument-error"),M&&Ks(O,X,M),yield $e(O,X)})).apply(this,arguments)}function Op(A,b){return"EMAIL_SIGNIN"===on.parseLink(b)?.operation}function Lp(A,b,M){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A),X=Jn.credentialWithLink(b,M||je());return Ee(X._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),wi(O,X)})).apply(this,arguments)}function Np(A,b){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:createAuthUri",ve(A,b))})).apply(this,arguments)}function ns(A,b){return yl.apply(this,arguments)}function yl(){return(yl=(0,y.Z)(function*(A,b){const O={identifier:b,continueUri:Qe()?je():"http://localhost"},{signinMethods:X}=yield Np((0,he.m9)(A),O);return X||[]})).apply(this,arguments)}function dh(A,b){return ph.apply(this,arguments)}function ph(){return(ph=(0,y.Z)(function*(A,b){const M=(0,he.m9)(A),X={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};b&&Ks(M.auth,X,b);const{email:re}=yield ke(M.auth,X);re!==A.email&&(yield A.reload())})).apply(this,arguments)}function Vp(A,b,M){return vl.apply(this,arguments)}function vl(){return(vl=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:b};M&&Ks(O.auth,re,M);const{email:Ue}=yield gn(O.auth,re);Ue!==A.email&&(yield A.reload())})).apply(this,arguments)}function dr(A,b){return kr.apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(A,b){return Me(A,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Po(A,b){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,y.Z)(function*(A,{displayName:b,photoURL:M}){if(void 0===b&&void 0===M)return;const O=(0,he.m9)(A),re={idToken:yield O.getIdToken(),displayName:b,photoUrl:M,returnSecureToken:!0},Ue=yield li(O,dr(O.auth,re));O.displayName=Ue.displayName||null,O.photoURL=Ue.photoUrl||null;const Et=O.providerData.find(({providerId:sn})=>"password"===sn);Et&&(Et.displayName=O.displayName,Et.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function As(A,b){return _l((0,he.m9)(A),b,null)}function fh(A,b){return _l((0,he.m9)(A),null,b)}function _l(A,b,M){return gh.apply(this,arguments)}function gh(){return(gh=(0,y.Z)(function*(A,b,M){const{auth:O}=A,re={idToken:yield A.getIdToken(),returnSecureToken:!0};b&&(re.email=b),M&&(re.password=M);const Ue=yield li(A,Z(O,re));yield A._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class Ps{constructor(b,M,O={}){this.isNewUser=b,this.providerId=M,this.profile=O}}class ya extends Ps{constructor(b,M,O,X){super(b,M,O),this.username=X}}class Bp extends Ps{constructor(b,M){super(b,"facebook.com",M)}}class mh extends ya{constructor(b,M){super(b,"github.com",M,"string"==typeof M?.login?M?.login:null)}}class _y extends Ps{constructor(b,M){super(b,"google.com",M)}}class Wp extends ya{constructor(b,M,O){super(b,"twitter.com",M,O)}}function yh(A){const{user:b,_tokenResponse:M}=A;return b.isAnonymous&&!M?{providerId:null,isNewUser:!1,profile:null}:function vy(A){var b,M;if(!A)return null;const{providerId:O}=A,X=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},re=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!O&&A?.idToken){const Ue=null===(M=null===(b=$t(A.idToken))||void 0===b?void 0:b.firebase)||void 0===M?void 0:M.sign_in_provider;if(Ue)return new Ps(re,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!O)return null;switch(O){case"facebook.com":return new Bp(re,X);case"github.com":return new mh(re,X);case"google.com":return new _y(re,X);case"twitter.com":return new Wp(re,X,A.screenName||null);case"custom":case"anonymous":return new Ps(re,null);default:return new Ps(re,O,X)}}(M)}class _i{constructor(b,M,O){this.type=b,this.credential=M,this.auth=O}static _fromIdtoken(b,M){return new _i("enroll",b,M)}static _fromMfaPendingCredential(b){return new _i("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var M,O;if(b?.multiFactorSession){if(null!==(M=b.multiFactorSession)&&void 0!==M&&M.pendingCredential)return _i._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(O=b.multiFactorSession)&&void 0!==O&&O.idToken)return _i._fromIdtoken(b.multiFactorSession.idToken)}return null}}class vh{constructor(b,M,O){this.session=b,this.hints=M,this.signInResolver=O}static _fromError(b,M){const O=S(b),X=M.customData._serverResponse,re=(X.mfaInfo||[]).map(Et=>rr._fromServerResponse(O,Et));Ee(X.mfaPendingCredential,O,"internal-error");const Ue=_i._fromMfaPendingCredential(X.mfaPendingCredential);return new vh(Ue,re,function(){var Et=(0,y.Z)(function*(sn){const un=yield sn._process(O,Ue);delete X.mfaInfo,delete X.mfaPendingCredential;const Vn=Object.assign(Object.assign({},X),{idToken:un.idToken,refreshToken:un.refreshToken});switch(M.operationType){case"signIn":const Ii=yield Pr._fromIdTokenResponse(O,M.operationType,Vn);return yield O._updateCurrentUser(Ii.user),Ii;case"reauthenticate":return Ee(M.user,O,"internal-error"),Pr._forOperation(M.user,M.operationType,Vn);default:Ct(O,"internal-error")}});return function(sn){return Et.apply(this,arguments)}}())}resolveSignIn(b){var M=this;return(0,y.Z)(function*(){return M.signInResolver(b)})()}}function wy(A,b){var M;const O=(0,he.m9)(A),X=b;return Ee(b.customData.operationType,O,"argument-error"),Ee(null===(M=X.customData._serverResponse)||void 0===M?void 0:M.mfaPendingCredential,O,"argument-error"),vh._fromError(O,X)}function Ty(A,b){return Me(A,"POST","/v2/accounts/mfaEnrollment:start",ve(A,b))}class _h{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(M=>{M.mfaInfo&&(this.enrolledFactors=M.mfaInfo.map(O=>rr._fromServerResponse(b.auth,O)))})}static _fromUser(b){return new _h(b)}getSession(){var b=this;return(0,y.Z)(function*(){return _i._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,M){var O=this;return(0,y.Z)(function*(){const X=b,re=yield O.getSession(),Ue=yield li(O.user,X._process(O.user.auth,re,M));return yield O.user._updateTokensIfNecessary(Ue),O.user.reload()})()}unenroll(b){var M=this;return(0,y.Z)(function*(){const O="string"==typeof b?b:b.uid,X=yield M.user.getIdToken();try{const re=yield li(M.user,function Sy(A,b){return Me(A,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(A,b))}(M.user.auth,{idToken:X,mfaEnrollmentId:O}));M.enrolledFactors=M.enrolledFactors.filter(({uid:Ue})=>Ue!==O),yield M.user._updateTokensIfNecessary(re),yield M.user.reload()}catch(re){throw re}})()}}const va=new WeakMap;function Cu(A){const b=(0,he.m9)(A);return va.has(b)||va.set(b,_h._fromUser(b)),va.get(b)}const Js="__sak";class ko{constructor(b,M){this.storageRetriever=b,this.type=M}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,M){return this.storage.setItem(b,JSON.stringify(M)),Promise.resolve()}_get(b){const M=this.storage.getItem(b);return Promise.resolve(M?JSON.parse(M):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const wu=(()=>{class A extends ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(M,O)=>this.onStorageEvent(M,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fo(){const A=(0,he.z$)();return ae(A)||o(A)}()&&function v(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=d(),this._shouldAllowMigration=!0}forAllChangedKeys(M){for(const O of Object.keys(this.listeners)){const X=this.storage.getItem(O),re=this.localCache[O];X!==re&&M(O,re,X)}}onStorageEvent(M,O=!1){if(!M.key)return void this.forAllChangedKeys((Et,sn,un)=>{this.notifyListeners(Et,un)});const X=M.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Et=this.storage.getItem(X);if(M.newValue!==Et)null!==M.newValue?this.storage.setItem(X,M.newValue):this.storage.removeItem(X);else if(this.localCache[X]===M.newValue&&!O)return}const re=()=>{const Et=this.storage.getItem(X);!O&&this.localCache[X]===Et||this.notifyListeners(X,Et)},Ue=this.storage.getItem(X);!function l(){return(0,he.w1)()&&10===document.documentMode}()||Ue===M.newValue||M.newValue===M.oldValue?re():setTimeout(re,10)}notifyListeners(M,O){this.localCache[M]=O;const X=this.listeners[M];if(X)for(const re of Array.from(X))re(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((M,O,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:M,oldValue:O,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(M,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[M]||(this.listeners[M]=new Set,this.localCache[M]=this.storage.getItem(M)),this.listeners[M].add(O)}_removeListener(M,O){this.listeners[M]&&(this.listeners[M].delete(O),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(M,O){var X=()=>super._set,re=this;return(0,y.Z)(function*(){yield X().call(re,M,O),re.localCache[M]=JSON.stringify(O)})()}_get(M){var O=()=>super._get,X=this;return(0,y.Z)(function*(){const re=yield O().call(X,M);return X.localCache[M]=JSON.stringify(re),re})()}_remove(M){var O=()=>super._remove,X=this;return(0,y.Z)(function*(){yield O().call(X,M),delete X.localCache[M]})()}}return A.type="LOCAL",A})(),_a=(()=>{class A extends ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(M,O){}_removeListener(M,O){}}return A.type="SESSION",A})();let $p=(()=>{class A{constructor(M){this.eventTarget=M,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(M){const O=this.receivers.find(re=>re.isListeningto(M));if(O)return O;const X=new A(M);return this.receivers.push(X),X}isListeningto(M){return this.eventTarget===M}handleEvent(M){var O=this;return(0,y.Z)(function*(){const X=M,{eventId:re,eventType:Ue,data:Et}=X.data,sn=O.handlersMap[Ue];if(!sn?.size)return;X.ports[0].postMessage({status:"ack",eventId:re,eventType:Ue});const un=Array.from(sn).map(function(){var Ii=(0,y.Z)(function*(Ur){return Ur(X.origin,Et)});return function(Ur){return Ii.apply(this,arguments)}}()),Vn=yield function Iy(A){return Promise.all(A.map(function(){var b=(0,y.Z)(function*(M){try{return{fulfilled:!0,value:yield M}}catch(O){return{fulfilled:!1,reason:O}}});return function(M){return b.apply(this,arguments)}}()))}(un);X.ports[0].postMessage({status:"done",eventId:re,eventType:Ue,response:Vn})})()}_subscribe(M,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[M]||(this.handlersMap[M]=new Set),this.handlersMap[M].add(O)}_unsubscribe(M,O){this.handlersMap[M]&&O&&this.handlersMap[M].delete(O),(!O||0===this.handlersMap[M].size)&&delete this.handlersMap[M],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function ks(A="",b=10){let M="";for(let O=0;O<b;O++)M+=Math.floor(10*Math.random());return A+M}class Tu{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,M,O=50){var X=this;return(0,y.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Ue,Et;return new Promise((sn,un)=>{const Vn=ks("",20);re.port1.start();const Ii=setTimeout(()=>{un(new Error("unsupported_event"))},O);Et={messageChannel:re,onMessage(Ur){const zr=Ur;if(zr.data.eventId===Vn)switch(zr.data.status){case"ack":clearTimeout(Ii),Ue=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),sn(zr.data.response);break;default:clearTimeout(Ii),clearTimeout(Ue),un(new Error("invalid_response"))}}},X.handlers.add(Et),re.port1.addEventListener("message",Et.onMessage),X.target.postMessage({eventType:b,eventId:Vn,data:M},[re.port2])}).finally(()=>{Et&&X.removeMessageHandler(Et)})})()}}function Gi(){return window}function Fs(){return typeof Gi().WorkerGlobalScope<"u"&&"function"==typeof Gi().importScripts}function _s(){return(_s=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ro="firebaseLocalStorageDb",qs="firebaseLocalStorage",wl="fbase_key";class Rs{constructor(b){this.request=b}toPromise(){return new Promise((b,M)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{M(this.request.error)})})}}function xa(A,b){return A.transaction([qs],b?"readwrite":"readonly").objectStore(qs)}function Oo(){const A=indexedDB.open(Ro,1);return new Promise((b,M)=>{A.addEventListener("error",()=>{M(A.error)}),A.addEventListener("upgradeneeded",()=>{const O=A.result;try{O.createObjectStore(qs,{keyPath:wl})}catch(X){M(X)}}),A.addEventListener("success",(0,y.Z)(function*(){const O=A.result;O.objectStoreNames.contains(qs)?b(O):(O.close(),yield function Iu(){const A=indexedDB.deleteDatabase(Ro);return new Rs(A).toPromise()}(),b(yield Oo()))}))})}function Tl(A,b,M){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(A,b,M){const O=xa(A,!0).put({[wl]:b,value:M});return new Rs(O).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,y.Z)(function*(A,b){const M=xa(A,!1).get(b),O=yield new Rs(M).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function Ml(A,b){const M=xa(A,!0).delete(b);return new Rs(M).toPromise()}const Ch=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var M=this;return(0,y.Z)(function*(){return M.db||(M.db=yield Oo()),M.db})()}_withRetries(M){var O=this;return(0,y.Z)(function*(){let X=0;for(;;)try{const re=yield O._openDb();return yield M(re)}catch(re){if(X++>3)throw re;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var M=this;return(0,y.Z)(function*(){return Fs()?M.initializeReceiver():M.initializeSender()})()}initializeReceiver(){var M=this;return(0,y.Z)(function*(){M.receiver=$p._getInstance(function Su(){return Fs()?self:null}()),M.receiver._subscribe("keyChanged",function(){var O=(0,y.Z)(function*(X,re){return{keyProcessed:(yield M._poll()).includes(re.key)}});return function(X,re){return O.apply(this,arguments)}}()),M.receiver._subscribe("ping",function(){var O=(0,y.Z)(function*(X,re){return["keyChanged"]});return function(X,re){return O.apply(this,arguments)}}())})()}initializeSender(){var M=this;return(0,y.Z)(function*(){var O,X;if(M.activeServiceWorker=yield function Mu(){return _s.apply(this,arguments)}(),!M.activeServiceWorker)return;M.sender=new Tu(M.activeServiceWorker);const re=yield M.sender._send("ping",{},800);re&&null!==(O=re[0])&&void 0!==O&&O.fulfilled&&null!==(X=re[0])&&void 0!==X&&X.value.includes("keyChanged")&&(M.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(M){var O=this;return(0,y.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Cl(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:M},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const M=yield Oo();return yield Tl(M,Js,"1"),yield Ml(M,Js),!0}catch{}return!1})()}_withPendingWrite(M){var O=this;return(0,y.Z)(function*(){O.pendingWrites++;try{yield M()}finally{O.pendingWrites--}})()}_set(M,O){var X=this;return(0,y.Z)(function*(){return X._withPendingWrite((0,y.Z)(function*(){return yield X._withRetries(re=>Tl(re,M,O)),X.localCache[M]=O,X.notifyServiceWorker(M)}))})()}_get(M){var O=this;return(0,y.Z)(function*(){const X=yield O._withRetries(re=>function xh(A,b){return eo.apply(this,arguments)}(re,M));return O.localCache[M]=X,X})()}_remove(M){var O=this;return(0,y.Z)(function*(){return O._withPendingWrite((0,y.Z)(function*(){return yield O._withRetries(X=>Ml(X,M)),delete O.localCache[M],O.notifyServiceWorker(M)}))})()}_poll(){var M=this;return(0,y.Z)(function*(){const O=yield M._withRetries(Ue=>{const Et=xa(Ue,!1).getAll();return new Rs(Et).toPromise()});if(!O)return[];if(0!==M.pendingWrites)return[];const X=[],re=new Set;for(const{fbase_key:Ue,value:Et}of O)re.add(Ue),JSON.stringify(M.localCache[Ue])!==JSON.stringify(Et)&&(M.notifyListeners(Ue,Et),X.push(Ue));for(const Ue of Object.keys(M.localCache))M.localCache[Ue]&&!re.has(Ue)&&(M.notifyListeners(Ue,null),X.push(Ue));return X})()}notifyListeners(M,O){this.localCache[M]=O;const X=this.listeners[M];if(X)for(const re of Array.from(X))re(O)}startPolling(){var M=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return M._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(M,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[M]||(this.listeners[M]=new Set,this._get(M)),this.listeners[M].add(O)}_removeListener(M,O){this.listeners[M]&&(this.listeners[M].delete(O),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();function wh(A,b){return Me(A,"POST","/v2/accounts/mfaSignIn:start",ve(A,b))}function Au(){return(Au=(0,y.Z)(function*(A){return(yield Me(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lo(A){return new Promise((b,M)=>{const O=document.createElement("script");O.setAttribute("src",A),O.onload=b,O.onerror=X=>{const re=Tt("internal-error");re.customData=X,M(re)},O.type="text/javascript",O.charset="UTF-8",function Ey(){var A,b;return null!==(b=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==b?b:document}().appendChild(O)})}function to(A){return`__${A}${Math.floor(1e6*Math.random())}`}const ba=1e12;class no{constructor(b){this.auth=b,this.counter=ba,this._widgets=new Map}render(b,M){const O=this.counter;return this._widgets.set(O,new Gp(b,this.auth.name,M||{})),this.counter++,O}reset(b){var M;const O=b||ba;null===(M=this._widgets.get(O))||void 0===M||M.delete(),this._widgets.delete(O)}getResponse(b){var M;return(null===(M=this._widgets.get(b||ba))||void 0===M?void 0:M.getResponse())||""}execute(b){var M=this;return(0,y.Z)(function*(){var O;return null===(O=M._widgets.get(b||ba))||void 0===O||O.execute(),""})()}}class Gp{constructor(b,M,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof b?document.getElementById(b):b;Ee(X,"argument-error",{appName:M}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pu(A){const b=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<A;O++)b.push(M.charAt(Math.floor(Math.random()*M.length)));return b.join("")}(50);const{callback:b,"expired-callback":M}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,M)try{M()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const No=to("rcb"),Sh=new ct(3e4,6e4);class Eh{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=Gi().grecaptcha)||void 0===b||!b.render)}load(b,M=""){return Ee(function Vo(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(M),b,"argument-error"),this.shouldResolveImmediately(M)?Promise.resolve(Gi().grecaptcha):new Promise((O,X)=>{const re=Gi().setTimeout(()=>{X(Tt(b,"network-request-failed"))},Sh.get());Gi()[No]=()=>{Gi().clearTimeout(re),delete Gi()[No];const Et=Gi().grecaptcha;if(!Et)return void X(Tt(b,"internal-error"));const sn=Et.render;Et.render=(un,Vn)=>{const Ii=sn(un,Vn);return this.counter++,Ii},this.hostLanguage=M,O(Et)},Lo(`https://www.google.com/recaptcha/api.js??${(0,he.xO)({onload:No,render:"explicit",hl:M})}`).catch(()=>{clearTimeout(re),X(Tt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var M;return!(null===(M=Gi().grecaptcha)||void 0===M||!M.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(b){return(0,y.Z)(function*(){return new no(b)})()}clearedOneInstance(){}}const io="recaptcha",ku={theme:"light",type:"image"};class Fu{constructor(b,M=Object.assign({},ku),O){this.parameters=M,this.type=io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=S(O),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof b?document.getElementById(b):b;Ee(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new Eh,this.validateStartingState()}verify(){var b=this;return(0,y.Z)(function*(){b.assertNotDestroyed();const M=yield b.render(),O=b.getAssertedRecaptcha();return O.getResponse(M)||new Promise(re=>{const Ue=Et=>{Et&&(b.tokenChangeListeners.delete(Ue),re(Et))};b.tokenChangeListeners.add(Ue),b.isInvisible&&O.execute(M)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return M=>{if(this.tokenChangeListeners.forEach(O=>O(M)),"function"==typeof b)b(M);else if("string"==typeof b){const O=Gi()[b];"function"==typeof O&&O(M)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,y.Z)(function*(){if(yield b.init(),!b.widgetId){let M=b.container;if(!b.isInvisible){const O=document.createElement("div");M.appendChild(O),M=O}b.widgetId=b.getAssertedRecaptcha().render(M,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,y.Z)(function*(){Ee(Qe()&&!Fs(),b.auth,"internal-error"),yield function Bo(){let A=null;return new Promise(b=>{"complete"!==document.readyState?(A=()=>b(),window.addEventListener("load",A)):b()}).catch(b=>{throw A&&window.removeEventListener("load",A),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const M=yield function Sl(A){return Au.apply(this,arguments)}(b.auth);Ee(M,b.auth,"internal-error"),b.parameters.sitekey=M})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zp{constructor(b,M){this.verificationId=b,this.onConfirmation=M}confirm(b){const M=Lt._fromVerification(this.verificationId,b);return this.onConfirmation(M)}}function Dy(A,b,M){return gi.apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(A,b,M){const O=S(A),X=yield El(O,b,(0,he.m9)(M));return new Zp(X,re=>wi(O,re))})).apply(this,arguments)}function ro(A,b,M){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A);yield rn(!1,O,"phone");const X=yield El(O.auth,b,(0,he.m9)(M));return new Zp(X,re=>Ds(O,re))})).apply(this,arguments)}function Ay(A,b,M){return Il.apply(this,arguments)}function Il(){return(Il=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A),X=yield El(O.auth,b,(0,he.m9)(M));return new Zp(X,re=>ts(O,re))})).apply(this,arguments)}function El(A,b,M){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,y.Z)(function*(A,b,M){var O;const X=yield M.verify();try{let re;if(Ee("string"==typeof X,A,"argument-error"),Ee(M.type===io,A,"argument-error"),re="string"==typeof b?{phoneNumber:b}:b,"session"in re){const Ue=re.session;if("phoneNumber"in re)return Ee("enroll"===Ue.type,A,"internal-error"),(yield Ty(A,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Ue.type,A,"internal-error");const Et=(null===(O=re.multiFactorHint)||void 0===O?void 0:O.uid)||re.multiFactorUid;return Ee(Et,A,"missing-multi-factor-info"),(yield wh(A,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:Et,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield Ci(A,{phoneNumber:re.phoneNumber,recaptchaToken:X});return Ue}}finally{M._reset()}})).apply(this,arguments)}function S0(A,b){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,y.Z)(function*(A,b){yield wt((0,he.m9)(A),b)})).apply(this,arguments)}let Py=(()=>{class A{constructor(M){this.providerId=A.PROVIDER_ID,this.auth=S(M)}verifyPhoneNumber(M,O){return El(this.auth,M,(0,he.m9)(O))}static credential(M,O){return Lt._fromVerification(M,O)}static credentialFromResult(M){return A.credentialFromTaggedObject(M)}static credentialFromError(M){return A.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{phoneNumber:O,temporaryProof:X}=M;return O&&X?Lt._fromTokenResponse(O,X):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function wa(A,b){return b?kt(b):(Ee(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Yi extends U{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return dn(b,this._buildIdpRequest())}_linkToIdToken(b,M){return dn(b,this._buildIdpRequest(M))}_getReauthenticationResolver(b){return dn(b,this._buildIdpRequest())}_buildIdpRequest(b){const M={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(M.idToken=b),M}}function Ah(A){return ci(A.auth,new Yi(A),A.bypassAuthState)}function Dl(A){const{auth:b,user:M}=A;return Ee(M,b,"internal-error"),Bn(M,new Yi(A),A.bypassAuthState)}function ky(A){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,y.Z)(function*(A){const{auth:b,user:M}=A;return Ee(M,b,"internal-error"),wt(M,new Yi(A),A.bypassAuthState)})).apply(this,arguments)}class so{constructor(b,M,O,X,re=!1){this.auth=b,this.resolver=O,this.user=X,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(M)?M:[M]}execute(){var b=this;return new Promise(function(){var M=(0,y.Z)(function*(O,X){b.pendingPromise={resolve:O,reject:X};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(re){b.reject(re)}});return function(O,X){return M.apply(this,arguments)}}())}onAuthEvent(b){var M=this;return(0,y.Z)(function*(){const{urlResponse:O,sessionId:X,postBody:re,tenantId:Ue,error:Et,type:sn}=b;if(Et)return void M.reject(Et);const un={auth:M.auth,requestUri:O,sessionId:X,tenantId:Ue||void 0,postBody:re||void 0,user:M.user,bypassAuthState:M.bypassAuthState};try{M.resolve(yield M.getIdpTask(sn)(un))}catch(Vn){M.reject(Vn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Ah;case"linkViaPopup":case"linkViaRedirect":return ky;case"reauthViaPopup":case"reauthViaRedirect":return Dl;default:Ct(this.auth,"internal-error")}}resolve(b){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qp=new ct(2e3,1e4);function Ru(A,b,M){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,y.Z)(function*(A,b,M){const O=S(A);Ze(A,b,Kt);const X=wa(O,M);return new pr(O,"signInViaPopup",b,X).executeNotNull()})).apply(this,arguments)}function Fy(A,b,M){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A);Ze(O.auth,b,Kt);const X=wa(O.auth,M);return new pr(O.auth,"reauthViaPopup",b,X,O).executeNotNull()})).apply(this,arguments)}function Ry(A,b,M){return qp.apply(this,arguments)}function qp(){return(qp=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A);Ze(O.auth,b,Kt);const X=wa(O.auth,M);return new pr(O.auth,"linkViaPopup",b,X,O).executeNotNull()})).apply(this,arguments)}let pr=(()=>{class A extends so{constructor(M,O,X,re,Ue){super(M,O,re,Ue),this.provider=X,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var M=this;return(0,y.Z)(function*(){const O=yield M.execute();return Ee(O,M.auth,"internal-error"),O})()}onExecution(){var M=this;return(0,y.Z)(function*(){ot(1===M.filter.length,"Popup operations only handle one event");const O=ks();M.authWindow=yield M.resolver._openPopup(M.auth,M.provider,M.filter[0],O),M.authWindow.associatedEvent=O,M.resolver._originValidation(M.auth).catch(X=>{M.reject(X)}),M.resolver._isIframeWebStorageSupported(M.auth,X=>{X||M.reject(Tt(M.auth,"web-storage-unsupported"))}),M.pollUserCancellation()})()}get eventId(){var M;return(null===(M=this.authWindow)||void 0===M?void 0:M.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const M=()=>{var O,X;this.pollId=null!==(X=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(M,Qp.get())};M()}}return A.currentPopupAction=null,A})();const di=new Map;class Yr extends so{constructor(b,M,O=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],M,void 0,O),this.eventId=null}execute(){var b=()=>super.execute,M=this;return(0,y.Z)(function*(){let O=di.get(M.auth._key());if(!O){try{const re=(yield function kh(A,b){return Ou.apply(this,arguments)}(M.resolver,M.auth))?yield b().call(M):null;O=()=>Promise.resolve(re)}catch(X){O=()=>Promise.reject(X)}di.set(M.auth._key(),O)}return M.bypassAuthState||di.set(M.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(b){var M=()=>super.onAuthEvent,O=this;return(0,y.Z)(function*(){if("signInViaRedirect"===b.type)return M().call(O,b);if("unknown"!==b.type){if(b.eventId){const X=yield O.auth._redirectUserForId(b.eventId);if(X)return O.user=X,M().call(O,b);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Ou(){return(Ou=(0,y.Z)(function*(A,b){const M=is(b),O=zo(A);if(!(yield O._isAvailable()))return!1;const X="true"===(yield O._get(M));return yield O._remove(M),X})).apply(this,arguments)}function Lu(A,b){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,y.Z)(function*(A,b){return zo(A)._set(is(b),"true")})).apply(this,arguments)}function Fh(){di.clear()}function Rh(A,b){di.set(A._key(),b)}function zo(A){return kt(A._redirectPersistence)}function is(A){return oe("pendingRedirect",A.config.apiKey,A.name)}function zi(A,b,M){return function Mn(A,b,M){return oo.apply(this,arguments)}(A,b,M)}function oo(){return(oo=(0,y.Z)(function*(A,b,M){const O=S(A);Ze(A,b,Kt),yield O._initializationPromise;const X=wa(O,M);return yield Lu(X,O),X._openRedirect(O,b,"signInViaRedirect")})).apply(this,arguments)}function Oh(A,b,M){return function Ho(A,b,M){return Al.apply(this,arguments)}(A,b,M)}function Al(){return(Al=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A);Ze(O.auth,b,Kt),yield O.auth._initializationPromise;const X=wa(O.auth,M);yield Lu(X,O.auth);const re=yield $o(O);return X._openRedirect(O.auth,b,"reauthViaRedirect",re)})).apply(this,arguments)}function Lh(A,b,M){return function jo(A,b,M){return Wr.apply(this,arguments)}(A,b,M)}function Wr(){return(Wr=(0,y.Z)(function*(A,b,M){const O=(0,he.m9)(A);Ze(O.auth,b,Kt),yield O.auth._initializationPromise;const X=wa(O.auth,M);yield rn(!1,O,b.providerId),yield Lu(X,O.auth);const re=yield $o(O);return X._openRedirect(O.auth,b,"linkViaRedirect",re)})).apply(this,arguments)}function Xr(A,b){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,y.Z)(function*(A,b){return yield S(A)._initializationPromise,Pl(A,b,!1)})).apply(this,arguments)}function Pl(A,b){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.Z)(function*(A,b,M=!1){const O=S(A),X=wa(O,b),Ue=yield new Yr(O,X,M).execute();return Ue&&!M&&(delete Ue.user._redirectEventId,yield O._persistUserIfCurrent(Ue.user),yield O._setRedirectUser(null,b)),Ue})).apply(this,arguments)}function $o(A){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,y.Z)(function*(A){const b=ks(`${A.uid}:::`);return A._redirectEventId=b,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),b})).apply(this,arguments)}class Uu{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let M=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(b,O)&&(M=!0,this.sendToConsumer(b,O),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function sr(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nh(A);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,M||(this.queuedRedirectEvent=b,M=!0)),M}sendToConsumer(b,M){var O;if(b.error&&!Nh(b)){const X=(null===(O=b.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";M.onError(Tt(this.auth,X))}else M.onAuthEvent(b)}isEventForConsumer(b,M){const O=null===M.eventId||!!b.eventId&&b.eventId===M.eventId;return M.filter.includes(b.type)&&O}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xs(b))}saveEventToCache(b){this.cachedEventUids.add(xs(b)),this.lastProcessedEventTime=Date.now()}}function xs(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(b=>b).join("-")}function Nh({type:A,error:b}){return"unknown"===A&&"auth/no-auth-event"===b?.code}function bs(A){return zu.apply(this,arguments)}function zu(){return(zu=(0,y.Z)(function*(A,b={}){return Me(A,"GET","/v1/projects",b)})).apply(this,arguments)}const Hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ju=/^https?/;function Ta(){return(Ta=(0,y.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:b}=yield bs(A);for(const M of b)try{if(ef(M))return}catch{}Ct(A,"unauthorized-domain")})).apply(this,arguments)}function ef(A){const b=je(),{protocol:M,hostname:O}=new URL(b);if(A.startsWith("chrome-extension://")){const Ue=new URL(A);return""===Ue.hostname&&""===O?"chrome-extension:"===M&&A.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===M&&Ue.hostname===O}if(!ju.test(M))return!1;if(Hu.test(A))return O===A;const X=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(O)}const $u=new ct(3e4,6e4);function Bh(){const A=Gi().___jsl;if(A?.H)for(const b of Object.keys(A.H))if(A.H[b].r=A.H[b].r||[],A.H[b].L=A.H[b].L||[],A.H[b].r=[...A.H[b].L],A.CP)for(let M=0;M<A.CP.length;M++)A.CP[M]=null}let Ma=null;function Yo(A){return Ma=Ma||function Wh(A){return new Promise((b,M)=>{var O,X,re;function Ue(){Bh(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{Bh(),M(Tt(A,"network-request-failed"))},timeout:$u.get()})}if(null!==(X=null===(O=Gi().gapi)||void 0===O?void 0:O.iframes)&&void 0!==X&&X.Iframe)b(gapi.iframes.getContext());else{if(null===(re=Gi().gapi)||void 0===re||!re.load){const Et=to("iframefcb");return Gi()[Et]=()=>{gapi.load?Ue():M(Tt(A,"network-request-failed"))},Lo(`https://apis.google.com/js/api.js?onload=${Et}`).catch(sn=>M(sn))}Ue()}}).catch(b=>{throw Ma=null,b})}(A),Ma}const tf=new ct(5e3,15e3),rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(A){const b=A.config;Ee(b.authDomain,A,"auth-domain-config-required");const M=b.emulator?te(b,"emulator/auth/iframe"):`https://${A.config.authDomain}/__/auth/iframe`,O={apiKey:b.apiKey,appName:A.name,v:ne.SDK_VERSION},X=Oy.get(A.config.apiHost);X&&(O.eid=X);const re=A._getFrameworks();return re.length&&(O.fw=re.join(",")),`${M}?${(0,he.xO)(O).slice(1)}`}function Fl(){return Fl=(0,y.Z)(function*(A){const b=yield Yo(A),M=Gi().gapi;return Ee(M,A,"internal-error"),b.open({where:document.body,url:sf(A),messageHandlersFilter:M.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},O=>new Promise(function(){var X=(0,y.Z)(function*(re,Ue){yield O.restyle({setHideOnLeave:!1});const Et=Tt(A,"network-request-failed"),sn=Gi().setTimeout(()=>{Ue(Et)},tf.get());function un(){Gi().clearTimeout(sn),re(O)}O.ping(un).then(un,()=>{Ue(Et)})});return function(re,Ue){return X.apply(this,arguments)}}()))}),Fl.apply(this,arguments)}const Uh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sa{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qi(A,b,M,O,X,re){Ee(A.config.authDomain,A,"auth-domain-config-required"),Ee(A.config.apiKey,A,"invalid-api-key");const Ue={apiKey:A.config.apiKey,appName:A.name,authType:M,redirectUrl:O,v:ne.SDK_VERSION,eventId:X};if(b instanceof Kt){b.setDefaultLanguage(A.languageCode),Ue.providerId=b.providerId||"",(0,he.xb)(b.getCustomParameters())||(Ue.customParameters=JSON.stringify(b.getCustomParameters()));for(const[sn,un]of Object.entries(re||{}))Ue[sn]=un}if(b instanceof qn){const sn=b.getScopes().filter(un=>""!==un);sn.length>0&&(Ue.scopes=sn.join(","))}A.tenantId&&(Ue.tid=A.tenantId);const Et=Ue;for(const sn of Object.keys(Et))void 0===Et[sn]&&delete Et[sn];return`${function rs({config:A}){return A.emulator?te(A,"emulator/auth/handler"):`https://${A.authDomain}/__/auth/handler`}(A)}?${(0,he.xO)(Et).slice(1)}`}const Ll="webStorageSupport",lf=class Ly{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=Pl,this._overrideRedirectResult=Rh}_openPopup(b,M,O,X){var re=this;return(0,y.Z)(function*(){var Ue;ot(null===(Ue=re.eventManagers[b._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const Et=qi(b,M,O,je(),X);return function Fr(A,b,M,O=500,X=600){const re=Math.max((window.screen.availHeight-X)/2,0).toString(),Ue=Math.max((window.screen.availWidth-O)/2,0).toString();let Et="";const sn=Object.assign(Object.assign({},Uh),{width:O.toString(),height:X.toString(),top:re,left:Ue}),un=(0,he.z$)().toLowerCase();M&&(Et=Pe(un)?"_blank":M),G(un)&&(b=b||"http://localhost",sn.scrollbars="yes");const Vn=Object.entries(sn).reduce((Ur,[zr,Ia])=>`${Ur}${zr}=${Ia},`,"");if(function h(A=(0,he.z$)()){var b;return o(A)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(un)&&"_self"!==Et)return function zh(A,b){const M=document.createElement("a");M.href=A,M.target=b;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),M.dispatchEvent(O)}(b||"",Et),new Sa(null);const Ii=window.open(b||"",Et,Vn);Ee(Ii,A,"popup-blocked");try{Ii.focus()}catch{}return new Sa(Ii)}(b,Et,ks())})()}_openRedirect(b,M,O,X){var re=this;return(0,y.Z)(function*(){return yield re._originValidation(b),function bl(A){Gi().location.href=A}(qi(b,M,O,je(),X)),new Promise(()=>{})})()}_initialize(b){const M=b._key();if(this.eventManagers[M]){const{manager:X,promise:re}=this.eventManagers[M];return X?Promise.resolve(X):(ot(re,"If manager is not set, promise should be"),re)}const O=this.initAndGetManager(b);return this.eventManagers[M]={promise:O},O.catch(()=>{delete this.eventManagers[M]}),O}initAndGetManager(b){var M=this;return(0,y.Z)(function*(){const O=yield function af(A){return Fl.apply(this,arguments)}(b),X=new Uu(b);return O.register("authEvent",re=>(Ee(re?.authEvent,b,"invalid-auth-event"),{status:X.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),M.eventManagers[b._key()]={manager:X},M.iframes[b._key()]=O,X})()}_isIframeWebStorageSupported(b,M){this.iframes[b._key()].send(Ll,{type:Ll},X=>{var re;const Ue=null===(re=X?.[0])||void 0===re?void 0:re[Ll];void 0!==Ue&&M(!!Ue),Ct(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const M=b._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function Vh(A){return Ta.apply(this,arguments)}(b)),this.originValidationPromises[M]}get _shouldInitProactively(){return d()||ae()||o()}};class Gu{constructor(b){this.factorId=b}_process(b,M,O){switch(M.type){case"enroll":return this._finalizeEnroll(b,M.credential,O);case"signin":return this._finalizeSignIn(b,M.credential);default:return Ve("unexpected MultiFactorSessionType")}}}class Zu extends Gu{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Zu(b)}_finalizeEnroll(b,M,O){return function My(A,b){return Me(A,"POST","/v2/accounts/mfaEnrollment:finalize",ve(A,b))}(b,{idToken:M,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,M){return function Th(A,b){return Me(A,"POST","/v2/accounts/mfaSignIn:finalize",ve(A,b))}(b,{mfaPendingCredential:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ku=(()=>{class A{constructor(){}static assertion(M){return Zu._fromCredential(M)}}return A.FACTOR_ID="phone",A})();var er="@firebase/auth";class Vl{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var M=this;return(0,y.Z)(function*(){return M.assertAuthConfigured(),yield M.auth._initializationPromise,M.auth.currentUser?{accessToken:yield M.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const M=this.auth.onIdTokenChanged(O=>{b(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(b,M),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const M=this.internalListeners.get(b);M&&(this.internalListeners.delete(b),M(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uf=(0,he.Pz)("authIdTokenMaxAge")||300;let $h=null;const Ny=A=>function(){var b=(0,y.Z)(function*(M){const O=M&&(yield M.getIdTokenResult()),X=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(X&&X>uf)return;const re=O?.token;$h!==re&&($h=re,yield fetch(A,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))});return function(M){return b.apply(this,arguments)}}();function cf(A=(0,ne.getApp)()){const b=(0,ne._getProvider)(A,"auth");if(b.isInitialized())return b.getImmediate();const M=function Ot(A,b){const M=(0,ne._getProvider)(A,"auth");if(M.isInitialized()){const X=M.getImmediate(),re=M.getOptions();if((0,he.vZ)(re,b??{}))return X;Ct(X,"already-initialized")}return M.initialize({options:b})}(A,{popupRedirectResolver:lf,persistence:[Ch,wu,_a]}),O=(0,he.Pz)("authTokenSyncURL");if(O){const re=Ny(O);(function zp(A,b,M){(0,he.m9)(A).beforeAuthStateChanged(b,M)})(M,re,()=>re(M.currentUser)),function Up(A,b,M,O){(0,he.m9)(A).onIdTokenChanged(b,M,O)}(M,Ue=>re(Ue))}const X=(0,he.q4)("auth");return X&&T(M,`http://${X}`),M}!function fr(A){(0,ne._registerComponent)(new Ye.wA("auth",(b,{options:M})=>{const O=b.getProvider("app").getImmediate(),X=b.getProvider("heartbeat"),{apiKey:re,authDomain:Ue}=O.options;return((Et,sn)=>{Ee(re&&!re.includes(":"),"invalid-api-key",{appName:Et.name}),Ee(!Ue?.includes(":"),"argument-error",{appName:Et.name});const un={apiKey:re,authDomain:Ue,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C(A)},Vn=new k(Et,sn,un);return function Wt(A,b){const M=b?.persistence||[],O=(Array.isArray(M)?M:[M]).map(kt);b?.errorMap&&A._updateErrorMap(b.errorMap),A._initializeWithPersistence(O,b?.popupRedirectResolver)}(Vn,M),Vn})(O,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,M,O)=>{b.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new Ye.wA("auth-internal",b=>{const M=S(b.getProvider("auth").getImmediate());return new Vl(M)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(er,"0.21.3",function Qu(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,ne.registerVersion)(er,"0.21.3","esm2017")}("Browser")},2090:(an,Mt,q)=>{"use strict";q.d(Mt,{$s:()=>Ce,BH:()=>mt,DV:()=>qt,Dv:()=>hi,GJ:()=>En,L:()=>Je,LL:()=>zt,P0:()=>Ke,Pz:()=>Tt,Sg:()=>Ze,UG:()=>Ve,UI:()=>Dn,US:()=>Ye,Wj:()=>bn,Wl:()=>Re,Yr:()=>Qe,ZB:()=>H,ZR:()=>Ht,aH:()=>Ct,b$:()=>kt,cI:()=>Me,dS:()=>Cn,eu:()=>Dt,g5:()=>ne,gK:()=>ui,gQ:()=>Si,h$:()=>nt,hl:()=>bt,hu:()=>he,jU:()=>ot,lb:()=>ii,m9:()=>Oe,ne:()=>yi,p$:()=>be,pd:()=>ai,q4:()=>_t,r3:()=>ln,ru:()=>It,tV:()=>Fe,uI:()=>Ee,ug:()=>ji,vZ:()=>Gt,w1:()=>Wt,w9:()=>tn,xO:()=>$n,xb:()=>Ft,z$:()=>St,zI:()=>ct,zd:()=>Pi});const he=function(ue,oe){if(!ue)throw ne(oe)},ne=function(ue){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ue)},We=function(ue){const oe=[];let me=0;for(let le=0;le<ue.length;le++){let G=ue.charCodeAt(le);G<128?oe[me++]=G:G<2048?(oe[me++]=G>>6|192,oe[me++]=63&G|128):55296==(64512&G)&&le+1<ue.length&&56320==(64512&ue.charCodeAt(le+1))?(G=65536+((1023&G)<<10)+(1023&ue.charCodeAt(++le)),oe[me++]=G>>18|240,oe[me++]=G>>12&63|128,oe[me++]=G>>6&63|128,oe[me++]=63&G|128):(oe[me++]=G>>12|224,oe[me++]=G>>6&63|128,oe[me++]=63&G|128)}return oe},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,oe){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let G=0;G<ue.length;G+=3){const ae=ue[G],Pe=G+1<ue.length,ft=Pe?ue[G+1]:0,jt=G+2<ue.length,Xe=jt?ue[G+2]:0;let f=(15&ft)<<2|Xe>>6,h=63&Xe;jt||(h=64,Pe||(f=64)),le.push(me[ae>>2],me[(3&ae)<<4|ft>>4],me[f],me[h])}return le.join("")},encodeString(ue,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ue):this.encodeByteArray(We(ue),oe)},decodeString(ue,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ue):function(ue){const oe=[];let me=0,le=0;for(;me<ue.length;){const G=ue[me++];if(G<128)oe[le++]=String.fromCharCode(G);else if(G>191&&G<224){const ae=ue[me++];oe[le++]=String.fromCharCode((31&G)<<6|63&ae)}else if(G>239&&G<365){const jt=((7&G)<<18|(63&ue[me++])<<12|(63&ue[me++])<<6|63&ue[me++])-65536;oe[le++]=String.fromCharCode(55296+(jt>>10)),oe[le++]=String.fromCharCode(56320+(1023&jt))}else{const ae=ue[me++],Pe=ue[me++];oe[le++]=String.fromCharCode((15&G)<<12|(63&ae)<<6|63&Pe)}}return oe.join("")}(this.decodeStringToByteArray(ue,oe))},decodeStringToByteArray(ue,oe){this.init_();const me=oe?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let G=0;G<ue.length;){const ae=me[ue.charAt(G++)],ft=G<ue.length?me[ue.charAt(G)]:0;++G;const Xe=G<ue.length?me[ue.charAt(G)]:64;++G;const o=G<ue.length?me[ue.charAt(G)]:64;if(++G,null==ae||null==ft||null==Xe||null==o)throw Error();le.push(ae<<2|ft>>4),64!==Xe&&(le.push(ft<<4&240|Xe>>2),64!==o&&le.push(Xe<<6&192|o))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},nt=function(ue){const oe=We(ue);return Ye.encodeByteArray(oe,!0)},Je=function(ue){return nt(ue).replace(/\./g,"")},Fe=function(ue){try{return Ye.decodeString(ue,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function be(ue){return H(void 0,ue)}function H(ue,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return oe}for(const me in oe)!oe.hasOwnProperty(me)||!De(me)||(ue[me]=H(ue[me],oe[me]));return ue}function De(ue){return"__proto__"!==ue}const qe=()=>{try{return function Rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=ue&&Fe(ue[1]);return oe&&JSON.parse(oe)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},_t=ue=>{var oe,me;return null===(me=null===(oe=qe())||void 0===oe?void 0:oe.emulatorHosts)||void 0===me?void 0:me[ue]},Ke=ue=>{const oe=_t(ue);if(!oe)return;const me=oe.lastIndexOf(":");if(me<=0||me+1===oe.length)throw new Error(`Invalid host ${oe} with no separate hostname and port!`);const le=parseInt(oe.substring(me+1),10);return"["===oe[0]?[oe.substring(1,me-1),le]:[oe.substring(0,me),le]},Ct=()=>{var ue;return null===(ue=qe())||void 0===ue?void 0:ue.config},Tt=ue=>{var oe;return null===(oe=qe())||void 0===oe?void 0:oe[`_${ue}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,me)=>{this.resolve=oe,this.reject=me})}wrapCallback(oe){return(me,le)=>{me?this.reject(me):this.resolve(le),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(me):oe(me,le))}}}function Ze(ue,oe){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=oe||"demo-project",G=ue.iat||0,ae=ue.sub||ue.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:G,exp:G+3600,auth_time:G,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Je(JSON.stringify({alg:"none",type:"JWT"})),Je(JSON.stringify(Pe)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Ve(){var ue;const oe=null===(ue=qe())||void 0===ue?void 0:ue.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function It(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const ue=St();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Qe(){return!1}function bt(){try{return"object"==typeof indexedDB}catch{return!1}}function Dt(){return new Promise((ue,oe)=>{try{let me=!0;const le="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(le);G.onsuccess=()=>{G.result.close(),me||self.indexedDB.deleteDatabase(le),ue(!0)},G.onupgradeneeded=()=>{me=!1},G.onerror=()=>{var ae;oe((null===(ae=G.error)||void 0===ae?void 0:ae.message)||"")}}catch(me){oe(me)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ht extends Error{constructor(oe,me,le){super(me),this.code=oe,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(oe,me,le){this.service=oe,this.serviceName=me,this.errors=le}create(oe,...me){const le=me[0]||{},G=`${this.service}/${oe}`,ae=this.errors[oe],Pe=ae?function K(ue,oe){return ue.replace(ve,(me,le)=>{const G=oe[le];return null!=G?String(G):`<${le}?>`})}(ae,le):"Error";return new Ht(G,`${this.serviceName}: ${Pe} (${G}).`,le)}}const ve=/\{\$([^}]+)}/g;function Me(ue){return JSON.parse(ue)}function Re(ue){return JSON.stringify(ue)}const it=function(ue){let oe={},me={},le={},G="";try{const ae=ue.split(".");oe=Me(Fe(ae[0])||""),me=Me(Fe(ae[1])||""),G=ae[2],le=me.d||{},delete me.d}catch{}return{header:oe,claims:me,data:le,signature:G}},tn=function(ue){const me=it(ue).claims;return!!me&&"object"==typeof me&&me.hasOwnProperty("iat")},En=function(ue){const oe=it(ue).claims;return"object"==typeof oe&&!0===oe.admin};function ln(ue,oe){return Object.prototype.hasOwnProperty.call(ue,oe)}function qt(ue,oe){if(Object.prototype.hasOwnProperty.call(ue,oe))return ue[oe]}function Ft(ue){for(const oe in ue)if(Object.prototype.hasOwnProperty.call(ue,oe))return!1;return!0}function Dn(ue,oe,me){const le={};for(const G in ue)Object.prototype.hasOwnProperty.call(ue,G)&&(le[G]=oe.call(me,ue[G],G,ue));return le}function Gt(ue,oe){if(ue===oe)return!0;const me=Object.keys(ue),le=Object.keys(oe);for(const G of me){if(!le.includes(G))return!1;const ae=ue[G],Pe=oe[G];if(Kn(ae)&&Kn(Pe)){if(!Gt(ae,Pe))return!1}else if(ae!==Pe)return!1}for(const G of le)if(!me.includes(G))return!1;return!0}function Kn(ue){return null!==ue&&"object"==typeof ue}function $n(ue){const oe=[];for(const[me,le]of Object.entries(ue))Array.isArray(le)?le.forEach(G=>{oe.push(encodeURIComponent(me)+"="+encodeURIComponent(G))}):oe.push(encodeURIComponent(me)+"="+encodeURIComponent(le));return oe.length?"&"+oe.join("&"):""}function Pi(ue){const oe={};return ue.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[G,ae]=le.split("=");oe[decodeURIComponent(G)]=decodeURIComponent(ae)}}),oe}function ai(ue){const oe=ue.indexOf("?");if(!oe)return"";const me=ue.indexOf("#",oe);return ue.substring(oe,me>0?me:void 0)}class Si{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(oe,me){me||(me=0);const le=this.W_;if("string"==typeof oe)for(let o=0;o<16;o++)le[o]=oe.charCodeAt(me)<<24|oe.charCodeAt(me+1)<<16|oe.charCodeAt(me+2)<<8|oe.charCodeAt(me+3),me+=4;else for(let o=0;o<16;o++)le[o]=oe[me]<<24|oe[me+1]<<16|oe[me+2]<<8|oe[me+3],me+=4;for(let o=16;o<80;o++){const f=le[o-3]^le[o-8]^le[o-14]^le[o-16];le[o]=4294967295&(f<<1|f>>>31)}let Xe,Qt,G=this.chain_[0],ae=this.chain_[1],Pe=this.chain_[2],ft=this.chain_[3],jt=this.chain_[4];for(let o=0;o<80;o++){o<40?o<20?(Xe=ft^ae&(Pe^ft),Qt=1518500249):(Xe=ae^Pe^ft,Qt=1859775393):o<60?(Xe=ae&Pe|ft&(ae|Pe),Qt=2400959708):(Xe=ae^Pe^ft,Qt=3395469782);const f=(G<<5|G>>>27)+Xe+jt+Qt+le[o]&4294967295;jt=ft,ft=Pe,Pe=4294967295&(ae<<30|ae>>>2),ae=G,G=f}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+ae&4294967295,this.chain_[2]=this.chain_[2]+Pe&4294967295,this.chain_[3]=this.chain_[3]+ft&4294967295,this.chain_[4]=this.chain_[4]+jt&4294967295}update(oe,me){if(null==oe)return;void 0===me&&(me=oe.length);const le=me-this.blockSize;let G=0;const ae=this.buf_;let Pe=this.inbuf_;for(;G<me;){if(0===Pe)for(;G<=le;)this.compress_(oe,G),G+=this.blockSize;if("string"==typeof oe){for(;G<me;)if(ae[Pe]=oe.charCodeAt(G),++Pe,++G,Pe===this.blockSize){this.compress_(ae),Pe=0;break}}else for(;G<me;)if(ae[Pe]=oe[G],++Pe,++G,Pe===this.blockSize){this.compress_(ae),Pe=0;break}}this.inbuf_=Pe,this.total_+=me}digest(){const oe=[];let me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&me,me/=256;this.compress_(this.buf_);let le=0;for(let G=0;G<5;G++)for(let ae=24;ae>=0;ae-=8)oe[le]=this.chain_[G]>>ae&255,++le;return oe}}function yi(ue,oe){const me=new nn(ue,oe);return me.subscribe.bind(me)}class nn{constructor(oe,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{oe(this)}).catch(le=>{this.error(le)})}next(oe){this.forEachObserver(me=>{me.next(oe)})}error(oe){this.forEachObserver(me=>{me.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,me,le){let G;if(void 0===oe&&void 0===me&&void 0===le)throw new Error("Missing Observer.");G=function pn(ue,oe){if("object"!=typeof ue||null===ue)return!1;for(const me of oe)if(me in ue&&"function"==typeof ue[me])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:me,complete:le},void 0===G.next&&(G.next=li),void 0===G.error&&(G.error=li),void 0===G.complete&&(G.complete=li);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),ae}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,oe)}sendOne(oe,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{me(this.observers[oe])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function li(){}const hi=function(ue,oe,me,le){let G;if(le<oe?G="at least "+oe:le>me&&(G=0===me?"none":"no more than "+me),G)throw new Error(ue+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+G+".")};function ui(ue,oe){return`${ue} failed: ${oe} argument `}function bn(ue,oe,me,le){if((!le||me)&&"function"!=typeof me)throw new Error(ui(ue,oe)+"must be a valid function.")}function ii(ue,oe,me,le){if((!le||me)&&("object"!=typeof me||null===me))throw new Error(ui(ue,oe)+"must be a valid context object.")}const Cn=function(ue){const oe=[];let me=0;for(let le=0;le<ue.length;le++){let G=ue.charCodeAt(le);if(G>=55296&&G<=56319){const ae=G-55296;le++,he(le<ue.length,"Surrogate pair missing trail surrogate."),G=65536+(ae<<10)+(ue.charCodeAt(le)-56320)}G<128?oe[me++]=G:G<2048?(oe[me++]=G>>6|192,oe[me++]=63&G|128):G<65536?(oe[me++]=G>>12|224,oe[me++]=G>>6&63|128,oe[me++]=63&G|128):(oe[me++]=G>>18|240,oe[me++]=G>>12&63|128,oe[me++]=G>>6&63|128,oe[me++]=63&G|128)}return oe},ji=function(ue){let oe=0;for(let me=0;me<ue.length;me++){const le=ue.charCodeAt(me);le<128?oe++:le<2048?oe+=2:le>=55296&&le<=56319?(oe+=4,me++):oe+=3}return oe};function Ce(ue,oe=1e3,me=2){const le=oe*Math.pow(me,ue),G=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+G)}function Oe(ue){return ue&&ue._delegate?ue._delegate:ue}},1699:(an,Mt,q)=>{"use strict";var y=q(4650);let he=null;function ne(){return he}class Le{}const Ye=new y.OlP("DocumentToken");let nt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Je(){return(0,y.LFG)(be)}()},providedIn:"platform"}),n})();const Fe=new y.OlP("Location Initialized");let be=(()=>{class n extends nt{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(e){const s=ne().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=ne().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,s,u){H()?this._history.pushState(e,s,u):this._location.hash=u}replaceState(e,s,u){H()?this._history.replaceState(e,s,u):this._location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function De(){return new be((0,y.LFG)(Ye))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function Rt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ht(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let xt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(_t)},providedIn:"root"}),n})();const qe=new y.OlP("appBaseHref");let _t=(()=>{class n extends xt{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rt(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+lt(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${s}${u}`:s}pushState(e,s,u,g){const w=this.prepareExternalUrl(u+lt(g));this._platformLocation.pushState(e,s,w)}replaceState(e,s,u,g){const w=this.prepareExternalUrl(u+lt(g));this._platformLocation.replaceState(e,s,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(nt),y.LFG(qe,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends xt{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Rt(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,u,g){let w=this.prepareExternalUrl(u+lt(g));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.pushState(e,s,w)}replaceState(e,s,u,g){let w=this.prepareExternalUrl(u+lt(g));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(nt),y.LFG(qe,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Ct=(()=>{class n{constructor(e){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._basePath=function St(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ht(Ze(s))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+lt(s))}normalize(e){return n.stripTrailingSlash(function mt(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",u=null){this._locationStrategy.pushState(u,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(s)),u)}replaceState(e,s="",u=null){this._locationStrategy.replaceState(u,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(s)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(u=>u(e,s))}subscribe(e,s,u){return this._subject.subscribe({next:e,error:s,complete:u})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Rt,n.stripTrailingSlash=ht,n.\u0275fac=function(e){return new(e||n)(y.LFG(xt))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Tt(){return new Ct((0,y.LFG)(xt))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}function Z(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[u,g]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(u.trim()===t)return decodeURIComponent(g)}return null}class we{constructor(t,e,s,u){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ke=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,s,u){this._viewContainer=e,this._template=s,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((u,g,w)=>{if(null==u.previousIndex)s.createEmbeddedView(this._template,new we(u.item,this._ngForOf,-1,-1),null===w?void 0:w);else if(null==w)s.remove(null===g?void 0:g);else if(null!==g){const R=s.get(g);s.move(R,w),_e(R,u)}});for(let u=0,g=s.length;u<g;u++){const R=s.get(u).context;R.index=u,R.count=g,R.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{_e(s.get(u.currentIndex),u)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _e(n,t){n.context.$implicit=t.item}let Ge=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new $e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(y.s_b),y.Y36(y.Rgc))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $e{constructor(){this.$implicit=null,this.ngIf=null}}function xe(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,y.AaK)(t)}'.`)}let dn=(()=>{class n{constructor(e,s,u){this._ngEl=e,this._differs=s,this._renderer=u,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[u,g]=e.split("."),w=-1===u.indexOf("-")?void 0:y.JOm.DashCase;null!=s?this._renderer.setStyle(this._ngEl.nativeElement,u,g?`${s}${g}`:s,w):this._renderer.removeStyle(this._ngEl.nativeElement,u,w)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Li=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();let wt=(()=>{class n{}return n.\u0275prov=(0,y.Yz7)({token:n,providedIn:"root",factory:()=>new Ut((0,y.LFG)(Ye),window)}),n})();class Ut{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Pn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=s.currentNode;for(;u;){const g=u.shadowRoot;if(g){const w=g.getElementById(t)||g.querySelector(`[name="${t}"]`);if(w)return w}u=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,g=this.offset();this.window.scrollTo(s-g[0],u-g[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rn(this.window.history)||rn(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zn{}class Js extends Le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ko extends Js{static makeCurrent(){!function We(n){he||(he=n)}(new ko)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function jp(){return Fo=Fo||document.querySelector("base"),Fo?Fo.getAttribute("href"):null}();return null==e?null:function xl(n){vs=vs||document.createElement("a"),vs.setAttribute("href",n);const t=vs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Z(document.cookie,t)}}let vs,Fo=null;const wu=new y.OlP("TRANSITION_ID"),_a=[{provide:y.ip1,useFactory:function M0(n,t,e){return()=>{e.get(y.CZH).donePromise.then(()=>{const s=ne(),u=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let g=0;g<u.length;g++)s.remove(u[g])})}},deps:[wu,Ye,y.zs3],multi:!0}];let $p=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new y.OlP("EventManagerPlugins");let Tu=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,u){return this._findPluginFor(s).addEventListener(e,s,u)}addGlobalEventListener(e,s,u){return this._findPluginFor(s).addGlobalEventListener(e,s,u)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const u=this._plugins;for(let g=0;g<u.length;g++){const w=u[g];if(w.supports(e))return this._eventNameToPlugin.set(e,w),w}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ks),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Gi{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const u=ne().getGlobalEventTarget(this._doc,t);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,s)}}let bl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),s.add(u))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends bl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,u){e.forEach(g=>{const w=this._doc.createElement("style");w.textContent=g,u.push(s.appendChild(w))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Mu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,u)=>{this._addStylesToHost(e,u,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Mu))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function Mu(n){ne().remove(n)}const _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cl=/%COMP%/g;function xa(n,t){return t.flat(100).map(e=>e.replace(Cl,n))}function Iu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Oo=(()=>{class n{constructor(e,s,u){this.eventManager=e,this.sharedStylesHost=s,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Tl(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case y.ifc.Emulated:{let u=this.rendererByCompId.get(s.id);return u||(u=new Ml(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,u)),u.applyToHost(e),u}case y.ifc.ShadowDom:return new bh(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const u=xa(s.id,s.styles);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Tu),y.LFG(Fs),y.LFG(y.AFp))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Tl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(_s[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(eo(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(eo(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,u){if(u){e=u+":"+e;const g=_s[u];g?t.setAttributeNS(g,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const u=_s[s];u?t.removeAttributeNS(u,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,u){u&(y.JOm.DashCase|y.JOm.Important)?t.style.setProperty(e,s,u&y.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&y.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Iu(s)):this.eventManager.addEventListener(t,e,Iu(s))}}function eo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ml extends Tl{constructor(t,e,s,u){super(t),this.component=s;const g=xa(u+"-"+s.id,s.styles);e.addStyles(g),this.contentAttr=function wl(n){return"_ngcontent-%COMP%".replace(Cl,n)}(u+"-"+s.id),this.hostAttr=function Rs(n){return"_nghost-%COMP%".replace(Cl,n)}(u+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class bh extends Tl{constructor(t,e,s,u){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=xa(u.id,u.styles);for(let w=0;w<g.length;w++){const R=document.createElement("style");R.textContent=g[w],this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Eu=(()=>{class n extends Gi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,u){return e.addEventListener(s,u,!1),()=>this.removeEventListener(e,s,u)}removeEventListener(e,s,u){return e.removeEventListener(s,u)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=["alt","control","meta","shift"],Ch={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Th=(()=>{class n extends Gi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,u){const g=n.parseEventName(s),w=n.eventCallback(g.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ne().onAndCancel(e,g.domEventName,w))}static parseEventName(e){const s=e.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const g=n._normalizeKey(s.pop());let w="",R=s.indexOf("code");if(R>-1&&(s.splice(R,1),w="code."),Du.forEach(Q=>{const ge=s.indexOf(Q);ge>-1&&(s.splice(ge,1),w+=Q+".")}),w+=g,0!=s.length||0===g.length)return null;const W={};return W.domEventName=u,W.fullKey=w,W}static matchEventFullKeyCode(e,s){let u=Ch[e.key]||e.key,g="";return s.indexOf("code.")>-1&&(u=e.code,g="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Du.forEach(w=>{w!==u&&(0,wh[w])(e)&&(g+=w+".")}),g+=u,g===s)}static eventCallback(e,s,u){return g=>{n.matchEventFullKeyCode(g,e)&&u.runGuarded(()=>s(g))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Gp=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function Xp(){ko.makeCurrent()},multi:!0},{provide:Ye,useFactory:function ba(){return(0,y.RDi)(document),document},deps:[]}]),Pu=new y.OlP(""),No=[{provide:y.rWj,useClass:class Iy{addToWindow(t){y.dqk.getAngularTestability=(s,u=!0)=>{const g=t.findTestabilityInTree(s,u);if(null==g)throw new Error("Could not find testability for element.");return g},y.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(s=>{const u=y.dqk.getAllAngularTestabilities();let g=u.length,w=!1;const R=function(W){w=w||W,g--,0==g&&s(w)};u.forEach(function(W){W.whenStable(R)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?ne().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Sh=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Mh(){return new y.qLn},deps:[]},{provide:ks,useClass:Eu,multi:!0,deps:[Ye,y.R0b,y.Lbi]},{provide:ks,useClass:Th,multi:!0,deps:[Ye]},{provide:Oo,useClass:Oo,deps:[Tu,Fs,y.AFp]},{provide:y.FYo,useExisting:Oo},{provide:bl,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[Ye]},{provide:Tu,useClass:Tu,deps:[ks,y.R0b]},{provide:zn,useClass:$p,deps:[]},[]];let Ih=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:y.AFp,useValue:e.appId},{provide:wu,useExisting:y.AFp},_a]}}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Pu,12))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[...Sh,...No],imports:[Li,y.hGG]}),n})(),ku=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye))},n.\u0275prov=y.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function io(){return new ku((0,y.LFG)(Ye))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var di=q(8996),Yr=q(9751);const{isArray:kh}=Array,{getPrototypeOf:Ou,prototype:Lu,keys:Nu}=Object;function Fh(n){if(1===n.length){const t=n[0];if(kh(t))return{args:t,keys:null};if(function Rh(n){return n&&"object"==typeof n&&Ou(n)===Lu}(t)){const e=Nu(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var zo=q(8421),is=q(7669),zi=q(5403),Mn=q(4004);const{isArray:oo}=Array;function Ho(n){return(0,Mn.U)(t=>function Oh(n,t){return oo(t)?n(...t):n(t)}(n,t))}function Al(n,t){return n.reduce((e,s,u)=>(e[s]=t[u],e),{})}let jo=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(y.Qsj),y.Y36(y.SBq))},n.\u0275dir=y.lG2({type:n}),n})(),Wr=(()=>{class n extends jo{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=y.n5z(n)))(s||n)}}(),n.\u0275dir=y.lG2({type:n,features:[y.qOj]}),n})();const Xr=new y.OlP("NgValueAccessor"),Os={provide:Xr,useExisting:(0,y.Gpc)(()=>Wu),multi:!0},Bu=new y.OlP("CompositionEventMode");let Wu=(()=>{class n extends jo{constructor(e,s,u){super(e,s),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $o(){const n=ne()?ne().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Bu,8))},n.\u0275dir=y.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&y.NdJ("input",function(g){return s._handleInput(g.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(g){return s._compositionEnd(g.target.value)})},features:[y._Bn([Os]),y.qOj]}),n})();const sr=new y.OlP("NgValidators"),bs=new y.OlP("NgAsyncValidators");function Ta(n){return function xs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Yo(n){return null}function tf(n){return null!=n}function nf(n){return(0,y.QGY)(n)?(0,di.D)(n):n}function kl(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function rf(n,t){return t.map(e=>e(n))}function sf(n){return n.map(t=>function Oy(n){return!n.validate}(t)?t:e=>t.validate(e))}function Fl(n){return null!=n?function af(n){if(!n)return null;const t=n.filter(tf);return 0==t.length?null:function(e){return kl(rf(e,t))}}(sf(n)):null}function Rl(n){return null!=n?function Uh(n){if(!n)return null;const t=n.filter(tf);return 0==t.length?null:function(e){return function Lh(...n){const t=(0,is.jO)(n),{args:e,keys:s}=Fh(n),u=new Yr.y(g=>{const{length:w}=e;if(!w)return void g.complete();const R=new Array(w);let W=w,Q=w;for(let ge=0;ge<w;ge++){let Te=!1;(0,zo.Xf)(e[ge]).subscribe((0,zi.x)(g,Be=>{Te||(Te=!0,Q--),R[ge]=Be},()=>W--,void 0,()=>{(!W||!Te)&&(Q||g.next(s?Al(s,R):R),g.complete())}))}});return t?u.pipe(Ho(t)):u}(rf(e,t).map(nf)).pipe((0,Mn.U)(kl))}}(sf(n)):null}function Ol(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Sa(n){return n?Array.isArray(n)?n:[n]:[]}function Fr(n,t){return Array.isArray(n)?n.includes(t):n===t}function zh(n,t){const e=Sa(t);return Sa(n).forEach(u=>{Fr(e,u)||e.push(u)}),e}function Hh(n,t){return Sa(t).filter(e=>!Fr(n,e))}class jh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Fl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qi extends jh{get formDirective(){return null}get path(){return null}}class rs extends jh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ll{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gu=(()=>{class n extends Ll{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(rs,2))},n.\u0275dir=y.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&y.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[y.qOj]}),n})();const Et="VALID",sn="INVALID",un="PENDING",Vn="DISABLED";function ss(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ju{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===sn}get pending(){return this.status==un}get disabled(){return this.status===Vn}get enabled(){return this.status!==Vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zh(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zh(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hh(t,this._rawAsyncValidators))}hasValidator(t){return Fr(this._rawValidators,t)}hasAsyncValidator(t){return Fr(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=un,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vn,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Et,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===un)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vn:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=un,this._hasOwnPendingAsyncValidator=!0;const e=nf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,u)=>s&&s._find(u),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Vn:this.errors?sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(un)?un:this._anyControlsHaveStatus(sn)?sn:Et}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ss(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Ur(n){return Array.isArray(n)?Fl(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Ia(n){return Array.isArray(n)?Rl(n):n||null}(this._rawAsyncValidators)}}const Ea=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Da}),Da="always";function Pa(n,t,e=Da){(function ff(n,t){const e=function Yu(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ol(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function Xu(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ol(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const u=()=>n.updateValueAndValidity();Ul(t._rawValidators,u),Ul(t._rawAsyncValidators,u)})(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Vy(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gf(n,t)})}(n,t),function By(n,t){const e=(s,u)=>{t.valueAccessor.writeValue(s),u&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ka(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gf(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function I0(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ul(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gf(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function vf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $y=class extends Ju{constructor(t=null,e,s){super(function Ii(n){return(ss(n)?n.validators:n)||null}(e),function zr(n,t){return(ss(t)?t.asyncValidators:n)||null}(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ss(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=vf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){vf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},OT={provide:rs,useExisting:(0,y.Gpc)(()=>rc)},Gy=(()=>Promise.resolve())();let rc=(()=>{class n extends rs{constructor(e,s,u,g,w,R){super(),this._changeDetectorRef=w,this.callSetDisabledState=R,this.control=new $y,this._registered=!1,this.update=new y.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(u),this.valueAccessor=function zl(n,t){if(!t)return null;let e,s,u;return Array.isArray(t),t.forEach(g=>{g.constructor===Wu?e=g:function Uy(n){return Object.getPrototypeOf(n.constructor)===Wr}(g)?s=g:u=g}),u||s||e||null}(0,g)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function nc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Gy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,u=0!==s&&(0,y.D6c)(s);Gy.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Aa(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(qi,9),y.Y36(sr,10),y.Y36(bs,10),y.Y36(Xr,10),y.Y36(y.sBO,8),y.Y36(Ea,8))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([OT]),y.qOj,y.TTD]}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})(),uo=(()=>{class n{constructor(){this._validator=Yo}ngOnChanges(e){if(this.inputName in e){const s=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):Yo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=y.lG2({type:n,features:[y.TTD]}),n})();const Y0={provide:sr,useExisting:(0,y.Gpc)(()=>Gh),multi:!0};let Gh=(()=>{class n extends uo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=e=>Ta}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=y.n5z(n)))(s||n)}}(),n.\u0275dir=y.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&y.uIk("required",s._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Y0]),y.qOj]}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[Cf]}),n})(),lv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ea,useValue:e.callSetDisabledState??Da}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[q0]}),n})();var gr=q(2011),rb=q(4986);function yn(...n){const t=(0,is.yG)(n);return(0,di.D)(n,t)}var Qh=q(6451),Jh=q(3099),Rr=q(4482);function xi(n,t){return(0,Rr.e)((e,s)=>{let u=null,g=0,w=!1;const R=()=>w&&!u&&s.complete();e.subscribe((0,zi.x)(s,W=>{u?.unsubscribe();let Q=0;const ge=g++;(0,zo.Xf)(n(W,ge)).subscribe(u=(0,zi.x)(s,Te=>s.next(t?t(W,Te,ge,Q++):Te),()=>{u=null,R()}))},()=>{w=!0,R()}))})}function sb(n,t,e,s,u){return(g,w)=>{let R=e,W=t,Q=0;g.subscribe((0,zi.x)(w,ge=>{const Te=Q++;W=R?n(W,ge,Te):(R=!0,ge),s&&w.next(W)},u&&(()=>{R&&w.next(W),w.complete()})))}}function $l(n,t){return(0,Rr.e)(sb(n,t,arguments.length>=2,!0))}var La=q(4671);function Na(n,t){return n===t}var ob=q(5032),Ai=q(2432),ed=(q(9568),q(3942)),Gr=q(4859),Zo=q(5861),Cs=q(9681),de=q(2090),td=q(1877);const Af="@firebase/database";let Pf="";function hv(n){Pf=n}class ab{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,de.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,de.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class kf{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,de.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const dv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ab(t)}}catch{}return new kf},Ko=dv("localStorage"),Ff=dv("sessionStorage"),Ba=new td.Yd("@firebase/database"),lb=function(){let n=1;return function(){return n++}}(),pv=function(n){const t=(0,de.dS)(n),e=new de.gQ;e.update(t);const s=e.digest();return de.US.encodeByteArray(s)},co=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=co.apply(null,s):t+="object"==typeof s?(0,de.Wl)(s):s,t+=" "}return t};let Wa=null,Ua=!0;const Yl=function(n,t){(0,de.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ba.logLevel=td.in.VERBOSE,Wa=Ba.log.bind(Ba),t&&Ff.set("logging_enabled",!0)):"function"==typeof n?Wa=n:(Wa=null,Ff.remove("logging_enabled"))},or=function(...n){if(!0===Ua&&(Ua=!1,null===Wa&&!0===Ff.get("logging_enabled")&&Yl(!0)),Wa){const t=co.apply(null,n);Wa(t)}},Xl=function(n){return function(...t){or(n,...t)}},Rf=function(...n){const t="FIREBASE INTERNAL ERROR: "+co(...n);Ba.error(t)},Ls=function(...n){const t=`FIREBASE FATAL ERROR: ${co(...n)}`;throw Ba.error(t),new Error(t)},Mr=function(...n){const t="FIREBASE WARNING: "+co(...n);Ba.warn(t)},ac=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ns="[MIN_NAME]",ho="[MAX_NAME]",po=function(n,t){if(n===t)return 0;if(n===Ns||t===ho)return-1;if(t===Ns||n===ho)return 1;{const e=pb(n),s=pb(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},lc=function(n,t){return n===t?0:n<t?-1:1},uc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,de.Wl)(t))},Lf=function(n){if("object"!=typeof n||null===n)return(0,de.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,de.Wl)(t[s]),e+=":",e+=Lf(n[t[s]]);return e+="}",e},gv=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let u=0;u<e;u+=t)s.push(n.substring(u,u+t>e?e:u+t));return s};function ar(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const mv=function(n){(0,de.hu)(!ac(n),"Invalid JSON number");const s=1023;let u,g,w,R,W;0===n?(g=0,w=0,u=1/n==-1/0?1:0):(u=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(R=Math.min(Math.floor(Math.log(n)/Math.LN2),s),g=R+s,w=Math.round(n*Math.pow(2,52-R)-Math.pow(2,52))):(g=0,w=Math.round(n/Math.pow(2,-1074))));const Q=[];for(W=52;W;W-=1)Q.push(w%2?1:0),w=Math.floor(w/2);for(W=11;W;W-=1)Q.push(g%2?1:0),g=Math.floor(g/2);Q.push(u?1:0),Q.reverse();const ge=Q.join("");let Te="";for(W=0;W<64;W+=8){let Be=parseInt(ge.substr(W,8),2).toString(16);1===Be.length&&(Be="0"+Be),Te+=Be}return Te.toLowerCase()},fo=new RegExp("^-?(0*)\\d{1,10}$"),pb=function(n){if(fo.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},cc=function(n){try{n()}catch(t){setTimeout(()=>{throw Mr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},nd=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class vv{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Mr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _v{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mr(t)}}let hc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mv="websocket",Bf="long_polling";class Wf{constructor(t,e,s,u,g=!1,w="",R=!1,W=!1){this.secure=e,this.namespace=s,this.webSocketOnly=u,this.nodeAdmin=g,this.persistenceKey=w,this.includeNamespaceInQueryParams=R,this.isUsingEmulator=W,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Sv(n,t,e){let s;if((0,de.hu)("string"==typeof t,"typeof type must == string"),(0,de.hu)("object"==typeof e,"typeof params must == object"),t===Mv)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Bf)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function fb(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const u=[];return ar(e,(g,w)=>{u.push(g+"="+w)}),s+u.join("&")}class Hn{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,de.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,de.p$)(this.counters_)}}const id={},rd={};function sd(n){const t=n.toString();return id[t]||(id[t]=new Hn),id[t]}class mb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<s.length;++u)s[u]&&cc(()=>{this.onMessage_(s[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class go{constructor(t,e,s,u,g,w,R){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=u,this.authToken=g,this.transportSessionId=w,this.lastSessionId=R,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xl(t),this.stats_=sd(e),this.urlFn=W=>(this.appCheckToken&&(W.ac=this.appCheckToken),Sv(e,Bf,W))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,de.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pv((...g)=>{const[w,R,W,Q,ge]=g;if(this.incrementIncomingBytes_(g),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===w)this.id=R,this.password=W;else{if("close"!==w)throw new Error("Unrecognized command received: "+w);R?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(R,()=>{this.onClosed_()})):this.onClosed_()}},(...g)=>{const[w,R]=g;this.incrementIncomingBytes_(g),this.myPacketOrderer.handleResponse(w,R)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Nf.test(location.hostname)&&(s.r="f");const u=this.urlFn(s);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){go.forceAllow_=!0}static forceDisallow(){go.forceDisallow_=!0}static isAvailable(){return!((0,de.Yr)()||!go.forceAllow_&&(go.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,de.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,de.h$)(e),u=gv(s,1840);for(let g=0;g<u.length;g++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[g]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,de.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,de.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Pv{constructor(t,e,s,u){if(this.onDisconnect=s,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,de.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=lb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Pv.createIFrame_();let g="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(g='<script>document.domain="'+document.domain+'";<\/script>');const w="<html><body>"+g+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(w),this.myIFrame.doc.close()}catch(R){or("frame writing exception"),R.stack&&or(R.stack),or(R)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||or("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const w=this.pendingSegs.shift();s=s+"&seg"+u+"="+w.seg+"&ts"+u+"="+w.ts+"&d"+u+"="+w.d,u++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(u),s()})}addTag(t,e){(0,de.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const u=s.readyState;(!u||"loaded"===u||"complete"===u)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{or("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let od=null;typeof MozWebSocket<"u"?od=MozWebSocket:typeof WebSocket<"u"&&(od=WebSocket);let Ha=(()=>{class n{constructor(e,s,u,g,w,R,W){this.connId=e,this.applicationId=u,this.appCheckToken=g,this.authToken=w,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xl(this.connId),this.stats_=sd(s),this.connURL=n.connectionURL_(s,R,W,g,u),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,u,g,w){const R={v:"5"};return!(0,de.Yr)()&&typeof location<"u"&&location.hostname&&Nf.test(location.hostname)&&(R.r="f"),s&&(R.s=s),u&&(R.ls=u),g&&(R.ac=g),w&&(R.p=w),Sv(e,Mv,R)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let u;if((0,de.Yr)()){u={headers:{"User-Agent":`Firebase/5/${Pf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const w=process.env,R=0===this.connURL.indexOf("wss://")?w.HTTPS_PROXY||w.https_proxy:w.HTTP_PROXY||w.http_proxy;R&&(u.proxy={origin:R})}this.mySock=new od(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const g=u.message||u.data;return g&&this.log_(g),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const g=u.message||u.data;g&&this.log_(g),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==od&&!n.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||!0===Ko.get("previous_websocket_failure")}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const u=(0,de.cI)(s);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,de.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const u=this.extractFrameCount_(s);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const s=(0,de.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=gv(s,16384);u.length>1&&this.sendString_(String(u.length));for(let g=0;g<u.length;g++)this.sendString_(u[g])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),pc=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[go,Ha]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Ha&&Ha.isAvailable();let u=s&&!Ha.previouslyFailed();if(e.webSocketOnly&&(s||Mr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Ha];else{const g=this.transports_=[];for(const w of n.ALL_TRANSPORTS)w&&w.isAvailable()&&g.push(w);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Rv{constructor(t,e,s,u,g,w,R,W,Q,ge){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=u,this.authToken_=g,this.onMessage_=w,this.onReady_=R,this.onDisconnect_=W,this.onKill_=Q,this.lastSessionId=ge,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xl("c:"+this.id+":"),this.transportManager_=new pc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=nd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=uc("t",t),s=uc("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=uc("t",t),s=uc("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=uc("t",t);if("d"in t){const s=t.d;if("h"===e){const u=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Rf("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Mr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),nd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ab{put(t,e,s,u){}merge(t,e,s,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class ja{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,de.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let u=0;u<s.length;u++)s[u].callback.apply(s[u].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const u=this.getInitialEvent(t);u&&e.apply(s,u)}off(t,e,s){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let g=0;g<u.length;g++)if(u[g].callback===e&&(!s||s===u[g].context))return void u.splice(g,1)}validateEventType_(t){(0,de.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class fc extends ja{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,de.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fc}getInitialEvent(t){return(0,de.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class bi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[s]=this.pieces_[u],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function pi(){return new bi("")}function Gn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zr(n){return n.pieces_.length-n.pieceNum_}function Ti(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new bi(n.pieces_,t)}function $a(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Qo(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Jf(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new bi(t,0)}function ki(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof bi)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let u=0;u<s.length;u++)s[u].length>0&&e.push(s[u])}return new bi(e,0)}function Zn(n){return n.pieceNum_>=n.pieces_.length}function mr(n,t){const e=Gn(n),s=Gn(t);if(null===e)return t;if(e===s)return mr(Ti(n),Ti(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Lv(n,t){const e=Qo(n,0),s=Qo(t,0);for(let u=0;u<e.length&&u<s.length;u++){const g=po(e[u],s[u]);if(0!==g)return g}return e.length===s.length?0:e.length<s.length?-1:1}function gc(n,t){if(Zr(n)!==Zr(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function as(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Zr(n)>Zr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Pb{constructor(t,e){this.errorPrefix_=e,this.parts_=Qo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,de.ug)(this.parts_[s]);qf(this)}}function qf(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Jo(n))}function Jo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eg extends ja{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new eg}getInitialEvent(t){return(0,de.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const mc=1e3;let yc,Ya=(()=>{class n extends Ab{constructor(e,s,u,g,w,R,W,Q){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=u,this.onConnectStatus_=g,this.onServerInfoUpdate_=w,this.authTokenProvider_=R,this.appCheckTokenProvider_=W,this.authOverride_=Q,this.id=n.nextPersistentConnectionId_++,this.log_=Xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Q&&!(0,de.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&fc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,u){const g=++this.requestNumber_,w={r:g,a:e,b:s};this.log_((0,de.Wl)(w)),(0,de.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(w),u&&(this.requestCBHash_[g]=u)}get(e){this.initConnection_();const s=new de.BH,g={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:R=>{const W=R.d;"ok"===R.s?s.resolve(W):s.reject(W)}};return this.outstandingGets_.push(g),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,u,g){this.initConnection_();const w=e._queryIdentifier,R=e._path.toString();this.log_("Listen called for "+R+" "+w),this.listens.has(R)||this.listens.set(R,new Map),(0,de.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,de.hu)(!this.listens.get(R).has(w),"listen() called twice for same path/queryId.");const W={onComplete:g,hashFn:s,query:e,tag:u};this.listens.get(R).set(w,W),this.connected_&&this.sendListen_(W)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(u)})}sendListen_(e){const s=e.query,u=s._path.toString(),g=s._queryIdentifier;this.log_("Listen on "+u+" for "+g);const w={p:u};e.tag&&(w.q=s._queryObject,w.t=e.tag),w.h=e.hashFn(),this.sendRequest("q",w,W=>{const Q=W.d,ge=W.s;n.warnOnListenWarnings_(Q,s),(this.listens.get(u)&&this.listens.get(u).get(g))===e&&(this.log_("listen response",W),"ok"!==ge&&this.removeListen_(u,g),e.onComplete&&e.onComplete(ge,Q))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,de.r3)(e,"w")){const u=(0,de.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const g='".indexOn": "'+s._queryParams.getIndex().toString()+'"',w=s._path.toString();Mr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${g} at ${w} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,de.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,de.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(s,u,g=>{const w=g.s,R=g.d||"error";this.authToken_===e&&("ok"===w?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(w,R))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,u=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,u)})}unlisten(e,s){const u=e._path.toString(),g=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+g),(0,de.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,g)&&this.connected_&&this.sendUnlisten_(u,g,e._queryObject,s)}sendUnlisten_(e,s,u,g){this.log_("Unlisten on "+e+" for "+s);const w={p:e};g&&(w.q=u,w.t=g),this.sendRequest("n",w)}onDisconnectPut(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:u})}onDisconnectMerge(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:u})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,u,g){const w={p:s,d:u};this.log_("onDisconnect "+e,w),this.sendRequest(e,w,R=>{g&&setTimeout(()=>{g(R.s,R.d)},Math.floor(0))})}put(e,s,u,g){this.putInternal("p",e,s,u,g)}merge(e,s,u,g){this.putInternal("m",e,s,u,g)}putInternal(e,s,u,g,w){this.initConnection_();const R={p:s,d:u};void 0!==w&&(R.h=w),this.outstandingPuts_.push({action:e,request:R,onComplete:g}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,g=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,u,w=>{this.log_(s+" response",w),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),g&&g(w.s,w.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,de.Wl)(e));const s=e.r,u=this.requestCBHash_[s];u&&(delete this.requestCBHash_[s],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Rf("Unrecognized action received from server: "+(0,de.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,de.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Zo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),g=e.onRealtimeDisconnect_.bind(e),w=e.id+":"+n.nextConnectionId_++,R=e.lastSessionId;let W=!1,Q=null;const ge=function(){Q?Q.close():(W=!0,g())};e.realtime_={close:ge,sendRequest:function(st){(0,de.hu)(Q,"sendRequest call when we're not connected not allowed."),Q.sendRequest(st)}};const Be=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[st,At]=yield Promise.all([e.authTokenProvider_.getToken(Be),e.appCheckTokenProvider_.getToken(Be)]);W?or("getToken() completed but was canceled"):(or("getToken() completed. Creating connection."),e.authToken_=st&&st.accessToken,e.appCheckToken_=At&&At.token,Q=new Rv(w,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,u,g,vn=>{Mr(vn+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},R))}catch(st){e.log_("Failed to get token: "+st),W||(e.repoInfo_.nodeAdmin&&Mr(st),ge())}}})()}interrupt(e){or("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){or("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,de.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let u;u=s?s.map(w=>Lf(w)).join("$"):"default";const g=this.removeListen_(e,u);g&&g.onComplete&&g.onComplete("permission_denied")}removeListen_(e,s){const u=new bi(e).toString();let g;if(this.listens.has(u)){const w=this.listens.get(u);g=w.get(s),w.delete(s),0===w.size&&this.listens.delete(u)}else g=void 0;return g}onAuthRevoked_(e,s){or("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){or("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,de.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Pf.replace(/\./g,"-")]=1,(0,de.uI)()?e["framework.cordova"]=1:(0,de.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fc.getInstance().currentlyOnline();return(0,de.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ni{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ni(t,e)}}class ld{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new ni(Ns,t),u=new ni(Ns,e);return 0!==this.compare(s,u)}minPost(){return ni.MIN}}class Vv extends ld{static get __EMPTY_NODE(){return yc}static set __EMPTY_NODE(t){yc=t}compare(t,e){return po(t.name,e.name)}isDefinedOn(t){throw(0,de.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ni.MIN}maxPost(){return new ni(ho,yc)}makePost(t,e){return(0,de.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ni(t,yc)}toString(){return".key"}}const Vs=new Vv;class Kl{constructor(t,e,s,u,g=null){this.isReverse_=u,this.resultGenerator_=g,this.nodeStack_=[];let w=1;for(;!t.isEmpty();)if(w=e?s(t.key,e):1,u&&(w*=-1),w<0)t=this.isReverse_?t.left:t.right;else{if(0===w){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ls,ws=(()=>{class n{constructor(e,s,u,g,w){this.key=e,this.value=s,this.color=u??n.RED,this.left=g??Hr.EMPTY_NODE,this.right=w??Hr.EMPTY_NODE}copy(e,s,u,g,w){return new n(e??this.key,s??this.value,u??this.color,g??this.left,w??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,u){let g=this;const w=u(e,g.key);return g=w<0?g.copy(null,null,null,g.left.insert(e,s,u),null):0===w?g.copy(null,s,null,null,null):g.copy(null,null,null,null,g.right.insert(e,s,u)),g.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let u,g;if(u=this,s(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,s),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===s(e,u.key)){if(u.right.isEmpty())return Hr.EMPTY_NODE;g=u.right.min_(),u=u.copy(g.key,g.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,s))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Hr{constructor(t,e=Hr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ws.BLACK,null,null))}remove(t){return new Hr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ws.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,u=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return u?u.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(u=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Kl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Kl(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Kl(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Kl(this.root_,null,this.comparator_,!0,t)}}function Ob(n,t){return po(n.name,t.name)}function rg(n,t){return po(n,t)}Hr.EMPTY_NODE=new class Rb{copy(t,e,s,u,g){return this}insert(t,e,s){return new ws(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bv=function(n){return"number"==typeof n?"number:"+mv(n):"string:"+n},Wv=function(n){if(n.isLeafNode()){const t=n.val();(0,de.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,de.r3)(t,".sv"),"Priority must be a string or number.")}else(0,de.hu)(n===ls||n.isEmpty(),"priority of unexpected type.");(0,de.hu)(n===ls||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let og,Uv,zv,Ql=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,de.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Wv(this.priorityNode_)}static set __childrenNodeConstructor(e){og=e}static get __childrenNodeConstructor(){return og}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Zn(e)?this:".priority"===Gn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const u=Gn(e);return null===u?s:s.isEmpty()&&".priority"!==u?this:((0,de.hu)(".priority"!==u||1===Zr(e),".priority must be the last token in a path"),this.updateImmediateChild(u,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ti(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bv(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?mv(this.value_):this.value_,this.lazyHash_=pv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,de.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,u=typeof this.value_,g=n.VALUE_TYPE_ORDER.indexOf(s),w=n.VALUE_TYPE_ORDER.indexOf(u);return(0,de.hu)(g>=0,"Unknown leaf type: "+s),(0,de.hu)(w>=0,"Unknown leaf type: "+u),g===w?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:w-g}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Mi=new class Nb extends ld{compare(t,e){const s=t.node.getPriority(),u=e.node.getPriority(),g=s.compareTo(u);return 0===g?po(t.name,e.name):g}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ni.MIN}maxPost(){return new ni(ho,new Ql("[PRIORITY-POST]",zv))}makePost(t,e){const s=Uv(t);return new ni(e,new Ql("[PRIORITY-POST]",s))}toString(){return".priority"}},lg=Math.log(2);class ud{constructor(t){this.count=parseInt(Math.log(t+1)/lg,10),this.current_=this.count-1;const u=(g=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ug=function(n,t,e,s){n.sort(t);const u=function(W,Q){const ge=Q-W;let Te,Be;if(0===ge)return null;if(1===ge)return Te=n[W],Be=e?e(Te):Te,new ws(Be,Te.node,ws.BLACK,null,null);{const st=parseInt(ge/2,10)+W,At=u(W,st),vn=u(st+1,Q);return Te=n[st],Be=e?e(Te):Te,new ws(Be,Te.node,ws.BLACK,At,vn)}},R=function(W){let Q=null,ge=null,Te=n.length;const Be=function(At,vn){const Rn=Te-At,oi=Te;Te-=At;const Ei=u(Rn+1,oi),br=n[Rn],Ui=e?e(br):br;st(new ws(Ui,br.node,vn,null,Ei))},st=function(At){Q?(Q.left=At,Q=At):(ge=At,Q=At)};for(let At=0;At<W.count;++At){const vn=W.nextBitIsOne(),Rn=Math.pow(2,W.count-(At+1));vn?Be(Rn,ws.BLACK):(Be(Rn,ws.BLACK),Be(Rn,ws.RED))}return ge}(new ud(n.length));return new Hr(s||t,R)};let vc;const _c={};class Bs{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,de.hu)(_c&&Mi,"ChildrenNode.ts has not been loaded"),vc=vc||new Bs({".priority":_c},{".priority":Mi}),vc}get(t){const e=(0,de.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hr?e:null}hasIndex(t){return(0,de.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,de.hu)(t!==Vs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let u=!1;const g=e.getIterator(ni.Wrap);let R,w=g.getNext();for(;w;)u=u||t.isDefinedOn(w.node),s.push(w),w=g.getNext();R=u?ug(s,t.getCompare()):_c;const W=t.toString(),Q=Object.assign({},this.indexSet_);Q[W]=t;const ge=Object.assign({},this.indexes_);return ge[W]=R,new Bs(ge,Q)}addToIndexes(t,e){const s=(0,de.UI)(this.indexes_,(u,g)=>{const w=(0,de.DV)(this.indexSet_,g);if((0,de.hu)(w,"Missing index implementation for "+g),u===_c){if(w.isDefinedOn(t.node)){const R=[],W=e.getIterator(ni.Wrap);let Q=W.getNext();for(;Q;)Q.name!==t.name&&R.push(Q),Q=W.getNext();return R.push(t),ug(R,w.getCompare())}return _c}{const R=e.get(t.name);let W=u;return R&&(W=W.remove(new ni(t.name,R))),W.insert(t,t.node)}});return new Bs(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,de.UI)(this.indexes_,u=>{if(u===_c)return u;{const g=e.get(t.name);return g?u.remove(new ni(t.name,g)):u}});return new Bs(s,this.indexSet_)}}let Jl,jn=(()=>{class n{constructor(e,s,u){this.children_=e,this.priorityNode_=s,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Wv(this.priorityNode_),this.children_.isEmpty()&&(0,de.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jl||(Jl=new n(new Hr(rg),null,Bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jl}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Jl:s}}getChild(e){const s=Gn(e);return null===s?this:this.getImmediateChild(s).getChild(Ti(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,de.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const u=new ni(e,s);let g,w;s.isEmpty()?(g=this.children_.remove(e),w=this.indexMap_.removeFromIndexes(u,this.children_)):(g=this.children_.insert(e,s),w=this.indexMap_.addToIndexes(u,this.children_));const R=g.isEmpty()?Jl:this.priorityNode_;return new n(g,R,w)}}updateChild(e,s){const u=Gn(e);if(null===u)return s;{(0,de.hu)(".priority"!==Gn(e)||1===Zr(e),".priority must be the last token in a path");const g=this.getImmediateChild(u).updateChild(Ti(e),s);return this.updateImmediateChild(u,g)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let u=0,g=0,w=!0;if(this.forEachChild(Mi,(R,W)=>{s[R]=W.val(e),u++,w&&n.INTEGER_REGEXP_.test(R)?g=Math.max(g,Number(R)):w=!1}),!e&&w&&g<2*u){const R=[];for(const W in s)R[W]=s[W];return R}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Bv(this.getPriority().val())+":"),this.forEachChild(Mi,(s,u)=>{const g=u.hash();""!==g&&(e+=":"+s+":"+g)}),this.lazyHash_=""===e?"":pv(e)}return this.lazyHash_}getPredecessorChildName(e,s,u){const g=this.resolveIndex_(u);if(g){const w=g.getPredecessorKey(new ni(e,s));return w?w.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new ni(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new ni(s,this.children_.get(s)):null}forEachChild(e,s){const u=this.resolveIndex_(e);return u?u.inorderTraversal(g=>s(g.name,g.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getIteratorFrom(e,g=>g);{const g=this.children_.getIteratorFrom(e.name,ni.Wrap);let w=g.peek();for(;null!=w&&s.compare(w,e)<0;)g.getNext(),w=g.peek();return g}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getReverseIteratorFrom(e,g=>g);{const g=this.children_.getReverseIteratorFrom(e.name,ni.Wrap);let w=g.peek();for(;null!=w&&s.compare(w,e)>0;)g.getNext(),w=g.peek();return g}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xa?-1:0}withIndex(e){if(e===Vs||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Vs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const u=this.getIterator(Mi),g=s.getIterator(Mi);let w=u.getNext(),R=g.getNext();for(;w&&R;){if(w.name!==R.name||!w.node.equals(R.node))return!1;w=u.getNext(),R=g.getNext()}return null===w&&null===R}return!1}return!1}}resolveIndex_(e){return e===Vs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Xa=new class Hv extends jn{constructor(){super(new Hr(rg),jn.EMPTY_NODE,Bs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return jn.EMPTY_NODE}isEmpty(){return!1}};function Fi(n,t=null){if(null===n)return jn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,de.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ql(n,Fi(t));if(n instanceof Array){let e=jn.EMPTY_NODE;return ar(n,(s,u)=>{if((0,de.r3)(n,s)&&"."!==s.substring(0,1)){const g=Fi(u);(g.isLeafNode()||!g.isEmpty())&&(e=e.updateImmediateChild(s,g))}}),e.updatePriority(Fi(t))}{const e=[];let s=!1;if(ar(n,(w,R)=>{if("."!==w.substring(0,1)){const W=Fi(R);W.isEmpty()||(s=s||!W.getPriority().isEmpty(),e.push(new ni(w,W)))}}),0===e.length)return jn.EMPTY_NODE;const g=ug(e,Ob,w=>w.name,rg);if(s){const w=ug(e,Mi.getCompare());return new jn(g,Fi(t),new Bs({".priority":w},{".priority":Mi}))}return new jn(g,Fi(t),Bs.Default)}}Object.defineProperties(ni,{MIN:{value:new ni(Ns,jn.EMPTY_NODE)},MAX:{value:new ni(ho,Xa)}}),Vv.__EMPTY_NODE=jn.EMPTY_NODE,Ql.__childrenNodeConstructor=jn,function sg(n){ls=n}(Xa),function Lb(n){zv=n}(Xa),function ag(n){Uv=n}(Fi);class ql extends ld{constructor(t){super(),this.indexPath_=t,(0,de.hu)(!Zn(t)&&".priority"!==Gn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),u=this.extractChild(e.node),g=s.compareTo(u);return 0===g?po(t.name,e.name):g}makePost(t,e){const s=Fi(t),u=jn.EMPTY_NODE.updateChild(this.indexPath_,s);return new ni(e,u)}maxPost(){const t=jn.EMPTY_NODE.updateChild(this.indexPath_,Xa);return new ni(ho,t)}toString(){return Qo(this.indexPath_,0).join("/")}}const cg=new class xc extends ld{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?po(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ni.MIN}maxPost(){return ni.MAX}makePost(t,e){const s=Fi(t);return new ni(e,s)}toString(){return".value"}};function hg(n){return{type:"value",snapshotNode:n}}function Ga(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Cc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class dg{constructor(t){this.index_=t}updateChild(t,e,s,u,g,w){(0,de.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const R=t.getImmediateChild(e);return R.getChild(u).equals(s.getChild(u))&&R.isEmpty()===s.isEmpty()||(null!=w&&(s.isEmpty()?t.hasChild(e)?w.trackChildChange(bc(e,R)):(0,de.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):R.isEmpty()?w.trackChildChange(Ga(e,s)):w.trackChildChange(Cc(e,s,R))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(Mi,(u,g)=>{e.hasChild(u)||s.trackChildChange(bc(u,g))}),e.isLeafNode()||e.forEachChild(Mi,(u,g)=>{if(t.hasChild(u)){const w=t.getImmediateChild(u);w.equals(g)||s.trackChildChange(Cc(u,g,w))}else s.trackChildChange(Ga(u,g))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?jn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cd{constructor(t){this.indexedFilter_=new dg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=cd.getStartPost_(t),this.endPost_=cd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,u,g,w){return this.matches(new ni(e,s))||(s=jn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,u,g,w)}updateFullNode(t,e,s){e.isLeafNode()&&(e=jn.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(jn.EMPTY_NODE);const g=this;return e.forEachChild(Mi,(w,R)=>{g.matches(new ni(w,R))||(u=u.updateImmediateChild(w,jn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Vb{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new cd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,u,g,w){return this.rangedFilter_.matches(new ni(e,s))||(s=jn.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,u,g,w):this.fullLimitUpdateChild_(t,e,s,g,w)}updateFullNode(t,e,s){let u;if(e.isLeafNode()||e.isEmpty())u=jn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let g;u=jn.EMPTY_NODE.withIndex(this.index_),g=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let w=0;for(;g.hasNext()&&w<this.limit_;){const R=g.getNext();if(this.withinDirectionalStart(R)){if(!this.withinDirectionalEnd(R))break;u=u.updateImmediateChild(R.name,R.node),w++}}}else{let g;u=e.withIndex(this.index_),u=u.updatePriority(jn.EMPTY_NODE),g=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let w=0;for(;g.hasNext();){const R=g.getNext();w<this.limit_&&this.withinDirectionalStart(R)&&this.withinDirectionalEnd(R)?w++:u=u.updateImmediateChild(R.name,jn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,u,g){let w;if(this.reverse_){const Te=this.index_.getCompare();w=(Be,st)=>Te(st,Be)}else w=this.index_.getCompare();const R=t;(0,de.hu)(R.numChildren()===this.limit_,"");const W=new ni(e,s),Q=this.reverse_?R.getFirstChild(this.index_):R.getLastChild(this.index_),ge=this.rangedFilter_.matches(W);if(R.hasChild(e)){const Te=R.getImmediateChild(e);let Be=u.getChildAfterChild(this.index_,Q,this.reverse_);for(;null!=Be&&(Be.name===e||R.hasChild(Be.name));)Be=u.getChildAfterChild(this.index_,Be,this.reverse_);const st=null==Be?1:w(Be,W);if(ge&&!s.isEmpty()&&st>=0)return g?.trackChildChange(Cc(e,s,Te)),R.updateImmediateChild(e,s);{g?.trackChildChange(bc(e,Te));const vn=R.updateImmediateChild(e,jn.EMPTY_NODE);return null!=Be&&this.rangedFilter_.matches(Be)?(g?.trackChildChange(Ga(Be.name,Be.node)),vn.updateImmediateChild(Be.name,Be.node)):vn}}return s.isEmpty()?t:ge&&w(Q,W)>=0?(null!=g&&(g.trackChildChange(bc(Q.name,Q.node)),g.trackChildChange(Ga(e,s))),R.updateImmediateChild(e,s).updateImmediateChild(Q.name,jn.EMPTY_NODE)):t}}class hd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,de.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,de.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ns}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,de.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,de.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,de.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mi}copy(){const t=new hd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pg(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function dd(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function pd(n,t){const e=n.copy();return e.index_=t,e}function fd(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Mi?e="$priority":n.index_===cg?e="$value":n.index_===Vs?e="$key":((0,de.hu)(n.index_ instanceof ql,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,de.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=(0,de.Wl)(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+(0,de.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=(0,de.Wl)(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+(0,de.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function jv(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Mi&&(t.i=n.index_.toString()),t}class gd extends Ab{constructor(t,e,s,u){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=u,this.log_=Xl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,de.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,u){const g=t._path.toString();this.log_("Listen called for "+g+" "+t._queryIdentifier);const w=gd.getListenId_(t,s),R={};this.listens_[w]=R;const W=fd(t._queryParams);this.restRequest_(g+".json",W,(Q,ge)=>{let Te=ge;if(404===Q&&(Te=null,Q=null),null===Q&&this.onDataUpdate_(g,Te,!1,s),(0,de.DV)(this.listens_,w)===R){let Be;Be=Q?401===Q?"permission_denied":"rest_error:"+Q:"ok",u(Be,null)}})}unlisten(t,e){const s=gd.getListenId_(t,e);delete this.listens_[s]}get(t){const e=fd(t._queryParams),s=t._path.toString(),u=new de.BH;return this.restRequest_(s+".json",e,(g,w)=>{let R=w;404===g&&(R=null,g=null),null===g?(this.onDataUpdate_(s,R,!1,null),u.resolve(R)):u.reject(new Error(R))}),u.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,g])=>{u&&u.accessToken&&(e.auth=u.accessToken),g&&g.token&&(e.ac=g.token);const w=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,de.xO)(e);this.log_("Sending REST request for "+w);const R=new XMLHttpRequest;R.onreadystatechange=()=>{if(s&&4===R.readyState){this.log_("REST Response for "+w+" received. status:",R.status,"response:",R.responseText);let W=null;if(R.status>=200&&R.status<300){try{W=(0,de.cI)(R.responseText)}catch{Mr("Failed to parse JSON response for "+w+": "+R.responseText)}s(null,W)}else 401!==R.status&&404!==R.status&&Mr("Got unsuccessful REST response for "+w+" Status: "+R.status),s(R.status);s=null}},R.open("GET",w,!0),R.send()})}}class Hb{constructor(){this.rootNode_=jn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function md(){return{value:null,children:new Map}}function eu(n,t,e){if(Zn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Gn(t);n.children.has(s)||n.children.set(s,md()),eu(n.children.get(s),t=Ti(t),e)}}function gg(n,t){if(Zn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Mi,(s,u)=>{eu(n,new bi(s),u)}),gg(n,t)}}if(n.children.size>0){const e=Gn(t);return t=Ti(t),n.children.has(e)&&gg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function mg(n,t,e){null!==n.value?e(t,n.value):function $v(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,u)=>{mg(u,new bi(t.toString()+"/"+s),e)})}class Yv{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ar(this.last_,(s,u)=>{e[s]=e[s]-u}),this.last_=t,e}}class yd{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Yv(t);const s=1e4+2e4*Math.random();nd(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;ar(t,(u,g)=>{g>0&&(0,de.r3)(this.statsToReport_,u)&&(e[u]=g,s=!0)}),s&&this.server_.reportStats(e),nd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lr=(()=>{return(n=lr||(lr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",lr;var n})();function yg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vd{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=lr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Zn(this.path)){if(null!=this.affectedTree.value)return(0,de.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new bi(t));return new vd(pi(),e,this.revert)}}return(0,de.hu)(Gn(this.path)===t,"operationForChild called for unrelated child."),new vd(Ti(this.path),this.affectedTree,this.revert)}}class Za{constructor(t,e){this.source=t,this.path=e,this.type=lr.LISTEN_COMPLETE}operationForChild(t){return Zn(this.path)?new Za(this.source,pi()):new Za(this.source,Ti(this.path))}}class Ka{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=lr.OVERWRITE}operationForChild(t){return Zn(this.path)?new Ka(this.source,pi(),this.snap.getImmediateChild(t)):new Ka(this.source,Ti(this.path),this.snap)}}class Or{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=lr.MERGE}operationForChild(t){if(Zn(this.path)){const e=this.children.subtree(new bi(t));return e.isEmpty()?null:e.value?new Ka(this.source,pi(),e.value):new Or(this.source,pi(),e)}return(0,de.hu)(Gn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Or(this.source,Ti(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class us{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Zn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Gn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Sr{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qo(n,t,e,s,u,g){const w=s.filter(R=>R.type===e);w.sort((R,W)=>function vg(n,t,e){if(null==t.childName||null==e.childName)throw(0,de.g5)("Should only compare child_ events.");const s=new ni(t.childName,t.snapshotNode),u=new ni(e.childName,e.snapshotNode);return n.index_.compare(s,u)}(n,R,W)),w.forEach(R=>{const W=function cs(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,R,g);u.forEach(Q=>{Q.respondsTo(R.type)&&t.push(Q.createEvent(W,n.query_))})})}function yo(n,t){return{eventCache:n,serverCache:t}}function Ws(n,t,e,s){return yo(new us(t,e,s),n.serverCache)}function Ja(n,t,e,s){return yo(n.eventCache,new us(t,e,s))}function vo(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function hs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ea;class mi{constructor(t,e=(()=>(ea||(ea=new Hr(lc)),ea))()){this.value=t,this.children=e}static fromObject(t){let e=new mi(null);return ar(t,(s,u)=>{e=e.set(new bi(s),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:pi(),value:this.value};if(Zn(t))return null;{const s=Gn(t),u=this.children.get(s);if(null!==u){const g=u.findRootMostMatchingPathAndValue(Ti(t),e);return null!=g?{path:ki(new bi(s),g.path),value:g.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Zn(t))return this;{const e=Gn(t),s=this.children.get(e);return null!==s?s.subtree(Ti(t)):new mi(null)}}set(t,e){if(Zn(t))return new mi(e,this.children);{const s=Gn(t),g=(this.children.get(s)||new mi(null)).set(Ti(t),e),w=this.children.insert(s,g);return new mi(this.value,w)}}remove(t){if(Zn(t))return this.children.isEmpty()?new mi(null):new mi(null,this.children);{const e=Gn(t),s=this.children.get(e);if(s){const u=s.remove(Ti(t));let g;return g=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&g.isEmpty()?new mi(null):new mi(this.value,g)}return this}}get(t){if(Zn(t))return this.value;{const e=Gn(t),s=this.children.get(e);return s?s.get(Ti(t)):null}}setTree(t,e){if(Zn(t))return e;{const s=Gn(t),g=(this.children.get(s)||new mi(null)).setTree(Ti(t),e);let w;return w=g.isEmpty()?this.children.remove(s):this.children.insert(s,g),new mi(this.value,w)}}fold(t){return this.fold_(pi(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((u,g)=>{s[u]=g.fold_(ki(t,u),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,pi(),e)}findOnPath_(t,e,s){const u=!!this.value&&s(e,this.value);if(u)return u;if(Zn(t))return null;{const g=Gn(t),w=this.children.get(g);return w?w.findOnPath_(Ti(t),ki(e,g),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,pi(),e)}foreachOnPath_(t,e,s){if(Zn(t))return this;{this.value&&s(e,this.value);const u=Gn(t),g=this.children.get(u);return g?g.foreachOnPath_(Ti(t),ki(e,u),s):new mi(null)}}foreach(t){this.foreach_(pi(),t)}foreach_(t,e){this.children.inorderTraversal((s,u)=>{u.foreach_(ki(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Ir{constructor(t){this.writeTree_=t}static empty(){return new Ir(new mi(null))}}function iu(n,t,e){if(Zn(t))return new Ir(new mi(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const u=s.path;let g=s.value;const w=mr(u,t);return g=g.updateChild(w,e),new Ir(n.writeTree_.set(u,g))}{const u=new mi(e),g=n.writeTree_.setTree(t,u);return new Ir(g)}}}function _d(n,t,e){let s=n;return ar(e,(u,g)=>{s=iu(s,ki(t,u),g)}),s}function _g(n,t){if(Zn(t))return Ir.empty();{const e=n.writeTree_.setTree(t,new mi(null));return new Ir(e)}}function xd(n,t){return null!=ta(n,t)}function ta(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(mr(e.path,t)):null}function xg(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Mi,(s,u)=>{t.push(new ni(s,u))}):n.writeTree_.children.inorderTraversal((s,u)=>{null!=u.value&&t.push(new ni(s,u.value))}),t}function _o(n,t){if(Zn(t))return n;{const e=ta(n,t);return new Ir(null!=e?new mi(e):n.writeTree_.subtree(t))}}function bd(n){return n.writeTree_.isEmpty()}function qa(n,t){return Kv(pi(),n.writeTree_,t)}function Kv(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((u,g)=>{".priority"===u?((0,de.hu)(null!==g.value,"Priority writes must always be leaf nodes"),s=g.value):e=Kv(ki(n,u),g,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(ki(n,".priority"),s)),e}}function Cd(n,t){return Ig(t,n)}function Cg(n,t){if(n.snap)return as(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&as(ki(n.path,e),t))return!0;return!1}function wd(n){return n.visible}function Tc(n,t,e){let s=Ir.empty();for(let u=0;u<n.length;++u){const g=n[u];if(t(g)){const w=g.path;let R;if(g.snap)as(e,w)?(R=mr(e,w),s=iu(s,R,g.snap)):as(w,e)&&(R=mr(w,e),s=iu(s,pi(),g.snap.getChild(R)));else{if(!g.children)throw(0,de.g5)("WriteRecord should have .snap or .children");if(as(e,w))R=mr(e,w),s=_d(s,R,g.children);else if(as(w,e))if(R=mr(w,e),Zn(R))s=_d(s,pi(),g.children);else{const W=(0,de.DV)(g.children,Gn(R));if(W){const Q=W.getChild(Ti(R));s=iu(s,pi(),Q)}}}}}return s}function Td(n,t,e,s,u){if(s||u){const g=_o(n.visibleWrites,t);return!u&&bd(g)?e:u||null!=e||xd(g,pi())?qa(Tc(n.allWrites,function(Q){return(Q.visible||u)&&(!s||!~s.indexOf(Q.writeId))&&(as(Q.path,t)||as(t,Q.path))},t),e||jn.EMPTY_NODE):null}{const g=ta(n.visibleWrites,t);if(null!=g)return g;{const w=_o(n.visibleWrites,t);return bd(w)?e:null!=e||xd(w,pi())?qa(w,e||jn.EMPTY_NODE):null}}}function Mc(n,t,e,s){return Td(n.writeTree,n.treePath,t,e,s)}function Md(n,t){return function Xb(n,t,e){let s=jn.EMPTY_NODE;const u=ta(n.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Mi,(g,w)=>{s=s.updateImmediateChild(g,w)}),s;if(e){const g=_o(n.visibleWrites,t);return e.forEachChild(Mi,(w,R)=>{const W=qa(_o(g,new bi(w)),R);s=s.updateImmediateChild(w,W)}),xg(g).forEach(w=>{s=s.updateImmediateChild(w.name,w.node)}),s}return xg(_o(n.visibleWrites,t)).forEach(w=>{s=s.updateImmediateChild(w.name,w.node)}),s}(n.writeTree,n.treePath,t)}function Sd(n,t,e,s){return function wg(n,t,e,s,u){(0,de.hu)(s||u,"Either existingEventSnap or existingServerSnap must exist");const g=ki(t,e);if(xd(n.visibleWrites,g))return null;{const w=_o(n.visibleWrites,g);return bd(w)?u.getChild(e):qa(w,u.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Sc(n,t){return function Jv(n,t){return ta(n.visibleWrites,t)}(n.writeTree,ki(n.treePath,t))}function Id(n,t,e){return function Tg(n,t,e,s){const u=ki(t,e),g=ta(n.visibleWrites,u);return null!=g?g:s.isCompleteForChild(e)?qa(_o(n.visibleWrites,u),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Sg(n,t){return Ig(ki(n.treePath,t),n.writeTree)}function Ig(n,t){return{treePath:n,writeTree:t}}class e_{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,de.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,de.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(s);if(u){const g=u.type;if("child_added"===e&&"child_removed"===g)this.changeMap.set(s,Cc(s,t.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===g)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===g)this.changeMap.set(s,bc(s,u.oldSnap));else if("child_changed"===e&&"child_added"===g)this.changeMap.set(s,Ga(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==g)throw(0,de.g5)("Illegal combination of changes: "+t+" occurred after "+u);this.changeMap.set(s,Cc(s,t.snapshotNode,u.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const t_=new class Zb{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Eg{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Id(this.writes_,t,s)}}getChildAfterChild(t,e,s){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hs(this.viewCache_),g=function Gb(n,t,e,s,u,g){return function qv(n,t,e,s,u,g,w){let R;const W=_o(n.visibleWrites,t),Q=ta(W,pi());if(null!=Q)R=Q;else{if(null==e)return[];R=qa(W,e)}if(R=R.withIndex(w),R.isEmpty()||R.isLeafNode())return[];{const ge=[],Te=w.getCompare(),Be=g?R.getReverseIteratorFrom(s,w):R.getIteratorFrom(s,w);let st=Be.getNext();for(;st&&ge.length<u;)0!==Te(st,s)&&ge.push(st),st=Be.getNext();return ge}}(n.writeTree,n.treePath,t,e,s,u,g)}(this.writes_,u,e,1,s,t);return 0===g.length?null:g[0]}}function Pg(n,t,e,s,u,g){const w=t.eventCache;if(null!=Sc(s,e))return t;{let R,W;if(Zn(e))if((0,de.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const Q=hs(t),Te=Md(s,Q instanceof jn?Q:jn.EMPTY_NODE);R=n.filter.updateFullNode(t.eventCache.getNode(),Te,g)}else{const Q=Mc(s,hs(t));R=n.filter.updateFullNode(t.eventCache.getNode(),Q,g)}else{const Q=Gn(e);if(".priority"===Q){(0,de.hu)(1===Zr(e),"Can't have a priority with additional path components");const ge=w.getNode();W=t.serverCache.getNode();const Te=Sd(s,e,ge,W);R=null!=Te?n.filter.updatePriority(ge,Te):w.getNode()}else{const ge=Ti(e);let Te;if(w.isCompleteForChild(Q)){W=t.serverCache.getNode();const Be=Sd(s,e,w.getNode(),W);Te=null!=Be?w.getNode().getImmediateChild(Q).updateChild(ge,Be):w.getNode().getImmediateChild(Q)}else Te=Id(s,Q,t.serverCache);R=null!=Te?n.filter.updateChild(w.getNode(),Q,Te,ge,u,g):w.getNode()}}return Ws(t,R,w.isFullyInitialized()||Zn(e),n.filter.filtersNodes())}}function Ic(n,t,e,s,u,g,w,R){const W=t.serverCache;let Q;const ge=w?n.filter:n.filter.getIndexedFilter();if(Zn(e))Q=ge.updateFullNode(W.getNode(),s,null);else if(ge.filtersNodes()&&!W.isFiltered()){const st=W.getNode().updateChild(e,s);Q=ge.updateFullNode(W.getNode(),st,null)}else{const st=Gn(e);if(!W.isCompleteForPath(e)&&Zr(e)>1)return t;const At=Ti(e),Rn=W.getNode().getImmediateChild(st).updateChild(At,s);Q=".priority"===st?ge.updatePriority(W.getNode(),Rn):ge.updateChild(W.getNode(),st,Rn,At,t_,null)}const Te=Ja(t,Q,W.isFullyInitialized()||Zn(e),ge.filtersNodes());return Pg(n,Te,e,u,new Eg(u,Te,g),R)}function Ed(n,t,e,s,u,g,w){const R=t.eventCache;let W,Q;const ge=new Eg(u,t,g);if(Zn(e))Q=n.filter.updateFullNode(t.eventCache.getNode(),s,w),W=Ws(t,Q,!0,n.filter.filtersNodes());else{const Te=Gn(e);if(".priority"===Te)Q=n.filter.updatePriority(t.eventCache.getNode(),s),W=Ws(t,Q,R.isFullyInitialized(),R.isFiltered());else{const Be=Ti(e),st=R.getNode().getImmediateChild(Te);let At;if(Zn(Be))At=s;else{const vn=ge.getCompleteChild(Te);At=null!=vn?".priority"===$a(Be)&&vn.getChild(Jf(Be)).isEmpty()?vn:vn.updateChild(Be,s):jn.EMPTY_NODE}W=st.equals(At)?t:Ws(t,n.filter.updateChild(R.getNode(),Te,At,Be,ge,w),R.isFullyInitialized(),n.filter.filtersNodes())}}return W}function kg(n,t){return n.eventCache.isCompleteForChild(t)}function Fg(n,t,e){return e.foreach((s,u)=>{t=t.updateChild(s,u)}),t}function ru(n,t,e,s,u,g,w,R){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let Q,W=t;Q=Zn(e)?s:new mi(null).setTree(e,s);const ge=t.serverCache.getNode();return Q.children.inorderTraversal((Te,Be)=>{if(ge.hasChild(Te)){const At=Fg(0,t.serverCache.getNode().getImmediateChild(Te),Be);W=Ic(n,W,new bi(Te),At,u,g,w,R)}}),Q.children.inorderTraversal((Te,Be)=>{const st=!t.serverCache.isCompleteForChild(Te)&&null===Be.value;if(!ge.hasChild(Te)&&!st){const vn=Fg(0,t.serverCache.getNode().getImmediateChild(Te),Be);W=Ic(n,W,new bi(Te),vn,u,g,w,R)}}),W}class Rg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,u=new dg(s.getIndex()),g=function Bb(n){return n.loadsAllData()?new dg(n.getIndex()):n.hasLimit()?new Vb(n):new cd(n)}(s);this.processor_=function Dg(n){return{filter:n}}(g);const w=e.serverCache,R=e.eventCache,W=u.updateFullNode(jn.EMPTY_NODE,w.getNode(),null),Q=g.updateFullNode(jn.EMPTY_NODE,R.getNode(),null),ge=new us(W,w.isFullyInitialized(),u.filtersNodes()),Te=new us(Q,R.isFullyInitialized(),g.filtersNodes());this.viewCache_=yo(Te,ge),this.eventGenerator_=new Sr(this.query_)}get query(){return this.query_}}function Jb(n,t){const e=hs(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Zn(t)&&!e.getImmediateChild(Gn(t)).isEmpty())?e.getChild(t):null}function Dd(n){return 0===n.eventRegistrations_.length}function qb(n,t,e){const s=[];if(e){(0,de.hu)(null==t,"A cancel should cancel all event registrations.");const u=n.query._path;n.eventRegistrations_.forEach(g=>{const w=g.createCancelEvent(e,u);w&&s.push(w)})}if(t){let u=[];for(let g=0;g<n.eventRegistrations_.length;++g){const w=n.eventRegistrations_[g];if(w.matches(t)){if(t.hasAnyCallback()){u=u.concat(n.eventRegistrations_.slice(g+1));break}}else u.push(w)}n.eventRegistrations_=u}else n.eventRegistrations_=[];return s}function s_(n,t,e,s){t.type===lr.MERGE&&null!==t.source.queryId&&((0,de.hu)(hs(n.viewCache_),"We should always have a full cache before handling merges"),(0,de.hu)(vo(n.viewCache_),"Missing event cache, even though we have a server cache"));const u=n.viewCache_,g=function n_(n,t,e,s,u){const g=new e_;let w,R;if(e.type===lr.OVERWRITE){const Q=e;Q.source.fromUser?w=Ed(n,t,Q.path,Q.snap,s,u,g):((0,de.hu)(Q.source.fromServer,"Unknown source."),R=Q.source.tagged||t.serverCache.isFiltered()&&!Zn(Q.path),w=Ic(n,t,Q.path,Q.snap,s,u,R,g))}else if(e.type===lr.MERGE){const Q=e;Q.source.fromUser?w=function r_(n,t,e,s,u,g,w){let R=t;return s.foreach((W,Q)=>{const ge=ki(e,W);kg(t,Gn(ge))&&(R=Ed(n,R,ge,Q,u,g,w))}),s.foreach((W,Q)=>{const ge=ki(e,W);kg(t,Gn(ge))||(R=Ed(n,R,ge,Q,u,g,w))}),R}(n,t,Q.path,Q.children,s,u,g):((0,de.hu)(Q.source.fromServer,"Unknown source."),R=Q.source.tagged||t.serverCache.isFiltered(),w=ru(n,t,Q.path,Q.children,s,u,R,g))}else if(e.type===lr.ACK_USER_WRITE){const Q=e;w=Q.revert?function Qb(n,t,e,s,u,g){let w;if(null!=Sc(s,e))return t;{const R=new Eg(s,t,u),W=t.eventCache.getNode();let Q;if(Zn(e)||".priority"===Gn(e)){let ge;if(t.serverCache.isFullyInitialized())ge=Mc(s,hs(t));else{const Te=t.serverCache.getNode();(0,de.hu)(Te instanceof jn,"serverChildren would be complete if leaf node"),ge=Md(s,Te)}Q=n.filter.updateFullNode(W,ge,g)}else{const ge=Gn(e);let Te=Id(s,ge,t.serverCache);null==Te&&t.serverCache.isCompleteForChild(ge)&&(Te=W.getImmediateChild(ge)),Q=null!=Te?n.filter.updateChild(W,ge,Te,Ti(e),R,g):t.eventCache.getNode().hasChild(ge)?n.filter.updateChild(W,ge,jn.EMPTY_NODE,Ti(e),R,g):W,Q.isEmpty()&&t.serverCache.isFullyInitialized()&&(w=Mc(s,hs(t)),w.isLeafNode()&&(Q=n.filter.updateFullNode(Q,w,g)))}return w=t.serverCache.isFullyInitialized()||null!=Sc(s,pi()),Ws(t,Q,w,n.filter.filtersNodes())}}(n,t,Q.path,s,u,g):function na(n,t,e,s,u,g,w){if(null!=Sc(u,e))return t;const R=t.serverCache.isFiltered(),W=t.serverCache;if(null!=s.value){if(Zn(e)&&W.isFullyInitialized()||W.isCompleteForPath(e))return Ic(n,t,e,W.getNode().getChild(e),u,g,R,w);if(Zn(e)){let Q=new mi(null);return W.getNode().forEachChild(Vs,(ge,Te)=>{Q=Q.set(new bi(ge),Te)}),ru(n,t,e,Q,u,g,R,w)}return t}{let Q=new mi(null);return s.foreach((ge,Te)=>{const Be=ki(e,ge);W.isCompleteForPath(Be)&&(Q=Q.set(ge,W.getNode().getChild(Be)))}),ru(n,t,e,Q,u,g,R,w)}}(n,t,Q.path,Q.affectedTree,s,u,g)}else{if(e.type!==lr.LISTEN_COMPLETE)throw(0,de.g5)("Unknown operation type: "+e.type);w=function Kb(n,t,e,s,u){const g=t.serverCache;return Pg(n,Ja(t,g.getNode(),g.isFullyInitialized()||Zn(e),g.isFiltered()),e,s,t_,u)}(n,t,e.path,s,g)}const W=g.getChanges();return function i_(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const u=s.getNode().isLeafNode()||s.getNode().isEmpty(),g=vo(n);(e.length>0||!n.eventCache.isFullyInitialized()||u&&!s.getNode().equals(g)||!s.getNode().getPriority().equals(g.getPriority()))&&e.push(hg(vo(t)))}}(t,w,W),{viewCache:w,changes:W}}(n.processor_,u,t,e,s);return function Ag(n,t){(0,de.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,de.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,g.viewCache),(0,de.hu)(g.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=g.viewCache,Lg(n,g.changes,g.viewCache.eventCache.getNode(),null)}function Lg(n,t,e,s){return function Qa(n,t,e,s){const u=[],g=[];return t.forEach(w=>{"child_changed"===w.type&&n.index_.indexedValueChanged(w.oldSnap,w.snapshotNode)&&g.push(function wc(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(w.childName,w.snapshotNode))}),qo(n,u,"child_removed",t,s,e),qo(n,u,"child_added",t,s,e),qo(n,u,"child_moved",g,s,e),qo(n,u,"child_changed",t,s,e),qo(n,u,"value",t,s,e),u}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let Ad,Vg;class tr{constructor(){this.views=new Map}}function Pd(n,t,e,s){const u=t.source.queryId;if(null!==u){const g=n.views.get(u);return(0,de.hu)(null!=g,"SyncTree gave us an op for an invalid query."),s_(g,t,e,s)}{let g=[];for(const w of n.views.values())g=g.concat(s_(w,t,e,s));return g}}function a_(n,t,e,s,u){const w=n.views.get(t._queryIdentifier);if(!w){let R=Mc(e,u?s:null),W=!1;R?W=!0:s instanceof jn?(R=Md(e,s),W=!1):(R=jn.EMPTY_NODE,W=!1);const Q=yo(new us(R,W,!1),new us(s,u,!1));return new Rg(t,Q)}return w}function tl(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ia(n,t){let e=null;for(const s of n.views.values())e=e||Jb(s,t);return e}function c_(n,t){return t._queryParams.loadsAllData()?Ec(n):n.views.get(t._queryIdentifier)}function Ng(n,t){return null!=c_(n,t)}function ra(n){return null!=Ec(n)}function Ec(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Us=1;class d_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mi(null),this.pendingWriteTree_=function Mg(){return{visibleWrites:Ir.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wg(n,t,e,s,u){return function Qv(n,t,e,s,u){(0,de.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:u}),u&&(n.visibleWrites=iu(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,u),u?nl(n,new Ka({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ur(n,t,e=!1){const s=function $b(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function bg(n,t){const e=n.allWrites.findIndex(R=>R.writeId===t);(0,de.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let u=s.visible,g=!1,w=n.allWrites.length-1;for(;u&&w>=0;){const R=n.allWrites[w];R.visible&&(w>=e&&Cg(R,s.path)?u=!1:as(s.path,R.path)&&(g=!0)),w--}return!!u&&(g?(function Yb(n){n.visibleWrites=Tc(n.allWrites,wd,pi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=_g(n.visibleWrites,s.path):ar(s.children,W=>{n.visibleWrites=_g(n.visibleWrites,ki(s.path,W))}),!0))}(n.pendingWriteTree_,t)){let g=new mi(null);return null!=s.snap?g=g.set(pi(),!0):ar(s.children,w=>{g=g.set(new bi(w),!0)}),nl(n,new vd(s.path,g,e))}return[]}function Lr(n,t,e){return nl(n,new Ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function kd(n,t,e,s,u=!1){const g=t._path,w=n.syncPointTree_.get(g);let R=[];if(w&&("default"===t._queryIdentifier||Ng(w,t))){const W=function u_(n,t,e,s){const u=t._queryIdentifier,g=[];let w=[];const R=ra(n);if("default"===u)for(const[W,Q]of n.views.entries())w=w.concat(qb(Q,e,s)),Dd(Q)&&(n.views.delete(W),Q.query._queryParams.loadsAllData()||g.push(Q.query));else{const W=n.views.get(u);W&&(w=w.concat(qb(W,e,s)),Dd(W)&&(n.views.delete(u),W.query._queryParams.loadsAllData()||g.push(W.query)))}return R&&!ra(n)&&g.push(new(function tC(){return(0,de.hu)(Ad,"Reference.ts has not been loaded"),Ad}())(t._repo,t._path)),{removed:g,events:w}}(w,t,e,s);(function nC(n){return 0===n.views.size})(w)&&(n.syncPointTree_=n.syncPointTree_.remove(g));const Q=W.removed;if(R=W.events,!u){const ge=-1!==Q.findIndex(Be=>Be._queryParams.loadsAllData()),Te=n.syncPointTree_.findOnPath(g,(Be,st)=>ra(st));if(ge&&!Te){const Be=n.syncPointTree_.subtree(g);if(!Be.isEmpty()){const st=function Ld(n){return n.fold((t,e,s)=>{if(e&&ra(e))return[Ec(e)];{let u=[];return e&&(u=tl(e)),ar(s,(g,w)=>{u=u.concat(w)}),u}})}(Be);for(let At=0;At<st.length;++At){const vn=st[At],Rn=vn.query,oi=zg(n,vn);n.listenProvider_.startListening(su(Rn),oa(n,Rn),oi.hashFn,oi.onComplete)}}}!Te&&Q.length>0&&!s&&(ge?n.listenProvider_.stopListening(su(t),null):Q.forEach(Be=>{const st=n.queryToTagMap.get(Fd(Be));n.listenProvider_.stopListening(su(Be),st)}))}!function y_(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const u=Fd(s),g=n.queryToTagMap.get(u);n.queryToTagMap.delete(u),n.tagToQueryMap.delete(g)}}}(n,Q)}return R}function g_(n,t,e,s){const u=Rd(n,s);if(null!=u){const g=Od(u),w=g.path,R=g.queryId,W=mr(w,t);return Ac(n,w,new Ka(yg(R),W,e))}return[]}function Dc(n,t,e,s=!1){const u=t._path;let g=null,w=!1;n.syncPointTree_.foreachOnPath(u,(Be,st)=>{const At=mr(Be,u);g=g||ia(st,At),w=w||ra(st)});let W,R=n.syncPointTree_.get(u);R?(w=w||ra(R),g=g||ia(R,pi())):(R=new tr,n.syncPointTree_=n.syncPointTree_.set(u,R)),null!=g?W=!0:(W=!1,g=jn.EMPTY_NODE,n.syncPointTree_.subtree(u).foreachChild((st,At)=>{const vn=ia(At,pi());vn&&(g=g.updateImmediateChild(st,vn))}));const Q=Ng(R,t);if(!Q&&!t._queryParams.loadsAllData()){const Be=Fd(t);(0,de.hu)(!n.queryToTagMap.has(Be),"View does not exist, but we have a tag");const st=function v_(){return Us++}();n.queryToTagMap.set(Be,st),n.tagToQueryMap.set(st,Be)}let Te=function l_(n,t,e,s,u,g){const w=a_(n,t,s,u,g);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,w),function YT(n,t){n.eventRegistrations_.push(t)}(w,e),function eC(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Mi,(g,w)=>{s.push(Ga(g,w))}),e.isFullyInitialized()&&s.push(hg(e.getNode())),Lg(n,s,e.getNode(),t)}(w,e)}(R,t,e,Cd(n.pendingWriteTree_,u),g,W);if(!Q&&!w&&!s){const Be=c_(R,t);Te=Te.concat(function __(n,t,e){const s=t._path,u=oa(n,t),g=zg(n,e),w=n.listenProvider_.startListening(su(t),u,g.hashFn,g.onComplete),R=n.syncPointTree_.subtree(s);if(u)(0,de.hu)(!ra(R.value),"If we're adding a query, it shouldn't be shadowed");else{const W=R.fold((Q,ge,Te)=>{if(!Zn(Q)&&ge&&ra(ge))return[Ec(ge).query];{let Be=[];return ge&&(Be=Be.concat(tl(ge).map(st=>st.query))),ar(Te,(st,At)=>{Be=Be.concat(At)}),Be}});for(let Q=0;Q<W.length;++Q){const ge=W[Q];n.listenProvider_.stopListening(su(ge),oa(n,ge))}}return w}(n,t,Be))}return Te}function sa(n,t,e){const u=n.pendingWriteTree_,g=n.syncPointTree_.findOnPath(t,(w,R)=>{const Q=ia(R,mr(w,t));if(Q)return Q});return Td(u,t,g,e,!0)}function nl(n,t){return m_(t,n.syncPointTree_,null,Cd(n.pendingWriteTree_,pi()))}function m_(n,t,e,s){if(Zn(n.path))return Ug(n,t,e,s);{const u=t.get(pi());null==e&&null!=u&&(e=ia(u,pi()));let g=[];const w=Gn(n.path),R=n.operationForChild(w),W=t.children.get(w);if(W&&R){const Q=e?e.getImmediateChild(w):null,ge=Sg(s,w);g=g.concat(m_(R,W,Q,ge))}return u&&(g=g.concat(Pd(u,n,s,e))),g}}function Ug(n,t,e,s){const u=t.get(pi());null==e&&null!=u&&(e=ia(u,pi()));let g=[];return t.children.inorderTraversal((w,R)=>{const W=e?e.getImmediateChild(w):null,Q=Sg(s,w),ge=n.operationForChild(w);ge&&(g=g.concat(Ug(ge,R,W,Q)))}),u&&(g=g.concat(Pd(u,n,s,e))),g}function zg(n,t){const e=t.query,s=oa(n,e);return{hashFn:()=>(function el(n){return n.viewCache_.serverCache.getNode()}(t)||jn.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return s?function iC(n,t,e){const s=Rd(n,e);if(s){const u=Od(s),g=u.path,w=u.queryId,R=mr(g,t);return Ac(n,g,new Za(yg(w),R))}return[]}(n,e._path,s):function f_(n,t){return nl(n,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const g=function Gl(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(u,e);return kd(n,e,null,g)}}}}function oa(n,t){const e=Fd(t);return n.queryToTagMap.get(e)}function Fd(n){return n._path.toString()+"$"+n._queryIdentifier}function Rd(n,t){return n.tagToQueryMap.get(t)}function Od(n){const t=n.indexOf("$");return(0,de.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new bi(n.substr(0,t))}}function Ac(n,t,e){const s=n.syncPointTree_.get(t);return(0,de.hu)(s,"Missing sync point for query tag that we're tracking"),Pd(s,e,Cd(n.pendingWriteTree_,t),null)}function su(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Bg(){return(0,de.hu)(Vg,"Reference.ts has not been loaded"),Vg}())(n._repo,n._path):n}class Nd{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Nd(e)}node(){return this.node_}}class Vd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ki(this.path_,t);return new Vd(this.syncTree_,e)}node(){return sa(this.syncTree_,this.path_)}}const Hg=function(n,t,e){return n&&"object"==typeof n?((0,de.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?oC(n[".sv"],t,e):"object"==typeof n[".sv"]?aC(n[".sv"],t):void(0,de.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},oC=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,de.hu)(!1,"Unexpected server value: "+n)},aC=function(n,t,e){n.hasOwnProperty("increment")||(0,de.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,de.hu)(!1,"Unexpected increment value: "+s);const u=t.node();if((0,de.hu)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return s;const w=u.getValue();return"number"!=typeof w?s:w+s},b_=function(n,t,e,s){return $g(t,new Vd(e,n),s)},jg=function(n,t,e){return $g(n,new Nd(t),e)};function $g(n,t,e){const s=n.getPriority().val(),u=Hg(s,t.getImmediateChild(".priority"),e);let g;if(n.isLeafNode()){const w=n,R=Hg(w.getValue(),t,e);return R!==w.getValue()||u!==w.getPriority().val()?new Ql(R,Fi(u)):n}{const w=n;return g=w,u!==w.getPriority().val()&&(g=g.updatePriority(new Ql(u))),w.forEachChild(Mi,(R,W)=>{const Q=$g(W,t.getImmediateChild(R),e);Q!==W&&(g=g.updateImmediateChild(R,Q))}),g}}class Yg{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Bd(n,t){let e=t instanceof bi?t:new bi(t),s=n,u=Gn(e);for(;null!==u;){const g=(0,de.DV)(s.node.children,u)||{children:{},childCount:0};s=new Yg(u,s,g),e=Ti(e),u=Gn(e)}return s}function il(n){return n.node.value}function Xg(n,t){n.node.value=t,Gg(n)}function C_(n){return n.node.childCount>0}function Wd(n,t){ar(n.node.children,(e,s)=>{t(new Yg(e,n,s))})}function w_(n,t,e,s){e&&!s&&t(n),Wd(n,u=>{w_(u,t,!0,s)}),e&&s&&t(n)}function Pc(n){return new bi(null===n.parent?n.name:Pc(n.parent)+"/"+n.name)}function Gg(n){null!==n.parent&&function cC(n,t,e){const s=function lC(n){return void 0===il(n)&&!C_(n)}(e),u=(0,de.r3)(n.node.children,t);s&&u?(delete n.node.children[t],n.node.childCount--,Gg(n)):!s&&!u&&(n.node.children[t]=e.node,n.node.childCount++,Gg(n))}(n.parent,n.name,n)}const hC=/[\[\].#$\/\u0000-\u001F\u007F]/,T_=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10485760,kc=function(n){return"string"==typeof n&&0!==n.length&&!hC.test(n)},Zg=function(n){return"string"==typeof n&&0!==n.length&&!T_.test(n)},ou=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ac(n)||n&&"object"==typeof n&&(0,de.r3)(n,".sv")},Ts=function(n,t,e,s){s&&void 0===t||au((0,de.gK)(n,"value"),t,e)},au=function(n,t,e){const s=e instanceof bi?new Pb(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Jo(s));if("function"==typeof t)throw new Error(n+"contains a function "+Jo(s)+" with contents = "+t.toString());if(ac(t))throw new Error(n+"contains "+t.toString()+" "+Jo(s));if("string"==typeof t&&t.length>Ud/3&&(0,de.ug)(t)>Ud)throw new Error(n+"contains a string greater than "+Ud+" utf8 bytes "+Jo(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let u=!1,g=!1;if(ar(t,(w,R)=>{if(".value"===w)u=!0;else if(".priority"!==w&&".sv"!==w&&(g=!0,!kc(w)))throw new Error(n+" contains an invalid key ("+w+") "+Jo(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Nv(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,de.ug)(t),qf(n)})(s,w),au(n,R,s),function kb(n){const t=n.parts_.pop();n.byteLength_-=(0,de.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),u&&g)throw new Error(n+' contains ".value" child '+Jo(s)+" in addition to actual children.")}},Kg=function(n,t,e,s){if(s&&void 0===t)return;const u=(0,de.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const g=[];ar(t,(w,R)=>{const W=new bi(w);if(au(u,R,ki(e,W)),".priority"===$a(W)&&!ou(R))throw new Error(u+"contains an invalid value for '"+W.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");g.push(W)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const g=Qo(s);for(let w=0;w<g.length;w++)if((".priority"!==g[w]||w!==g.length-1)&&!kc(g[w]))throw new Error(n+"contains an invalid key ("+g[w]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Lv);let u=null;for(e=0;e<t.length;e++){if(s=t[e],null!==u&&as(u,s))throw new Error(n+"contains a path "+u.toString()+" that is ancestor of another path "+s.toString());u=s}}(u,g)},zd=function(n,t,e){if(!e||void 0!==t){if(ac(t))throw new Error((0,de.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ou(t))throw new Error((0,de.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ms=function(n,t,e,s){if(!(s&&void 0===e||kc(e)))throw new Error((0,de.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fc=function(n,t,e,s){if(!(s&&void 0===e||Zg(e)))throw new Error((0,de.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yr=function(n,t){if(".info"===Gn(t))throw new Error(n+" failed = Can't modify data under /.info/")},pC=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zg(n)}(e))throw new Error((0,de.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Qg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jg(n,t){let e=null;for(let s=0;s<t.length;s++){const u=t[s],g=u.getPath();null!==e&&!gc(g,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:g}),e.events.push(u)}e&&n.eventLists_.push(e)}function qg(n,t,e){Jg(n,e),fC(n,s=>gc(s,t))}function jr(n,t,e){Jg(n,e),fC(n,s=>as(s,t)||as(t,s))}function fC(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const u=n.eventLists_[s];u&&(t(u.path)?(Sn(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Sn(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Wa&&or("event: "+e.toString()),cc(s)}}}const I_="repo_interrupt";class mC{constructor(t,e,s,u){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=md(),this.transactionQueueTree_=new Yg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E_(n){const e=n.infoData_.getNode(new bi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function aa(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:E_(n)})}function Rc(n,t,e,s,u){n.dataUpdateCount++;const g=new bi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let w=[];if(u)if(s){const W=(0,de.UI)(e,Q=>Fi(Q));w=function rC(n,t,e,s){const u=Rd(n,s);if(u){const g=Od(u),w=g.path,R=g.queryId,W=mr(w,t),Q=mi.fromObject(e);return Ac(n,w,new Or(yg(R),W,Q))}return[]}(n.serverSyncTree_,g,W,u)}else{const W=Fi(e);w=g_(n.serverSyncTree_,g,W,u)}else if(s){const W=(0,de.UI)(e,Q=>Fi(Q));w=function p_(n,t,e){const s=mi.fromObject(e);return nl(n,new Or({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,g,W)}else{const W=Fi(e);w=Lr(n.serverSyncTree_,g,W)}let R=g;w.length>0&&(R=Hs(n,g)),jr(n.eventQueue_,R,w)}function Hi(n,t){Hd(n,"connected",t),!1===t&&function A_(n){xo(n,"onDisconnectEvents");const t=aa(n),e=md();mg(n.onDisconnect_,pi(),(u,g)=>{const w=b_(u,g,n.serverSyncTree_,t);eu(e,u,w)});let s=[];mg(e,pi(),(u,g)=>{s=s.concat(Lr(n.serverSyncTree_,u,g));const w=Xd(n,u);Hs(n,w)}),n.onDisconnect_=md(),jr(n.eventQueue_,pi(),s)}(n)}function Hd(n,t,e){const s=new bi("/.info/"+t),u=Fi(e);n.infoData_.updateSnapshot(s,u);const g=Lr(n.infoSyncTree_,s,u);jr(n.eventQueue_,s,g)}function Oc(n){return n.nextWriteId_++}function jd(n,t,e,s,u){xo(n,"set",{path:t.toString(),value:e,priority:s});const g=aa(n),w=Fi(e,s),R=sa(n.serverSyncTree_,t),W=jg(w,R,g),Q=Oc(n),ge=Wg(n.serverSyncTree_,t,W,Q,!0);Jg(n.eventQueue_,ge),n.server_.put(t.toString(),w.val(!0),(Be,st)=>{const At="ok"===Be;At||Mr("set at "+t+" failed: "+Be);const vn=ur(n.serverSyncTree_,Q,!At);jr(n.eventQueue_,t,vn),bo(0,u,Be,st)});const Te=Xd(n,t);Hs(n,Te),jr(n.eventQueue_,Te,[])}function P_(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,u)=>{"ok"===s&&gg(n.onDisconnect_,t),bo(0,e,s,u)})}function k_(n,t,e,s){const u=Fi(e);n.server_.onDisconnectPut(t.toString(),u.val(!0),(g,w)=>{"ok"===g&&eu(n.onDisconnect_,t,u),bo(0,s,g,w)})}function em(n,t,e){let s;s=".info"===Gn(t._path)?kd(n.infoSyncTree_,t,e):kd(n.serverSyncTree_,t,e),qg(n.eventQueue_,t._path,s)}function F_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(I_)}function xo(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),or(e,...t)}function bo(n,t,e,s){t&&cc(()=>{if("ok"===e)t(null);else{const u=(e||"error").toUpperCase();let g=u;s&&(g+=": "+s);const w=new Error(g);w.code=u,t(w)}})}function $d(n,t,e){return sa(n.serverSyncTree_,t,e)||jn.EMPTY_NODE}function Yd(n,t=n.transactionQueueTree_){if(t||Vc(n,t),il(t)){const e=L_(n,t);(0,de.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function Nc(n,t,e){const s=e.map(Q=>Q.currentWriteId),u=$d(n,t,s);let g=u;const w=u.hash();for(let Q=0;Q<e.length;Q++){const ge=e[Q];(0,de.hu)(0===ge.status,"tryToSendTransactionQueue_: items in queue should all be run."),ge.status=1,ge.retryCount++;const Te=mr(t,ge.path);g=g.updateChild(Te,ge.currentOutputSnapshotRaw)}const R=g.val(!0),W=t;n.server_.put(W.toString(),R,Q=>{xo(n,"transaction put response",{path:W.toString(),status:Q});let ge=[];if("ok"===Q){const Te=[];for(let Be=0;Be<e.length;Be++)e[Be].status=2,ge=ge.concat(ur(n.serverSyncTree_,e[Be].currentWriteId)),e[Be].onComplete&&Te.push(()=>e[Be].onComplete(null,!0,e[Be].currentOutputSnapshotResolved)),e[Be].unwatcher();Vc(n,Bd(n.transactionQueueTree_,t)),Yd(n,n.transactionQueueTree_),jr(n.eventQueue_,t,ge);for(let Be=0;Be<Te.length;Be++)cc(Te[Be])}else{if("datastale"===Q)for(let Te=0;Te<e.length;Te++)e[Te].status=3===e[Te].status?4:0;else{Mr("transaction at "+W.toString()+" failed: "+Q);for(let Te=0;Te<e.length;Te++)e[Te].status=4,e[Te].abortReason=Q}Hs(n,t)}},w)}(n,Pc(t),e)}else C_(t)&&Wd(t,e=>{Yd(n,e)})}function Hs(n,t){const e=O_(n,t),s=Pc(e);return function bC(n,t,e){if(0===t.length)return;const s=[];let u=[];const w=t.filter(R=>0===R.status).map(R=>R.currentWriteId);for(let R=0;R<t.length;R++){const W=t[R],Q=mr(e,W.path);let Te,ge=!1;if((0,de.hu)(null!==Q,"rerunTransactionsUnderNode_: relativePath should not be null."),4===W.status)ge=!0,Te=W.abortReason,u=u.concat(ur(n.serverSyncTree_,W.currentWriteId,!0));else if(0===W.status)if(W.retryCount>=25)ge=!0,Te="maxretry",u=u.concat(ur(n.serverSyncTree_,W.currentWriteId,!0));else{const Be=$d(n,W.path,w);W.currentInputSnapshot=Be;const st=t[R].update(Be.val());if(void 0!==st){au("transaction failed: Data returned ",st,W.path);let At=Fi(st);"object"==typeof st&&null!=st&&(0,de.r3)(st,".priority")||(At=At.updatePriority(Be.getPriority()));const Rn=W.currentWriteId,oi=aa(n),Ei=jg(At,Be,oi);W.currentOutputSnapshotRaw=At,W.currentOutputSnapshotResolved=Ei,W.currentWriteId=Oc(n),w.splice(w.indexOf(Rn),1),u=u.concat(Wg(n.serverSyncTree_,W.path,Ei,W.currentWriteId,W.applyLocally)),u=u.concat(ur(n.serverSyncTree_,Rn,!0))}else ge=!0,Te="nodata",u=u.concat(ur(n.serverSyncTree_,W.currentWriteId,!0))}jr(n.eventQueue_,e,u),u=[],ge&&(t[R].status=2,setTimeout(t[R].unwatcher,Math.floor(0)),t[R].onComplete&&s.push("nodata"===Te?()=>t[R].onComplete(null,!1,t[R].currentInputSnapshot):()=>t[R].onComplete(new Error(Te),!1,null)))}Vc(n,n.transactionQueueTree_);for(let R=0;R<s.length;R++)cc(s[R]);Yd(n,n.transactionQueueTree_)}(n,L_(n,e),s),s}function O_(n,t){let e,s=n.transactionQueueTree_;for(e=Gn(t);null!==e&&void 0===il(s);)s=Bd(s,e),e=Gn(t=Ti(t));return s}function L_(n,t){const e=[];return tm(n,t,e),e.sort((s,u)=>s.order-u.order),e}function tm(n,t,e){const s=il(t);if(s)for(let u=0;u<s.length;u++)e.push(s[u]);Wd(t,u=>{tm(n,u,e)})}function Vc(n,t){const e=il(t);if(e){let s=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[s]=e[u],s++);e.length=s,Xg(t,e.length>0?e:void 0)}Wd(t,s=>{Vc(n,s)})}function Xd(n,t){const e=Pc(O_(n,t)),s=Bd(n.transactionQueueTree_,t);return function uC(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,u=>{nm(n,u)}),nm(n,s),w_(s,u=>{nm(n,u)}),e}function nm(n,t){const e=il(t);if(e){const s=[];let u=[],g=-1;for(let w=0;w<e.length;w++)3===e[w].status||(1===e[w].status?((0,de.hu)(g===w-1,"All SENT items should be at beginning of queue."),g=w,e[w].status=3,e[w].abortReason="set"):((0,de.hu)(0===e[w].status,"Unexpected transaction status in abort"),e[w].unwatcher(),u=u.concat(ur(n.serverSyncTree_,e[w].currentWriteId,!0)),e[w].onComplete&&s.push(e[w].onComplete.bind(null,new Error("set"),!1,null))));-1===g?Xg(t,void 0):e.length=g+1,jr(n.eventQueue_,Pc(t),u);for(let w=0;w<s.length;w++)cc(s[w])}}const im=function(n,t){const e=GT(n),s=e.namespace;return"firebase.com"===e.domain&&Ls(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wf(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new bi(e.pathString)}},GT=function(n){let t="",e="",s="",u="",g="",w=!0,R="https",W=443;if("string"==typeof n){let Q=n.indexOf("//");Q>=0&&(R=n.substring(0,Q-1),n=n.substring(Q+2));let ge=n.indexOf("/");-1===ge&&(ge=n.length);let Te=n.indexOf("?");-1===Te&&(Te=n.length),t=n.substring(0,Math.min(ge,Te)),ge<Te&&(u=function N_(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let u=e[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}(n.substring(ge,Te)));const Be=function CC(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Mr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,Te)));Q=t.indexOf(":"),Q>=0?(w="https"===R||"wss"===R,W=parseInt(t.substring(Q+1),10)):Q=t.length;const st=t.slice(0,Q);if("localhost"===st.toLowerCase())e="localhost";else if(st.split(".").length<=2)e=st;else{const At=t.indexOf(".");s=t.substring(0,At).toLowerCase(),e=t.substring(At+1),g=s}"ns"in Be&&(g=Be.ns)}return{host:t,port:W,domain:e,subdomain:s,secure:w,scheme:R,pathString:u,namespace:g}},wC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZT=function(){let n=0;const t=[];return function(e){const s=e===n;let u;n=e;const g=new Array(8);for(u=7;u>=0;u--)g[u]=wC.charAt(e%64),e=Math.floor(e/64);(0,de.hu)(0===e,"Cannot push at time == 0");let w=g.join("");if(s){for(u=11;u>=0&&63===t[u];u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)w+=wC.charAt(t[u]);return(0,de.hu)(20===w.length,"nextPushId: Length should be 20."),w}}();class TC{constructor(t,e,s,u){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=u}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,de.Wl)(this.snapshot.exportVal())}}class rm{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class uu{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,de.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class V_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new de.BH;return P_(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){yr("OnDisconnect.remove",this._path);const t=new de.BH;return k_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){yr("OnDisconnect.set",this._path),Ts("OnDisconnect.set",t,this._path,!1);const e=new de.BH;return k_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){yr("OnDisconnect.setWithPriority",this._path),Ts("OnDisconnect.setWithPriority",t,this._path,!1),zd("OnDisconnect.setWithPriority",e,!1);const s=new de.BH;return function vC(n,t,e,s,u){const g=Fi(e,s);n.server_.onDisconnectPut(t.toString(),g.val(!0),(w,R)=>{"ok"===w&&eu(n.onDisconnect_,t,g),bo(0,u,w,R)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){yr("OnDisconnect.update",this._path),Kg("OnDisconnect.update",t,this._path,!1);const e=new de.BH;return function _C(n,t,e,s){if((0,de.xb)(e))return or("onDisconnect().update() called with empty data.  Don't do anything."),void bo(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(u,g)=>{"ok"===u&&ar(e,(w,R)=>{const W=Fi(R);eu(n.onDisconnect_,ki(t,w),W)}),bo(0,s,u,g)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $r{constructor(t,e,s,u){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=u}get key(){return Zn(this._path)?null:$a(this._path)}get ref(){return new ps(this._repo,this._path)}get _queryIdentifier(){const t=jv(this._queryParams),e=Lf(t);return"{}"===e?"default":e}get _queryObject(){return jv(this._queryParams)}isEqual(t){if(!((t=(0,de.m9)(t))instanceof $r))return!1;const e=this._repo===t._repo,s=gc(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qf(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Bc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ds(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Vs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ns)throw new Error(s);if("string"!=typeof t)throw new Error(u)}if(n.hasEnd()){if(n.getIndexEndName()!==ho)throw new Error(s);if("string"!=typeof e)throw new Error(u)}}else if(n.getIndex()===Mi){if(null!=t&&!ou(t)||null!=e&&!ou(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,de.hu)(n.getIndex()instanceof ql||n.getIndex()===cg,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ps extends $r{constructor(t,e){super(t,e,new hd,!1)}get parent(){const t=Jf(this._path);return null===t?null:new ps(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class rl{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new bi(t),s=sl(this.ref,t);return new rl(this._node.getChild(e),s,Mi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,u)=>t(new rl(u,sl(this.ref,s),Mi)))}hasChild(t){const e=new bi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function B_(n,t){return(n=(0,de.m9)(n))._checkNotDeleted("ref"),void 0!==t?sl(n._root,t):n._root}function MC(n,t){(n=(0,de.m9)(n))._checkNotDeleted("refFromURL");const e=im(t,n._repo.repoInfo_.nodeAdmin);pC("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Ls("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),B_(n,e.path.toString())}function sl(n,t){return null===Gn((n=(0,de.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Fc("child","path",e,!1)):Fc("child","path",t,!1),new ps(n._repo,ki(n._path,t));var e}function ol(n,t){n=(0,de.m9)(n),yr("set",n._path),Ts("set",t,n._path,!1);const e=new de.BH;return jd(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function AC(n,t){Kg("update",t,n._path,!1);const e=new de.BH;return function D_(n,t,e,s){xo(n,"update",{path:t.toString(),value:e});let u=!0;const g=aa(n),w={};if(ar(e,(R,W)=>{u=!1,w[R]=b_(ki(t,R),Fi(W),n.serverSyncTree_,g)}),u)or("update() called with empty data.  Don't do anything."),bo(0,s,"ok",void 0);else{const R=Oc(n),W=function zs(n,t,e,s){!function jb(n,t,e,s){(0,de.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=_d(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const u=mi.fromObject(e);return nl(n,new Or({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,u))}(n.serverSyncTree_,t,w,R);Jg(n.eventQueue_,W),n.server_.merge(t.toString(),e,(Q,ge)=>{const Te="ok"===Q;Te||Mr("update at "+t+" failed: "+Q);const Be=ur(n.serverSyncTree_,R,!Te),st=Be.length>0?Hs(n,t):t;jr(n.eventQueue_,st,Be),bo(0,s,Q,ge)}),ar(e,Q=>{const ge=Xd(n,ki(t,Q));Hs(n,ge)}),jr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function U_(n){n=(0,de.m9)(n);const t=new uu(()=>{}),e=new Wc(t);return function yC(n,t,e){const s=function sC(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(Q,ge)=>{const Te=mr(Q,e);s=s||ia(ge,Te)});let u=n.syncPointTree_.get(e);u?s=s||ia(u,pi()):(u=new tr,n.syncPointTree_=n.syncPointTree_.set(e,u));const g=null!=s,w=g?new us(s,!0,!1):null;return function Og(n){return vo(n.viewCache_)}(a_(u,t,Cd(n.pendingWriteTree_,t._path),g?w.getNode():jn.EMPTY_NODE,g))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(u=>{const g=Fi(u).withIndex(t._queryParams.getIndex());let w;if(Dc(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())w=Lr(n.serverSyncTree_,t._path,g);else{const R=oa(n.serverSyncTree_,t);w=g_(n.serverSyncTree_,t._path,g,R)}return jr(n.eventQueue_,t._path,w),kd(n.serverSyncTree_,t,e,null,!0),g},u=>(xo(n,"get for query "+(0,de.Wl)(t)+" failed: "+u),Promise.reject(new Error(u))))}(n._repo,n,e).then(s=>new rl(s,new ps(n._repo,n._path),n._queryParams.getIndex()))}class Wc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new TC("value",this,new rl(t.snapshotNode,new ps(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rm(this,t,e):null}matches(t){return t instanceof Wc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Uc{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rm(this,t,e):null}createEvent(t,e){(0,de.hu)(null!=t.childName,"Child events should have a childName.");const s=sl(new ps(e._repo,e._path),t.childName),u=e._queryParams.getIndex();return new TC(t.type,this,new rl(t.snapshotNode,s,u),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Uc&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zc(n,t,e,s,u){let g;if("object"==typeof s&&(g=void 0,u=s),"function"==typeof s&&(g=s),u&&u.onlyOnce){const W=e,Q=(ge,Te)=>{em(n._repo,n,R),W(ge,Te)};Q.userCallback=e.userCallback,Q.context=e.context,e=Q}const w=new uu(e,g||void 0),R="value"===t?new Wc(w):new Uc(t,w);return function Lc(n,t,e){let s;s=".info"===Gn(t._path)?Dc(n.infoSyncTree_,t,e):Dc(n.serverSyncTree_,t,e),qg(n.eventQueue_,t._path,s)}(n._repo,n,R),()=>em(n._repo,n,R)}function Hc(n,t,e,s){return zc(n,"value",t,e,s)}function z_(n,t,e,s){return zc(n,"child_added",t,e,s)}function sm(n,t,e,s){return zc(n,"child_changed",t,e,s)}function om(n,t,e,s){return zc(n,"child_moved",t,e,s)}function H_(n,t,e,s){return zc(n,"child_removed",t,e,s)}function j_(n,t,e){let s=null;const u=e?new uu(e):null;"value"===t?s=new Wc(u):t&&(s=new Uc(t,u)),em(n._repo,n,s)}class Ss{}class Zd extends Ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ts("endAt",this._value,t._path,!0);const e=dd(t._queryParams,this._value,this._key);if(Gd(e),ds(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class $_ extends Ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ts("endBefore",this._value,t._path,!1);const e=function fg(n,t,e){let s;return s=dd(n,t,n.index_===Vs||e?e:Ns),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(Gd(e),ds(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class Y_ extends Ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ts("startAt",this._value,t._path,!0);const e=pg(t._queryParams,this._value,this._key);if(Gd(e),ds(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class RC extends Ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ts("startAfter",this._value,t._path,!1);const e=function zb(n,t,e){let s;return s=pg(n,t,n.index_===Vs||e?e:ho),s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Gd(e),ds(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class LC extends Ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function Wb(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class VC extends Ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function Ub(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class G_ extends Ss{constructor(t){super(),this._path=t}_apply(t){Bc(t,"orderByChild");const e=new bi(this._path);if(Zn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new ql(e),u=pd(t._queryParams,s);return ds(u),new $r(t._repo,t._path,u,!0)}}class WC extends Ss{_apply(t){Bc(t,"orderByKey");const e=pd(t._queryParams,Vs);return ds(e),new $r(t._repo,t._path,e,!0)}}class UC extends Ss{_apply(t){Bc(t,"orderByPriority");const e=pd(t._queryParams,Mi);return ds(e),new $r(t._repo,t._path,e,!0)}}class HC extends Ss{_apply(t){Bc(t,"orderByValue");const e=pd(t._queryParams,cg);return ds(e),new $r(t._repo,t._path,e,!0)}}class lm extends Ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ts("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zd(this._value,this._key)._apply(new Y_(this._value,this._key)._apply(t))}}function Qr(n,...t){let e=(0,de.m9)(n);for(const s of t)e=s._apply(e);return e}(function o_(n){(0,de.hu)(!Ad,"__referenceConstructor has already been defined"),Ad=n})(ps),function h_(n){(0,de.hu)(!Vg,"__referenceConstructor has already been defined"),Vg=n}(ps);const um={};function cm(n,t,e,s,u){let g=s||n.options.databaseURL;void 0===g&&(n.options.projectId||Ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),or("Using default host for project ",n.options.projectId),g=`${n.options.projectId}-default-rtdb.firebaseio.com`);let W,Q,w=im(g,u),R=w.repoInfo;typeof process<"u"&&process.env&&(Q=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Q?(W=!0,g=`http://${Q}?ns=${R.namespace}`,w=im(g,u),R=w.repoInfo):W=!w.repoInfo.secure;const ge=u&&W?new hc(hc.OWNER):new _v(n.name,n.options,t);pC("Invalid Firebase Database URL",w),Zn(w.path)||Ls("Database URL must point to the root of a Firebase Database (not including a child path).");const Te=function Q_(n,t,e,s){let u=um[t.name];u||(u={},um[t.name]=u);let g=u[n.toURLString()];return g&&Ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),g=new mC(n,false,e,s),u[n.toURLString()]=g,g}(R,n,ge,new vv(n.name,e));return new KT(Te,n)}class KT{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lu(n,t,e){if(n.stats_=sd(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new gd(n.repoInfo_,(s,u,g,w)=>{Rc(n,s,u,g,w)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Hi(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,de.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Ya(n.repoInfo_,t,(s,u,g,w)=>{Rc(n,s,u,g,w)},s=>{Hi(n,s)},s=>{!function XT(n,t){ar(t,(e,s)=>{Hd(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function gb(n,t){const e=n.toString();return rd[e]||(rd[e]=t()),rd[e]}(n.repoInfo_,()=>new yd(n.stats_,n.server_)),n.infoData_=new Hb,n.infoSyncTree_=new d_({startListening:(s,u,g,w)=>{let R=[];const W=n.infoData_.getNode(s._path);return W.isEmpty()||(R=Lr(n.infoSyncTree_,s._path,W),setTimeout(()=>{w("ok")},0)),R},stopListening:()=>{}}),Hd(n,"connected",!1),n.serverSyncTree_=new d_({startListening:(s,u,g,w)=>(n.server_.listen(s,g,u,(R,W)=>{const Q=w(R,W);jr(n.eventQueue_,s._path,Q)}),[]),stopListening:(s,u)=>{n.server_.unlisten(s,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ps(this._repo,pi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function cu(n,t){const e=um[t];(!e||e[n.key]!==n)&&Ls(`Database ${t}(${n.repoInfo_}) has already been deleted.`),F_(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ls("Cannot call "+t+" on a deleted database.")}}function hm(){pc.IS_TRANSPORT_INITIALIZED&&Mr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dm(){hm(),go.forceDisallow()}function XC(){hm(),Ha.forceDisallow(),go.forceAllow()}function pm(n=(0,Cs.getApp)(),t){const e=(0,Cs._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=(0,de.P0)("database");s&&J_(e,...s)}return e}function J_(n,t,e,s={}){(n=(0,de.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ls("Cannot call useEmulator() after instance has already been initialized.");const u=n._repoInternal;let g;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),g=new hc(hc.OWNER);else if(s.mockUserToken){const w="string"==typeof s.mockUserToken?s.mockUserToken:(0,de.Sg)(s.mockUserToken,n.app.options.projectId);g=new hc(w)}!function $C(n,t,e,s){n.repoInfo_=new Wf(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}(u,t,e,g)}function ex(n,t){Yl(n,t)}const nx={".sv":"timestamp"};class ZC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ya.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ya.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function tx(n){hv(Cs.SDK_VERSION),(0,Cs._registerComponent)(new Gr.wA("database",(t,{instanceIdentifier:e})=>cm(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(Af,"0.14.3",n),(0,Cs.registerVersion)(Af,"0.14.3","esm2017")}();const JC=new td.Yd("@firebase/database-compat"),sx=function(n){JC.warn("FIREBASE WARNING: "+n)};class ew{constructor(t){this._delegate=t}cancel(t){(0,de.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,de.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,de.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,de.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,de.Dv)("OnDisconnect.set",1,2,arguments.length),(0,de.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(t,e,s){(0,de.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,de.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const u=this._delegate.setWithPriority(t,e);return s&&u.then(()=>s(null),g=>s(g)),u}update(t,e){if((0,de.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let g=0;g<t.length;++g)u[""+g]=t[g];t=u,sx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,de.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),u=>e(u)),s}}class ox{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,de.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class la{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,de.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,de.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,de.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,de.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,de.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Fc("DataSnapshot.child","path",t,!1),new la(this._database,this._delegate.child(t))}hasChild(t){return(0,de.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Fc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,de.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,de.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,de.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new la(this._database,e)))}hasChildren(){return(0,de.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,de.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,de.Dv)("DataSnapshot.ref",0,0,arguments.length),new Jr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,u){var g;(0,de.Dv)("Query.on",2,4,arguments.length),(0,de.Wj)("Query.on","callback",e,!1);const w=vr.getCancelAndContextArgs_("Query.on",s,u),R=(Q,ge)=>{e.call(w.context,new la(this.database,Q),ge)};R.userCallback=e,R.context=w.context;const W=null===(g=w.cancel)||void 0===g?void 0:g.bind(w.context);switch(t){case"value":return Hc(this._delegate,R,W),e;case"child_added":return z_(this._delegate,R,W),e;case"child_removed":return H_(this._delegate,R,W),e;case"child_changed":return sm(this._delegate,R,W),e;case"child_moved":return om(this._delegate,R,W),e;default:throw new Error((0,de.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,de.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,de.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,de.Wj)("Query.off","callback",e,!0),(0,de.lb)("Query.off","context",s,!0),e){const u=()=>{};u.userCallback=e,u.context=s,j_(this._delegate,t,u)}else j_(this._delegate,t)}get(){return U_(this._delegate).then(t=>new la(this.database,t))}once(t,e,s,u){(0,de.Dv)("Query.once",1,4,arguments.length),(0,de.Wj)("Query.once","callback",e,!0);const g=vr.getCancelAndContextArgs_("Query.once",s,u),w=new de.BH,R=(Q,ge)=>{const Te=new la(this.database,Q);e&&e.call(g.context,Te,ge),w.resolve(Te)};R.userCallback=e,R.context=g.context;const W=Q=>{g.cancel&&g.cancel.call(g.context,Q),w.reject(Q)};switch(t){case"value":Hc(this._delegate,R,W,{onlyOnce:!0});break;case"child_added":z_(this._delegate,R,W,{onlyOnce:!0});break;case"child_removed":H_(this._delegate,R,W,{onlyOnce:!0});break;case"child_changed":sm(this._delegate,R,W,{onlyOnce:!0});break;case"child_moved":om(this._delegate,R,W,{onlyOnce:!0});break;default:throw new Error((0,de.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return w.promise}limitToFirst(t){return(0,de.Dv)("Query.limitToFirst",1,1,arguments.length),new vr(this.database,Qr(this._delegate,function NC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new LC(n)}(t)))}limitToLast(t){return(0,de.Dv)("Query.limitToLast",1,1,arguments.length),new vr(this.database,Qr(this._delegate,function X_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new VC(n)}(t)))}orderByChild(t){return(0,de.Dv)("Query.orderByChild",1,1,arguments.length),new vr(this.database,Qr(this._delegate,function BC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fc("orderByChild","path",n,!1),new G_(n)}(t)))}orderByKey(){return(0,de.Dv)("Query.orderByKey",0,0,arguments.length),new vr(this.database,Qr(this._delegate,function Z_(){return new WC}()))}orderByPriority(){return(0,de.Dv)("Query.orderByPriority",0,0,arguments.length),new vr(this.database,Qr(this._delegate,function zC(){return new UC}()))}orderByValue(){return(0,de.Dv)("Query.orderByValue",0,0,arguments.length),new vr(this.database,Qr(this._delegate,function am(){return new HC}()))}startAt(t=null,e){return(0,de.Dv)("Query.startAt",0,2,arguments.length),new vr(this.database,Qr(this._delegate,function FC(n=null,t){return Ms("startAt","key",t,!0),new Y_(n,t)}(t,e)))}startAfter(t=null,e){return(0,de.Dv)("Query.startAfter",0,2,arguments.length),new vr(this.database,Qr(this._delegate,function OC(n,t){return Ms("startAfter","key",t,!0),new RC(n,t)}(t,e)))}endAt(t=null,e){return(0,de.Dv)("Query.endAt",0,2,arguments.length),new vr(this.database,Qr(this._delegate,function PC(n,t){return Ms("endAt","key",t,!0),new Zd(n,t)}(t,e)))}endBefore(t=null,e){return(0,de.Dv)("Query.endBefore",0,2,arguments.length),new vr(this.database,Qr(this._delegate,function kC(n,t){return Ms("endBefore","key",t,!0),new $_(n,t)}(t,e)))}equalTo(t,e){return(0,de.Dv)("Query.equalTo",1,2,arguments.length),new vr(this.database,Qr(this._delegate,function K_(n,t){return Ms("equalTo","key",t,!0),new lm(n,t)}(t,e)))}toString(){return(0,de.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,de.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,de.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const u={cancel:void 0,context:void 0};if(e&&s)u.cancel=e,(0,de.Wj)(t,"cancel",u.cancel,!0),u.context=s,(0,de.lb)(t,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,de.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new Jr(this.database,new ps(this._delegate._repo,this._delegate._path))}}class Jr extends vr{constructor(t,e){super(t,new $r(e._repo,e._path,new hd,!1)),this.database=t,this._delegate=e}getKey(){return(0,de.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,de.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Jr(this.database,sl(this._delegate,t))}getParent(){(0,de.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Jr(this.database,t):null}getRoot(){return(0,de.Dv)("Reference.root",0,0,arguments.length),new Jr(this.database,this._delegate.root)}set(t,e){(0,de.Dv)("Reference.set",1,2,arguments.length),(0,de.Wj)("Reference.set","onComplete",e,!0);const s=ol(this._delegate,t);return e&&s.then(()=>e(null),u=>e(u)),s}update(t,e){if((0,de.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let g=0;g<t.length;++g)u[""+g]=t[g];t=u,sx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yr("Reference.update",this._delegate._path),(0,de.Wj)("Reference.update","onComplete",e,!0);const s=AC(this._delegate,t);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(t,e,s){(0,de.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,de.Wj)("Reference.setWithPriority","onComplete",s,!0);const u=function W_(n,t,e){if(yr("setWithPriority",n._path),Ts("setWithPriority",t,n._path,!1),zd("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new de.BH;return jd(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&u.then(()=>s(null),g=>s(g)),u}remove(t){(0,de.Dv)("Reference.remove",0,1,arguments.length),(0,de.Wj)("Reference.remove","onComplete",t,!0);const e=function EC(n){return yr("remove",n._path),ol(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,de.Dv)("Reference.transaction",1,3,arguments.length),(0,de.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,de.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,de.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const u=function KC(n,t,e){var s;if(n=(0,de.m9)(n),yr("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const u=null===(s=e?.applyLocally)||void 0===s||s,g=new de.BH,R=Hc(n,()=>{});return function R_(n,t,e,s,u,g){xo(n,"transaction on "+t);const w={path:t,update:e,onComplete:s,status:null,order:lb(),applyLocally:g,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},R=$d(n,t,void 0);w.currentInputSnapshot=R;const W=w.update(R.val());if(void 0===W)w.unwatcher(),w.currentOutputSnapshotRaw=null,w.currentOutputSnapshotResolved=null,w.onComplete&&w.onComplete(null,!1,w.currentInputSnapshot);else{au("transaction failed: Data returned ",W,w.path),w.status=0;const Q=Bd(n.transactionQueueTree_,t),ge=il(Q)||[];let Te;ge.push(w),Xg(Q,ge),"object"==typeof W&&null!==W&&(0,de.r3)(W,".priority")?(Te=(0,de.DV)(W,".priority"),(0,de.hu)(ou(Te),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Te=(sa(n.serverSyncTree_,t)||jn.EMPTY_NODE).getPriority().val();const Be=aa(n),st=Fi(W,Te),At=jg(st,R,Be);w.currentOutputSnapshotRaw=st,w.currentOutputSnapshotResolved=At,w.currentWriteId=Oc(n);const vn=Wg(n.serverSyncTree_,t,At,w.currentWriteId,w.applyLocally);jr(n.eventQueue_,t,vn),Yd(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(W,Q,ge)=>{let Te=null;W?g.reject(W):(Te=new rl(ge,new ps(n._repo,n._path),Mi),g.resolve(new ZC(Q,Te)))},R,u),g.promise}(this._delegate,t,{applyLocally:s}).then(g=>new ox(g.committed,new la(this.database,g.snapshot)));return e&&u.then(g=>e(null,g.committed,g.snapshot),g=>e(g,!1,null)),u}setPriority(t,e){(0,de.Dv)("Reference.setPriority",1,2,arguments.length),(0,de.Wj)("Reference.setPriority","onComplete",e,!0);const s=function DC(n,t){n=(0,de.m9)(n),yr("setPriority",n._path),zd("setPriority",t,!1);const e=new de.BH;return jd(n._repo,ki(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),u=>e(u)),s}push(t,e){(0,de.Dv)("Reference.push",0,2,arguments.length),(0,de.Wj)("Reference.push","onComplete",e,!0);const s=function IC(n,t){n=(0,de.m9)(n),yr("push",n._path),Ts("push",t,n._path,!0);const e=E_(n._repo),s=ZT(e),u=sl(n,s),g=sl(n,s);let w;return w=null!=t?ol(g,t).then(()=>g):Promise.resolve(g),u.then=w.then.bind(w),u.catch=w.then.bind(w,void 0),u}(this._delegate,t),u=s.then(w=>new Jr(this.database,w));e&&u.then(()=>e(null),w=>e(w));const g=new Jr(this.database,s);return g.then=u.then.bind(u),g.catch=u.catch.bind(u,void 0),g}onDisconnect(){return yr("Reference.onDisconnect",this._delegate._path),new ew(new V_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dm,forceLongPolling:XC}}useEmulator(t,e,s={}){J_(this._delegate,t,e,s)}ref(t){if((0,de.Dv)("database.ref",0,1,arguments.length),t instanceof Jr){const e=MC(this._delegate,t.toString());return new Jr(this,e)}{const e=B_(this._delegate,t);return new Jr(this,e)}}refFromURL(t){(0,de.Dv)("database.refFromURL",1,1,arguments.length);const s=MC(this._delegate,t);return new Jr(this,s)}goOffline(){return(0,de.Dv)("database.goOffline",0,0,arguments.length),function q_(n){(n=(0,de.m9)(n))._checkNotDeleted("goOffline"),F_(n._repo)}(this._delegate)}goOnline(){return(0,de.Dv)("database.goOnline",0,0,arguments.length),function fm(n){(n=(0,de.m9)(n))._checkNotDeleted("goOnline"),function xC(n){n.persistentConnection_&&n.persistentConnection_.resume(I_)}(n._repo)}(this._delegate)}}jc.ServerValue={TIMESTAMP:function ix(){return nx}(),increment:n=>function GC(n){return{".sv":{increment:n}}}(n)};var nw=Object.freeze({__proto__:null,initStandalone:function tw({app:n,url:t,version:e,customAuthImpl:s,namespace:u,nodeAdmin:g=!1}){hv(e);const w=new Gr.zt("auth-internal",new Gr.H0("database-standalone"));return w.setComponent(new Gr.wA("auth-internal",()=>s,"PRIVATE")),{instance:new jc(cm(n,w,void 0,t,g),n),namespace:u}}});const iw=jc.ServerValue;!function rw(n){n.INTERNAL.registerComponent(new Gr.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("database").getImmediate({identifier:e});return new jc(u,s)},"PUBLIC").setServiceProps({Reference:Jr,Query:vr,Database:jc,DataSnapshot:la,enableLogging:ex,INTERNAL:nw,ServerValue:iw}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.3")}(ed.Z);var ua=q(7579),Er=q(5363),ax=q(6063);class lx extends ua.x{constructor(t=1/0,e=1/0,s=ax.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:u,_timestampProvider:g,_windowTime:w}=this;e||(s.push(t),!u&&s.push(g.now()+w)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:u}=this,g=u.slice();for(let w=0;w<g.length&&!t.closed;w+=s?1:2)t.next(g[w]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:u}=this,g=(u?1:2)*t;if(t<1/0&&g<s.length&&s.splice(0,s.length-g),!u){const w=e.now();let R=0;for(let W=1;W<s.length&&s[W]<=w;W+=2)R=W;R&&s.splice(0,R+1)}}}function Qd(n,t,e){let s,u=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:e}=n):s=n??1/0,(0,Jh.B)({connector:()=>new lx(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const $c=(0,q(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function js(n,t){return(0,Rr.e)((e,s)=>{let u=0;e.subscribe((0,zi.x)(s,g=>n.call(t,g,u++)&&s.next(g)))})}var Co=q(515);function Jd(n){return n<=0?()=>Co.E:(0,Rr.e)((t,e)=>{let s=0;t.subscribe((0,zi.x)(e,u=>{++s<=n&&(e.next(u),n<=s&&e.complete())}))})}function Yc(n){return(0,Rr.e)((t,e)=>{let s=!1;t.subscribe((0,zi.x)(e,u=>{s=!0,e.next(u)},()=>{s||e.next(n),e.complete()}))})}function cx(n=sw){return(0,Rr.e)((t,e)=>{let s=!1;t.subscribe((0,zi.x)(e,u=>{s=!0,e.next(u)},()=>s?e.complete():e.error(n())))})}function sw(){return new $c}function wo(n,t){const e=arguments.length>=2;return s=>s.pipe(n?js((u,g)=>n(u,g,s)):La.y,Jd(1),e?Yc(t):cx(()=>new $c))}var qd=q(576);function ca(n,t){return(0,qd.m)(t)?xi(()=>n,t):xi(()=>n)}var Is=q(9468),$s=q(259);class Nr{constructor(t){return t}}class gm{constructor(){return(0,$s.C6)()}}const mm=new y.OlP("angularfire2._apps"),ow={provide:Nr,useFactory:function Xc(n){return n&&1===n.length?n[0]:new Nr((0,$s.Mq)())},deps:[[new y.FiY,mm]]},aw={provide:gm,deps:[[new y.FiY,mm]]};function ep(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new Nr(s)}}let tp=(()=>{class n{constructor(e){(0,$s.KN)("angularfire",Ai.q4.full,"core"),(0,$s.KN)("angularfire",Ai.q4.full,"app"),(0,$s.KN)("angular",y.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(y.Lbi))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[ow,aw]}),n})();const ym=(0,Ai.u3)($s.ZF,!0),np=new Map,ip={activated:!1,tokenObservers:[]},vm={initialized:!1,enabled:!1};function _r(n){return np.get(n)||Object.assign({},ip)}function rp(){return vm}class vx{constructor(t,e,s,u,g){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=u,this.upperBound=g,this.pending=null,this.nextErrorWaitInterval=u,u>g)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Zo.Z)(function*(){e.stop();try{e.pending=new de.BH,yield function pw(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new de.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Dr=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bm(n){if(!_r(n).activated)throw Dr.create("use-before-activation",{appName:n.name})}function ha(n,t){return wm.apply(this,arguments)}function wm(){return(wm=(0,Zo.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const Te=yield u.getHeartbeatsHeader();Te&&(s["X-Firebase-Client"]=Te)}const g={method:"POST",body:JSON.stringify(t),headers:s};let w,R;try{w=yield fetch(n,g)}catch(Te){throw Dr.create("fetch-network-error",{originalErrorMessage:Te?.message})}if(200!==w.status)throw Dr.create("fetch-status-error",{httpStatus:w.status});try{R=yield w.json()}catch(Te){throw Dr.create("fetch-parse-error",{originalErrorMessage:Te?.message})}const W=R.ttl.match(/^([\d.]+)(s)$/);if(!W||!W[2]||isNaN(Number(W[1])))throw Dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${R.ttl}`});const Q=1e3*Number(W[1]),ge=Date.now();return{token:R.token,expireTimeMillis:ge+Q,issuedAtTimeMillis:ge}})).apply(this,arguments)}function nM(n,t){const{projectId:e,appId:s,apiKey:u}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${u}`,body:{debug_token:t}}}const To="firebase-app-check-store";let hu=null;function wx(){return hu||(hu=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var u;t(Dr.create("storage-open",{originalErrorMessage:null===(u=s.target.error)||void 0===u?void 0:u.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(e){t(Dr.create("storage-open",{originalErrorMessage:e?.message}))}}),hu)}function ap(){return(ap=(0,Zo.Z)(function*(n,t){const s=(yield wx()).transaction(To,"readwrite"),g=s.objectStore(To).put({compositeKey:n,value:t});return new Promise((w,R)=>{g.onsuccess=W=>{w()},s.onerror=W=>{var Q;R(Dr.create("storage-set",{originalErrorMessage:null===(Q=W.target.error)||void 0===Q?void 0:Q.message}))}})})).apply(this,arguments)}const up=new td.Yd("@firebase/app-check");function cp(n,t){return(0,de.hl)()?function gw(n,t){return function op(n,t){return ap.apply(this,arguments)}(function lp(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{up.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Im(){return rp().enabled}function hp(){return Sx.apply(this,arguments)}function Sx(){return(Sx=(0,Zo.Z)(function*(){const n=rp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const iM={error:"UNKNOWN_ERROR"};function _w(n){return de.US.encodeString(JSON.stringify(n),!1)}function dp(n){return Em.apply(this,arguments)}function Em(){return(Em=(0,Zo.Z)(function*(n,t=!1){const e=n.app;bm(e);const s=_r(e);let g,u=s.token;if(u&&!fu(u)&&(s.token=void 0,u=void 0),!u){const W=yield s.cachedTokenPromise;W&&(fu(W)?u=W:yield cp(e,void 0))}if(!t&&u&&fu(u))return{token:u.token};let R,w=!1;if(Im()){s.exchangeTokenPromise||(s.exchangeTokenPromise=ha(nM(e,yield hp()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),w=!0);const W=yield s.exchangeTokenPromise;return yield cp(e,W),s.token=W,{token:W.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),w=!0),u=yield _r(e).exchangeTokenPromise}catch(W){"appCheck/throttled"===W.code?up.warn(W.message):up.error(W),g=W}return u?g?R=fu(u)?{token:u.token,internalError:g}:Dx(g):(R={token:u.token},s.token=u,yield cp(e,u)):R=Dx(g),w&&Dm(e,R),R})).apply(this,arguments)}function fp(n,t){const e=_r(n),s=e.tokenObservers.filter(u=>u.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function Ix(n){const{app:t}=n,e=_r(t);let s=e.tokenRefresher;s||(s=function Ex(n){const{app:t}=n;return new vx((0,Zo.Z)(function*(){let s;if(s=_r(t).token?yield dp(n,!0):yield dp(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=_r(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function Dm(n,t){const e=_r(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function fu(n){return n.expireTimeMillis-Date.now()>0}function Dx(n){return{token:_w(iM),error:n}}class Ax{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_r(this.app);for(const e of t)fp(this.app,e.next);return Promise.resolve()}}const km="app-check-internal";!function lM(){(0,Cs._registerComponent)(new Gr.wA("app-check",n=>function xw(n,t){return new Ax(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(km).initialize()})),(0,Cs._registerComponent)(new Gr.wA(km,n=>function Px(n){return{getToken:t=>dp(n,t),addTokenListener:t=>function pp(n,t,e,s){const{app:u}=n,g=_r(u);if(g.tokenObservers=[...g.tokenObservers,{next:e,error:s,type:t}],g.token&&fu(g.token)){const R=g.token;Promise.resolve().then(()=>{e({token:R.token}),Ix(n)}).catch(()=>{})}g.cachedTokenPromise.then(()=>Ix(n))}(n,"INTERNAL",t),removeTokenListener:t=>fp(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cs.registerVersion)("@firebase/app-check","0.6.3")}();class Qc{constructor(){return(0,Ai.vb)("app-check")}}typeof window<"u"&&window;var Lm=q(9260);const Vw=new y.OlP("angularfire2.auth.use-emulator"),qr=new y.OlP("angularfire2.auth.settings"),Nx=new y.OlP("angularfire2.auth.tenant-id"),gp=new y.OlP("angularfire2.auth.langugage-code"),Vx=new y.OlP("angularfire2.auth.use-device-language"),Bx=new y.OlP("angularfire.auth.persistence"),mp=(n,t,e,s,u,g,w,R)=>(0,gr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const W=t.runOutsideAngular(()=>n.auth());if(e&&W.useEmulator(...e),s&&(W.tenantId=s),W.languageCode=u,g&&W.useDeviceLanguage(),w)for(const[Q,ge]of Object.entries(w))W.settings[Q]=ge;return R&&W.setPersistence(R),W},[e,s,u,g,w,R]);let Nm=(()=>{class n{constructor(e,s,u,g,w,R,W,Q,ge,Te,Be,st){const At=new ua.x,vn=yn(void 0).pipe((0,Er.Q)(w.outsideAngular),xi(()=>g.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,9568)))),(0,Mn.U)(()=>(0,gr.on)(e,g,s)),(0,Mn.U)(Rn=>mp(Rn,g,R,Q,ge,Te,W,Be)),Qd({bufferSize:1,refCount:!1}));if(function ye(n){return"server"===n}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yn(null);else{vn.pipe(wo()).subscribe();const oi=vn.pipe(xi(Ui=>Ui.getRedirectResult().then(Gs=>Gs,()=>null)),Ai.iC,Qd({bufferSize:1,refCount:!1})),Ei=vn.pipe(xi(Ui=>new Yr.y(Gs=>({unsubscribe:g.runOutsideAngular(()=>Ui.onAuthStateChanged(ah=>Gs.next(ah),ah=>Gs.error(ah),()=>Gs.complete()))})))),br=vn.pipe(xi(Ui=>new Yr.y(Gs=>({unsubscribe:g.runOutsideAngular(()=>Ui.onIdTokenChanged(ah=>Gs.next(ah),ah=>Gs.error(ah),()=>Gs.complete()))}))));this.authState=oi.pipe(ca(Ei),(0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular)),this.user=oi.pipe(ca(br),(0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular)),this.idToken=this.user.pipe(xi(Ui=>Ui?(0,di.D)(Ui.getIdToken()):yn(null))),this.idTokenResult=this.user.pipe(xi(Ui=>Ui?(0,di.D)(Ui.getIdTokenResult()):yn(null))),this.credential=(0,Qh.T)(oi,At,this.authState.pipe(js(Ui=>!Ui))).pipe((0,Mn.U)(Ui=>Ui?.user?Ui:null),(0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular))}return(0,gr.pX)(this,vn,g,{spy:{apply:(Rn,oi,Ei)=>{(Rn.startsWith("signIn")||Rn.startsWith("createUser"))&&Ei.then(br=>At.next(br))}}})}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(gr.Dh),y.LFG(gr.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ai.HU),y.LFG(Vw,8),y.LFG(qr,8),y.LFG(Nx,8),y.LFG(gp,8),y.LFG(Vx,8),y.LFG(Bx,8),y.LFG(Qc,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Vm(n){return null==n}function Ux(n){return"function"==typeof n.set}function Bm(n,t){return Ux(t)?t:n.ref(t)}function zx(n,t){if(function Ww(n){return"string"==typeof n}(n))return t.stringCase();if(Ux(n))return t.firebaseCase();if(function Wx(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function al(n,t,e="on",s=rb.z){return new Yr.y(u=>{let g=null;return g=n[e](t,(w,R)=>{s.schedule(()=>{u.next({snapshot:w,prevKey:R})}),"once"===e&&s.schedule(()=>u.complete())},w=>{s.schedule(()=>u.error(w))}),"on"===e?{unsubscribe(){null!=g&&n.off(t,g)}}:{unsubscribe(){}}}).pipe((0,Mn.U)(u=>{const{snapshot:g,prevKey:w}=u;let R=null;return g.exists()&&(R=g.key),{type:t,payload:g,prevKey:w,key:R}}),(0,Jh.B)())}function Wm(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function Mo(n,t){const{payload:e,prevKey:s,key:u}=t,g=Wm(n,u),w=function Um(n,t){if(Vm(t))return 0;{const e=Wm(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let R=null;t.payload.forEach(W=>{const Q={payload:W,type:"value",prevKey:R,key:W.key};return R=W.key,n=[...n,Q],!1})}return n;case"child_added":if(g>-1){const R=n[g-1];(R&&R.key||null)!==s&&(n=n.filter(W=>W.payload.key!==e.key)).splice(w,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(w,0,t)}return n;case"child_removed":return n.filter(R=>R.payload.key!==e.key);case"child_changed":return n.map(R=>R.payload.key===u?t:R);case"child_moved":if(g>-1){const R=n.splice(g,1)[0];return(n=n.slice()).splice(w,0,R),n}return n;default:return n}}function Hx(n){return(Vm(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Uw(n,t,e){return function da(n,t,e){return al(n,"value","once",e).pipe(xi(s=>{const u=[yn(s)];return t.forEach(g=>u.push(al(n,g,"on",e))),(0,Qh.T)(...u).pipe($l(Mo,[]))}),function uv(n,t=La.y){return n=n??Na,(0,Rr.e)((e,s)=>{let u,g=!0;e.subscribe((0,zi.x)(s,w=>{const R=t(w);(g||!n(u,R))&&(g=!1,u=R,s.next(w))}))})}())}(n,t=Hx(t),e)}function jx(n,t,e){const s=(t=Hx(t)).map(u=>al(n,u,"on",e));return(0,Qh.T)(...s)}function zm(n,t){return function(s,u){return zx(s,{stringCase:()=>n.child(s)[t](u),firebaseCase:()=>s[t](u),snapshotCase:()=>s.ref[t](u)})}}function dM(n){return function(e){return e?zx(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Yx(n,t){return function(){return al(n,"value","on",t)}}const pM=new y.OlP("angularfire2.realtimeDatabaseURL"),Hm=new y.OlP("angularfire2.database.use-emulator");let jm=(()=>{class n{constructor(e,s,u,g,w,R,W,Q,ge,Te,Be,st,At,vn,Rn){this.schedulers=R;const oi=W,Ei=(0,gr.on)(e,w,s);Q&&mp(Ei,w,ge,Be,st,At,Te,vn),this.database=(0,gr.cc)(`${Ei.name}.database.${u}`,"AngularFireDatabase",Ei.name,()=>{const br=w.runOutsideAngular(()=>Ei.database(u||void 0));return oi&&br.useEmulator(...oi),br},[oi])}list(e,s){const u=this.schedulers.ngZone.runOutsideAngular(()=>Bm(this.database,e));let g=u;return s&&(g=s(u)),function $x(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:zm(s,"update"),set:zm(s,"set"),push:u=>s.push(u),remove:dM(s),snapshotChanges:u=>Uw(n,u,e).pipe(Ai.iC),stateChanges:u=>jx(n,u,e).pipe(Ai.iC),auditTrail:u=>function zw(n,t,e){return function jw(n,t,e){return function Hw(n,t){return al(n,"value","on",t).pipe((0,Mn.U)(e=>{let s;return e.payload.forEach(u=>(s=u.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Df(...n){const t=(0,is.jO)(n);return(0,Rr.e)((e,s)=>{const u=n.length,g=new Array(u);let w=n.map(()=>!1),R=!1;for(let W=0;W<u;W++)(0,zo.Xf)(n[W]).subscribe((0,zi.x)(s,Q=>{g[W]=Q,!R&&!w[W]&&(w[W]=!0,(R=w.every(La.y))&&(w=null))},ob.Z));e.subscribe((0,zi.x)(s,W=>{if(R){const Q=[W,...g];s.next(t?t(...Q):Q)}}))})}(t),(0,Mn.U)(([u,g])=>{const w=u.lastKeyToLoad,R=g.map(W=>W.key);return{actions:g,lastKeyToLoad:w,loadedKeys:R}}),function qh(n){return(0,Rr.e)((t,e)=>{let s=!1,u=0;t.subscribe((0,zi.x)(e,g=>(s||(s=!n(g,u++)))&&e.next(g)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,Mn.U)(u=>u.actions))}(n,jx(n,t).pipe($l((u,g)=>[...u,g],[])),e)}(n,u,e).pipe(Ai.iC),valueChanges:(u,g)=>Uw(n,u,e).pipe((0,Mn.U)(R=>R.map(W=>g&&g.idField?Object.assign(Object.assign({},W.payload.val()),{[g.idField]:W.key}):W.payload.val())),Ai.iC)}}(g,this)}object(e){return function Xx(n,t){return{query:n,snapshotChanges:()=>Yx(n,t.schedulers.outsideAngular)().pipe(Ai.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Yx(n,t.schedulers.outsideAngular)().pipe(Ai.iC,(0,Mn.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Bm(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(gr.Dh),y.LFG(gr.xv,8),y.LFG(pM,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ai.HU),y.LFG(Hm,8),y.LFG(Nm,8),y.LFG(Vw,8),y.LFG(qr,8),y.LFG(Nx,8),y.LFG(gp,8),y.LFG(Vx,8),y.LFG(Bx,8),y.LFG(Qc,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gx=(()=>{class n{constructor(){Lm.Z.registerVersion("angularfire",Ai.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[jm]}),n})();const $m_firebase={projectId:"proyectofinal-b8ae1",appId:"1:633552562879:web:70c3a4a0f828817326b40a",databaseURL:"https://proyectofinal-b8ae1-default-rtdb.firebaseio.com",storageBucket:"proyectofinal-b8ae1.appspot.com",apiKey:"AIzaSyBumsBoUN6VIeAsUsJ9qVPFPtBiu7-aXvk",authDomain:"proyectofinal-b8ae1.firebaseapp.com",messagingSenderId:"633552562879",measurementId:"G-8L1ZH4MD2G"};class fs extends ua.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}var Zx=q(9672);function Jc(...n){const t=(0,is.yG)(n),e=(0,is.jO)(n),{args:s,keys:u}=Fh(n);if(0===s.length)return(0,di.D)([],t);const g=new Yr.y(function yp(n,t,e=La.y){return s=>{Ym(t,()=>{const{length:u}=n,g=new Array(u);let w=u,R=u;for(let W=0;W<u;W++)Ym(t,()=>{const Q=(0,di.D)(n[W],t);let ge=!1;Q.subscribe((0,zi.x)(s,Te=>{g[W]=Te,ge||(ge=!0,R--),R||s.next(e(g.slice()))},()=>{--w||s.complete()}))},s)},s)}}(s,t,u?w=>Al(u,w):La.y));return e?g.pipe(Ho(e)):g}function Ym(n,t,e){n?(0,Zx.f)(e,n,t):t()}var qc=q(8189);function Xm(...n){return function $w(){return(0,qc.J)(1)}()((0,di.D)(n,(0,is.yG)(n)))}function Yw(n){return new Yr.y(t=>{(0,zo.Xf)(n()).subscribe(t)})}var fM=q(9635);function gu(n,t){const e=(0,qd.m)(n)?n:()=>n,s=u=>u.error(e());return new Yr.y(t?u=>t.schedule(s,0,u):s)}var Kx=q(727);function Gm(){return(0,Rr.e)((n,t)=>{let e=null;n._refCount++;const s=(0,zi.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const u=n._connection,g=e;e=null,u&&(!g||u===g)&&u.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class Qx extends Yr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Kx.w0;const e=this.getSubject();t.add(this.source.subscribe((0,zi.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Kx.w0.EMPTY)}return t}refCount(){return Gm()(this)}}var xr=q(5577);function ll(n,t){return(0,qd.m)(t)?(0,xr.z)(n,t,1):(0,xr.z)(n,1)}var Vr=q(8505);function pa(n){return(0,Rr.e)((t,e)=>{let g,s=null,u=!1;s=t.subscribe((0,zi.x)(e,void 0,void 0,w=>{g=(0,zo.Xf)(n(w,pa(n)(t))),s?(s.unsubscribe(),s=null,g.subscribe(e)):u=!0})),u&&(s.unsubscribe(),s=null,g.subscribe(e))})}function Zm(n){return n<=0?()=>Co.E:(0,Rr.e)((t,e)=>{let s=[];t.subscribe((0,zi.x)(e,u=>{s.push(u),n<s.length&&s.shift()},()=>{for(const u of s)e.next(u);e.complete()},void 0,()=>{s=null}))})}function eh(n,t){const e=arguments.length>=2;return s=>s.pipe(n?js((u,g)=>n(u,g,s)):La.y,Zm(1),e?Yc(t):cx(()=>new $c))}function vp(n){return(0,Rr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const kn="primary",mu=Symbol("RouteTitle");class Km{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fa(n){return new Km(n)}function Zw(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const u={};for(let g=0;g<s.length;g++){const w=s[g],R=n[g];if(w.startsWith(":"))u[w.substring(1)]=R;else if(w!==R.path)return null}return{consumed:n.slice(0,s.length),posParams:u}}function gs(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let u;for(let g=0;g<e.length;g++)if(u=e[g],!th(n[u],t[u]))return!1;return!0}function th(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((u,g)=>s[g]===u)}return n===t}function Kw(n){return Array.prototype.concat.apply([],n)}function Qw(n){return n.length>0?n[n.length-1]:null}function Ar(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function So(n){return(0,y.CqO)(n)?n:(0,y.QGY)(n)?(0,di.D)(Promise.resolve(n)):yn(n)}const _p=!1,Jw={exact:function Jm(n,t,e){if(!ul(n.segments,t.segments)||!nh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!Jm(n.children[s],t.children[s],e))return!1;return!0},subset:n0},Jx={exact:function e0(n,t){return gs(n,t)},subset:function t0(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>th(n[e],t[e]))},ignored:()=>!0};function qx(n,t,e){return Jw[e.paths](n.root,t.root,e.matrixParams)&&Jx[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function n0(n,t,e){return r0(n,t,t.segments,e)}function r0(n,t,e,s){if(n.segments.length>e.length){const u=n.segments.slice(0,e.length);return!(!ul(u,e)||t.hasChildren()||!nh(u,e,s))}if(n.segments.length===e.length){if(!ul(n.segments,e)||!nh(n.segments,e,s))return!1;for(const u in t.children)if(!n.children[u]||!n0(n.children[u],t.children[u],s))return!1;return!0}{const u=e.slice(0,n.segments.length),g=e.slice(n.segments.length);return!!(ul(n.segments,u)&&nh(n.segments,u,s)&&n.children[kn])&&r0(n.children[kn],t,g,s)}}function nh(n,t,e){return t.every((s,u)=>Jx[e](n[u].parameters,s.parameters))}class Io{constructor(t=new si([],{}),e={},s=null){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fa(this.queryParams)),this._queryParamMap}toString(){return eT.serialize(this)}}class si{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ar(e,(s,u)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bp(this)}}class yu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fa(this.parameters)),this._parameterMap}toString(){return nT(this)}}function ul(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return new s0},providedIn:"root"}),n})();class s0{parse(t){const e=new c(t);return new Io(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ih(t.root,!0)}`,s=function vM(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(u=>`${ey(e)}=${ey(u)}`).join("&"):`${ey(e)}=${ey(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function mM(n){return encodeURI(n)}(t.fragment)}`:""}`}}const eT=new s0;function bp(n){return n.segments.map(t=>nT(t)).join("/")}function ih(n,t){if(!n.hasChildren())return bp(n);if(t){const e=n.children[kn]?ih(n.children[kn],!1):"",s=[];return Ar(n.children,(u,g)=>{g!==kn&&s.push(`${g}:${ih(u,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function qw(n,t){let e=[];return Ar(n.children,(s,u)=>{u===kn&&(e=e.concat(t(s,u)))}),Ar(n.children,(s,u)=>{u!==kn&&(e=e.concat(t(s,u)))}),e}(n,(s,u)=>u===kn?[ih(n.children[kn],!1)]:[`${u}:${ih(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kn]?`${bp(n)}/${e[0]}`:`${bp(n)}/(${e.join("//")})`}}function tT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ey(n){return tT(n).replace(/%3B/gi,";")}function o0(n){return tT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ty(n){return decodeURIComponent(n)}function a0(n){return ty(n.replace(/\+/g,"%20"))}function nT(n){return`${o0(n.path)}${function yM(n){return Object.keys(n).map(t=>`;${o0(t)}=${o0(n[t])}`).join("")}(n.parameters)}`}const _M=/^[^\/()?;=#]+/;function ny(n){const t=n.match(_M);return t?t[0]:""}const xM=/^[^=?&#]+/,r=/^[^&#]+/;class c{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new si([],{}):new si([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[kn]=new si(t,e)),s}parseSegment(){const t=ny(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new y.vHH(4009,_p);return this.capture(t),new yu(ty(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ny(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const u=ny(this.remaining);u&&(s=u,this.capture(s))}t[ty(e)]=ty(s)}parseQueryParam(t){const e=function i(n){const t=n.match(xM);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const w=function a(n){const t=n.match(r);return t?t[0]:""}(this.remaining);w&&(s=w,this.capture(s))}const u=a0(e),g=a0(s);if(t.hasOwnProperty(u)){let w=t[u];Array.isArray(w)||(w=[w],t[u]=w),w.push(g)}else t[u]=g}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ny(this.remaining),u=this.remaining[s.length];if("/"!==u&&")"!==u&&";"!==u)throw new y.vHH(4010,_p);let g;s.indexOf(":")>-1?(g=s.slice(0,s.indexOf(":")),this.capture(g),this.capture(":")):t&&(g=kn);const w=this.parseChildren();e[g]=1===Object.keys(w).length?w[kn]:new si([],w),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new y.vHH(4011,_p)}}function p(n){return n.segments.length>0?new si([],{[kn]:n}):n}function x(n){const t={};for(const s of Object.keys(n.children)){const g=x(n.children[s]);(g.segments.length>0||g.hasChildren())&&(t[s]=g)}return function E(n){if(1===n.numberOfChildren&&n.children[kn]){const t=n.children[kn];return new si(n.segments.concat(t.segments),t.children)}return n}(new si(n.segments,t))}function F(n){return n instanceof Io}const L=!1;function Ae(n,t,e,s,u){if(0===e.length)return Bt(t.root,t.root,t.root,s,u);const g=function In(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hn(!0,0,n);let t=0,e=!1;const s=n.reduce((u,g,w)=>{if("object"==typeof g&&null!=g){if(g.outlets){const R={};return Ar(g.outlets,(W,Q)=>{R[Q]="string"==typeof W?W.split("/"):W}),[...u,{outlets:R}]}if(g.segmentPath)return[...u,g.segmentPath]}return"string"!=typeof g?[...u,g]:0===w?(g.split("/").forEach((R,W)=>{0==W&&"."===R||(0==W&&""===R?e=!0:".."===R?t++:""!=R&&u.push(R))}),u):[...u,g]},[]);return new hn(e,t,s)}(e);return g.toRoot()?Bt(t.root,t.root,new si([],{}),s,u):function w(W){const Q=function Wi(n,t,e,s){if(n.isAbsolute)return new Pt(t.root,!0,0);if(-1===s)return new Pt(e,e===t.root,0);return function Xi(n,t,e){let s=n,u=t,g=e;for(;g>u;){if(g-=u,s=s.parent,!s)throw new y.vHH(4005,L);u=s.segments.length}return new Pt(s,!1,u-g)}(e,s+(ze(n.commands[0])?0:1),n.numberOfDoubleDots)}(g,t,n.snapshot?._urlSegment,W),ge=Q.processChildren?Cp(Q.segmentGroup,Q.index,g.commands):iT(Q.segmentGroup,Q.index,g.commands);return Bt(t.root,Q.segmentGroup,ge,s,u)}(n.snapshot?._lastPathIndex)}function ze(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yt(n){return"object"==typeof n&&null!=n&&n.outlets}function Bt(n,t,e,s,u){let w,g={};s&&Ar(s,(W,Q)=>{g[Q]=Array.isArray(W)?W.map(ge=>`${ge}`):`${W}`}),w=n===t?e:en(n,t,e);const R=p(x(w));return new Io(R,g,u)}function en(n,t,e){const s={};return Ar(n.children,(u,g)=>{s[g]=u===t?e:en(u,t,e)}),new si(n.segments,s)}class hn{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&ze(s[0]))throw new y.vHH(4003,L);const u=s.find(yt);if(u&&u!==Qw(s))throw new y.vHH(4004,L)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pt{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function iT(n,t,e){if(n||(n=new si([],{})),0===n.segments.length&&n.hasChildren())return Cp(n,t,e);const s=function HS(n,t,e){let s=0,u=t;const g={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(s>=e.length)return g;const w=n.segments[u],R=e[s];if(yt(R))break;const W=`${R}`,Q=s<e.length-1?e[s+1]:null;if(u>0&&void 0===W)break;if(W&&Q&&"object"==typeof Q&&void 0===Q.outlets){if(!wM(W,Q,w))return g;s+=2}else{if(!wM(W,{},w))return g;s++}u++}return{match:!0,pathIndex:u,commandIndex:s}}(n,t,e),u=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const g=new si(n.segments.slice(0,s.pathIndex),{});return g.children[kn]=new si(n.segments.slice(s.pathIndex),n.children),Cp(g,0,u)}return s.match&&0===u.length?new si(n.segments,{}):s.match&&!n.hasChildren()?rT(n,t,e):s.match?Cp(n,0,u):rT(n,t,e)}function Cp(n,t,e){if(0===e.length)return new si(n.segments,{});{const s=function bM(n){return yt(n[0])?n[0].outlets:{[kn]:n}}(e),u={};return!s[kn]&&n.children[kn]&&1===n.numberOfChildren&&0===n.children[kn].segments.length?Cp(n.children[kn],t,e):(Ar(s,(g,w)=>{"string"==typeof g&&(g=[g]),null!==g&&(u[w]=iT(n.children[w],t,g))}),Ar(n.children,(g,w)=>{void 0===s[w]&&(u[w]=g)}),new si(n.segments,u))}}function rT(n,t,e){const s=n.segments.slice(0,t);let u=0;for(;u<e.length;){const g=e[u];if(yt(g)){const W=jS(g.outlets);return new si(s,W)}if(0===u&&ze(e[0])){s.push(new yu(n.segments[t].path,CM(e[0]))),u++;continue}const w=yt(g)?g.outlets[kn]:`${g}`,R=u<e.length-1?e[u+1]:null;w&&R&&ze(R)?(s.push(new yu(w,CM(R))),u+=2):(s.push(new yu(w,{})),u++)}return new si(s,{})}function jS(n){const t={};return Ar(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=rT(new si([],{}),0,e))}),t}function CM(n){const t={};return Ar(n,(e,s)=>t[s]=`${e}`),t}function wM(n,t,e){return n==e.path&&gs(t,e.parameters)}const iy="imperative";class ga{constructor(t,e){this.id=t,this.url=e}}class sT extends ga{constructor(t,e,s="imperative",u=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rh extends ga{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class l0 extends ga{constructor(t,e,s,u){super(t,e),this.reason=s,this.code=u,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TM extends ga{constructor(t,e,s,u){super(t,e),this.reason=s,this.code=u,this.type=16}}class MM extends ga{constructor(t,e,s,u){super(t,e),this.error=s,this.target=u,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $S extends ga{constructor(t,e,s,u){super(t,e),this.urlAfterRedirects=s,this.state=u,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YS extends ga{constructor(t,e,s,u){super(t,e),this.urlAfterRedirects=s,this.state=u,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XS extends ga{constructor(t,e,s,u,g){super(t,e),this.urlAfterRedirects=s,this.state=u,this.shouldActivate=g,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GS extends ga{constructor(t,e,s,u){super(t,e),this.urlAfterRedirects=s,this.state=u,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZS extends ga{constructor(t,e,s,u){super(t,e),this.urlAfterRedirects=s,this.state=u,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KS{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QS{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JS{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qS{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eI{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tI{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SM{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let iI=(()=>{class n{createUrlTree(e,s,u,g,w,R){return Ae(e||s.root,u,g,w,R)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),rI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(t){return iI.\u0275fac(t)},providedIn:"root"}),n})();class IM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oT(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=oT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=aT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==t)}pathFromRoot(t){return aT(t,this._root).map(e=>e.value)}}function oT(n,t){if(n===t.value)return t;for(const e of t.children){const s=oT(n,e);if(s)return s}return null}function aT(n,t){if(n===t.value)return[t];for(const e of t.children){const s=aT(n,e);if(s.length)return s.unshift(t),s}return[]}class cl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class EM extends IM{constructor(t,e){super(t),this.snapshot=e,lT(this,t)}toString(){return this.snapshot.toString()}}function DM(n,t){const e=function sI(n,t){const w=new u0([],{},{},"",{},kn,t,null,n.root,-1,{});return new PM("",new cl(w,[]))}(n,t),s=new fs([new yu("",{})]),u=new fs({}),g=new fs({}),w=new fs({}),R=new fs(""),W=new Tp(s,u,w,R,g,kn,t,e.root);return W.snapshot=e.root,new EM(new cl(W,[]),e)}class Tp{constructor(t,e,s,u,g,w,R,W){this.url=t,this.params=e,this.queryParams=s,this.fragment=u,this.data=g,this.outlet=w,this.component=R,this.title=this.data?.pipe((0,Mn.U)(Q=>Q[mu]))??yn(void 0),this._futureSnapshot=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mn.U)(t=>fa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mn.U)(t=>fa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AM(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const u=e[s],g=e[s-1];if(u.routeConfig&&""===u.routeConfig.path)s--;else{if(g.component)break;s--}}return function oI(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class u0{get title(){return this.data?.[mu]}constructor(t,e,s,u,g,w,R,W,Q,ge,Te){this.url=t,this.params=e,this.queryParams=s,this.fragment=u,this.data=g,this.outlet=w,this.component=R,this.routeConfig=W,this._urlSegment=Q,this._lastPathIndex=ge,this._resolve=Te}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PM extends IM{constructor(t,e){super(e),this.url=t,lT(this,e)}toString(){return kM(this._root)}}function lT(n,t){t.value._routerState=n,t.children.forEach(e=>lT(n,e))}function kM(n){const t=n.children.length>0?` { ${n.children.map(kM).join(", ")} } `:"";return`${n.value}${t}`}function uT(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,gs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),gs(t.params,e.params)||n.params.next(e.params),function Qm(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!gs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),gs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cT(n,t){const e=gs(n.params,t.params)&&function qm(n,t){return ul(n,t)&&n.every((e,s)=>gs(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cT(n.parent,t.parent))}function ry(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const u=function lI(n,t,e){return t.children.map(s=>{for(const u of e.children)if(n.shouldReuseRoute(s.value,u.value.snapshot))return ry(n,s,u);return ry(n,s)})}(n,t,e);return new cl(s,u)}{if(n.shouldAttach(t.value)){const g=n.retrieve(t.value);if(null!==g){const w=g.route;return w.value._futureSnapshot=t.value,w.children=t.children.map(R=>ry(n,R)),w}}const s=function uI(n){return new Tp(new fs(n.url),new fs(n.params),new fs(n.queryParams),new fs(n.fragment),new fs(n.data),n.outlet,n.component,n)}(t.value),u=t.children.map(g=>ry(n,g));return new cl(s,u)}}const hT="ngNavigationCancelingError";function FM(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=F(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,u=RM(!1,0,t);return u.url=e,u.navigationBehaviorOptions=s,u}function RM(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[hT]=!0,s.cancellationCode=t,e&&(s.url=e),s}function OM(n){return LM(n)&&F(n.url)}function LM(n){return n&&n[hT]}class cI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new sy,this.attachRef=null}}let sy=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const u=this.getOrCreateContext(e);u.outlet=s,this.contexts.set(e,u)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new cI,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c0=!1;let dT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=kn,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(sy),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(e){if(e.name){const{firstChange:s,previousValue:u}=e.name;if(s)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,c0);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,c0);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,c0);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new y.vHH(4013,c0);this._activatedRoute=e;const u=this.location,w=e.snapshot.component,R=this.parentContexts.getOrCreateContext(this.name).children,W=new hI(e,R,u.injector);if(s&&function dI(n){return!!n.resolveComponentFactory}(s)){const Q=s.resolveComponentFactory(w);this.activated=u.createComponent(Q,u.length,W)}else this.activated=u.createComponent(w,{index:u.length,injector:W,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=y.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),n})();class hI{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Tp?this.route:t===sy?this.childContexts:this.parent.get(t,e)}}let pT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(e,s){1&e&&y._UZ(0,"router-outlet")},dependencies:[dT],encapsulation:2}),n})();function NM(n,t){return n.providers&&!n._injector&&(n._injector=(0,y.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function gT(n){const t=n.children&&n.children.map(gT),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==kn&&(e.component=pT),e}function Xs(n){return n.outlet||kn}function VM(n,t){const e=n.filter(s=>Xs(s)===t);return e.push(...n.filter(s=>Xs(s)!==t)),e}function oy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class yI{constructor(t,e,s,u){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=u}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),uT(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const u=wp(e);t.children.forEach(g=>{const w=g.value.outlet;this.deactivateRoutes(g,u[w],s),delete u[w]}),Ar(u,(g,w)=>{this.deactivateRouteAndItsChildren(g,s)})}deactivateRoutes(t,e,s){const u=t.value,g=e?e.value:null;if(u===g)if(u.component){const w=s.getContext(u.outlet);w&&this.deactivateChildRoutes(t,e,w.children)}else this.deactivateChildRoutes(t,e,s);else g&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),u=s&&t.value.component?s.children:e,g=wp(t);for(const w of Object.keys(g))this.deactivateRouteAndItsChildren(g[w],u);if(s&&s.outlet){const w=s.outlet.detach(),R=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:w,route:t,contexts:R})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),u=s&&t.value.component?s.children:e,g=wp(t);for(const w of Object.keys(g))this.deactivateRouteAndItsChildren(g[w],u);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const u=wp(e);t.children.forEach(g=>{this.activateRoutes(g,u[g.value.outlet],s),this.forwardEvent(new tI(g.value.snapshot))}),t.children.length&&this.forwardEvent(new qS(t.value.snapshot))}activateRoutes(t,e,s){const u=t.value,g=e?e.value:null;if(uT(u),u===g)if(u.component){const w=s.getOrCreateContext(u.outlet);this.activateChildRoutes(t,e,w.children)}else this.activateChildRoutes(t,e,s);else if(u.component){const w=s.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const R=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),w.children.onOutletReAttached(R.contexts),w.attachRef=R.componentRef,w.route=R.route.value,w.outlet&&w.outlet.attach(R.componentRef,R.route.value),uT(R.route.value),this.activateChildRoutes(t,null,w.children)}else{const R=oy(u.snapshot),W=R?.get(y._Vd)??null;w.attachRef=null,w.route=u,w.resolver=W,w.injector=R,w.outlet&&w.outlet.activateWith(u,w.injector),this.activateChildRoutes(t,null,w.children)}}else this.activateChildRoutes(t,null,s)}}class BM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class h0{constructor(t,e){this.component=t,this.route=e}}function vI(n,t,e){const s=n._root;return ay(s,t?t._root:null,e,[s.value])}function Mp(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,y.Z0I)(n)?t.get(n):n:s}function ay(n,t,e,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const g=wp(t);return n.children.forEach(w=>{(function xI(n,t,e,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const g=n.value,w=t?t.value:null,R=e?e.getContext(n.value.outlet):null;if(w&&g.routeConfig===w.routeConfig){const W=function bI(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ul(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ul(n.url,t.url)||!gs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cT(n,t)||!gs(n.queryParams,t.queryParams);default:return!cT(n,t)}}(w,g,g.routeConfig.runGuardsAndResolvers);W?u.canActivateChecks.push(new BM(s)):(g.data=w.data,g._resolvedData=w._resolvedData),ay(n,t,g.component?R?R.children:null:e,s,u),W&&R&&R.outlet&&R.outlet.isActivated&&u.canDeactivateChecks.push(new h0(R.outlet.component,w))}else w&&ly(t,R,u),u.canActivateChecks.push(new BM(s)),ay(n,null,g.component?R?R.children:null:e,s,u)})(w,g[w.value.outlet],e,s.concat([w.value]),u),delete g[w.value.outlet]}),Ar(g,(w,R)=>ly(w,e.getContext(R),u)),u}function ly(n,t,e){const s=wp(n),u=n.value;Ar(s,(g,w)=>{ly(g,u.component?t?t.children.getContext(w):null:t,e)}),e.canDeactivateChecks.push(new h0(u.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,u))}function uy(n){return"function"==typeof n}function mT(n){return n instanceof $c||"EmptyError"===n?.name}const d0=Symbol("INITIAL_VALUE");function Sp(){return xi(n=>Jc(n.map(t=>t.pipe(Jd(1),function gM(...n){const t=(0,is.yG)(n);return(0,Rr.e)((e,s)=>{(t?Xm(n,e,t):Xm(n,e)).subscribe(s)})}(d0)))).pipe((0,Mn.U)(t=>{for(const e of t)if(!0!==e){if(e===d0)return d0;if(!1===e||e instanceof Io)return e}return!0}),js(t=>t!==d0),Jd(1)))}function WM(n){return(0,fM.z)((0,Vr.b)(t=>{if(F(t))throw FM(0,t)}),(0,Mn.U)(t=>!0===t))}const yT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UM(n,t,e,s,u){const g=vT(n,t,e);return g.matched?function VI(n,t,e,s){const u=t.canMatch;return u&&0!==u.length?yn(u.map(w=>{const R=Mp(w,n);return So(function II(n){return n&&uy(n.canMatch)}(R)?R.canMatch(t,e):n.runInContext(()=>R(t,e)))})).pipe(Sp(),WM()):yn(!0)}(s=NM(t,s),t,e).pipe((0,Mn.U)(w=>!0===w?g:{...yT})):yn(g)}function vT(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...yT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const u=(t.matcher||Zw)(e,n,t);if(!u)return{...yT};const g={};Ar(u.posParams,(R,W)=>{g[W]=R.path});const w=u.consumed.length>0?{...g,...u.consumed[u.consumed.length-1].parameters}:g;return{matched:!0,consumedSegments:u.consumed,remainingSegments:e.slice(u.consumed.length),parameters:w,positionalParamSegments:u.posParams??{}}}function p0(n,t,e,s){if(e.length>0&&function UI(n,t,e){return e.some(s=>f0(n,t,s)&&Xs(s)!==kn)}(n,e,s)){const g=new si(t,function WI(n,t,e,s){const u={};u[kn]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const g of e)if(""===g.path&&Xs(g)!==kn){const w=new si([],{});w._sourceSegment=n,w._segmentIndexShift=t.length,u[Xs(g)]=w}return u}(n,t,s,new si(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function zI(n,t,e){return e.some(s=>f0(n,t,s))}(n,e,s)){const g=new si(n.segments,function BI(n,t,e,s,u){const g={};for(const w of s)if(f0(n,e,w)&&!u[Xs(w)]){const R=new si([],{});R._sourceSegment=n,R._segmentIndexShift=t.length,g[Xs(w)]=R}return{...u,...g}}(n,t,e,s,n.children));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const u=new si(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function f0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function zM(n,t,e,s){return!!(Xs(n)===s||s!==kn&&f0(t,e,n))&&("**"===n.path||vT(t,n,e).matched)}function HM(n,t,e){return 0===t.length&&!n.children[e]}const g0=!1;class m0{constructor(t){this.segmentGroup=t||null}}class jM{constructor(t){this.urlTree=t}}function cy(n){return gu(new m0(n))}function $M(n){return gu(new jM(n))}class YI{constructor(t,e,s,u,g){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=u,this.config=g,this.allowRedirects=!0}apply(){const t=p0(this.urlTree.root,[],[],this.config).segmentGroup,e=new si(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,kn).pipe((0,Mn.U)(g=>this.createUrlTree(x(g),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pa(g=>{if(g instanceof jM)return this.allowRedirects=!1,this.match(g.urlTree);throw g instanceof m0?this.noMatchError(g):g}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,kn).pipe((0,Mn.U)(u=>this.createUrlTree(x(u),t.queryParams,t.fragment))).pipe(pa(u=>{throw u instanceof m0?this.noMatchError(u):u}))}noMatchError(t){return new y.vHH(4002,g0)}createUrlTree(t,e,s){const u=p(t);return new Io(u,e,s)}expandSegmentGroup(t,e,s,u){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,Mn.U)(g=>new si([],g))):this.expandSegment(t,s,e,s.segments,u,!0)}expandChildren(t,e,s){const u=[];for(const g of Object.keys(s.children))"primary"===g?u.unshift(g):u.push(g);return(0,di.D)(u).pipe(ll(g=>{const w=s.children[g],R=VM(e,g);return this.expandSegmentGroup(t,R,w,g).pipe((0,Mn.U)(W=>({segment:W,outlet:g})))}),$l((g,w)=>(g[w.outlet]=w.segment,g),{}),eh())}expandSegment(t,e,s,u,g,w){return(0,di.D)(s).pipe(ll(R=>this.expandSegmentAgainstRoute(t,e,s,R,u,g,w).pipe(pa(Q=>{if(Q instanceof m0)return yn(null);throw Q}))),wo(R=>!!R),pa((R,W)=>{if(mT(R))return HM(e,u,g)?yn(new si([],{})):cy(e);throw R}))}expandSegmentAgainstRoute(t,e,s,u,g,w,R){return zM(u,e,g,w)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(t,e,u,g,w):R&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,u,g,w):cy(e):cy(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,u,g,w){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,u,w):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,u,g,w)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,u){const g=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?$M(g):this.lineralizeSegments(s,g).pipe((0,xr.z)(w=>{const R=new si(w,{});return this.expandSegment(t,R,e,w,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,u,g,w){const{matched:R,consumedSegments:W,remainingSegments:Q,positionalParamSegments:ge}=vT(e,u,g);if(!R)return cy(e);const Te=this.applyRedirectCommands(W,u.redirectTo,ge);return u.redirectTo.startsWith("/")?$M(Te):this.lineralizeSegments(u,Te).pipe((0,xr.z)(Be=>this.expandSegment(t,e,s,Be.concat(Q),w,!1)))}matchSegmentAgainstRoute(t,e,s,u,g){return"**"===s.path?(t=NM(s,t),s.loadChildren?(s._loadedRoutes?yn({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,Mn.U)(R=>(s._loadedRoutes=R.routes,s._loadedInjector=R.injector,new si(u,{})))):yn(new si(u,{}))):UM(e,s,u,t).pipe(xi(({matched:w,consumedSegments:R,remainingSegments:W})=>w?this.getChildConfig(t=s._injector??t,s,u).pipe((0,xr.z)(ge=>{const Te=ge.injector??t,Be=ge.routes,{segmentGroup:st,slicedSegments:At}=p0(e,R,W,Be),vn=new si(st.segments,st.children);if(0===At.length&&vn.hasChildren())return this.expandChildren(Te,Be,vn).pipe((0,Mn.U)(br=>new si(R,br)));if(0===Be.length&&0===At.length)return yn(new si(R,{}));const Rn=Xs(s)===g;return this.expandSegment(Te,vn,Be,At,Rn?kn:g,!0).pipe((0,Mn.U)(Ei=>new si(R.concat(Ei.segments),Ei.children)))})):cy(e)))}getChildConfig(t,e,s){return e.children?yn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?yn({routes:e._loadedRoutes,injector:e._loadedInjector}):function NI(n,t,e,s){const u=t.canLoad;return void 0===u||0===u.length?yn(!0):yn(u.map(w=>{const R=Mp(w,n);return So(function wI(n){return n&&uy(n.canLoad)}(R)?R.canLoad(t,e):n.runInContext(()=>R(t,e)))})).pipe(Sp(),WM())}(t,e,s).pipe((0,xr.z)(u=>u?this.configLoader.loadChildren(t,e).pipe((0,Vr.b)(g=>{e._loadedRoutes=g.routes,e._loadedInjector=g.injector})):function jI(n){return gu(RM(g0,3))}())):yn({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],u=e.root;for(;;){if(s=s.concat(u.segments),0===u.numberOfChildren)return yn(s);if(u.numberOfChildren>1||!u.children[kn])return gu(new y.vHH(4e3,g0));u=u.children[kn]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,u){const g=this.createSegmentGroup(t,e.root,s,u);return new Io(g,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Ar(t,(u,g)=>{if("string"==typeof u&&u.startsWith(":")){const R=u.substring(1);s[g]=e[R]}else s[g]=u}),s}createSegmentGroup(t,e,s,u){const g=this.createSegments(t,e.segments,s,u);let w={};return Ar(e.children,(R,W)=>{w[W]=this.createSegmentGroup(t,R,s,u)}),new si(g,w)}createSegments(t,e,s,u){return e.map(g=>g.path.startsWith(":")?this.findPosParam(t,g,u):this.findOrReturn(g,s))}findPosParam(t,e,s){const u=s[e.path.substring(1)];if(!u)throw new y.vHH(4001,g0);return u}findOrReturn(t,e){let s=0;for(const u of e){if(u.path===t.path)return e.splice(s),u;s++}return t}}class GI{}class QI{constructor(t,e,s,u,g,w,R){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=u,this.url=g,this.paramsInheritanceStrategy=w,this.urlSerializer=R}recognize(){const t=p0(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,kn).pipe((0,Mn.U)(e=>{if(null===e)return null;const s=new u0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kn,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new cl(s,e),g=new PM(this.url,u);return this.inheritParamsAndData(g._root),g}))}inheritParamsAndData(t){const e=t.value,s=AM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(t,e,s,u){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,u)}processChildren(t,e,s){return(0,di.D)(Object.keys(s.children)).pipe(ll(u=>{const g=s.children[u],w=VM(e,u);return this.processSegmentGroup(t,w,g,u)}),$l((u,g)=>u&&g?(u.push(...g),u):null),function Xw(n,t=!1){return(0,Rr.e)((e,s)=>{let u=0;e.subscribe((0,zi.x)(s,g=>{const w=n(g,u++);(w||t)&&s.next(g),!w&&s.complete()}))})}(u=>null!==u),Yc(null),eh(),(0,Mn.U)(u=>{if(null===u)return null;const g=XM(u);return function JI(n){n.sort((t,e)=>t.value.outlet===kn?-1:e.value.outlet===kn?1:t.value.outlet.localeCompare(e.value.outlet))}(g),g}))}processSegment(t,e,s,u,g){return(0,di.D)(e).pipe(ll(w=>this.processSegmentAgainstRoute(w._injector??t,w,s,u,g)),wo(w=>!!w),pa(w=>{if(mT(w))return HM(s,u,g)?yn([]):yn(null);throw w}))}processSegmentAgainstRoute(t,e,s,u,g){if(e.redirectTo||!zM(e,s,u,g))return yn(null);let w;if("**"===e.path){const R=u.length>0?Qw(u).parameters:{},W=ZM(s)+u.length;w=yn({snapshot:new u0(u,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KM(e),Xs(e),e.component??e._loadedComponent??null,e,GM(s),W,QM(e)),consumedSegments:[],remainingSegments:[]})}else w=UM(s,e,u,t).pipe((0,Mn.U)(({matched:R,consumedSegments:W,remainingSegments:Q,parameters:ge})=>{if(!R)return null;const Te=ZM(s)+W.length;return{snapshot:new u0(W,ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KM(e),Xs(e),e.component??e._loadedComponent??null,e,GM(s),Te,QM(e)),consumedSegments:W,remainingSegments:Q}}));return w.pipe(xi(R=>{if(null===R)return yn(null);const{snapshot:W,consumedSegments:Q,remainingSegments:ge}=R;t=e._injector??t;const Te=e._loadedInjector??t,Be=function qI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:st,slicedSegments:At}=p0(s,Q,ge,Be.filter(Rn=>void 0===Rn.redirectTo));if(0===At.length&&st.hasChildren())return this.processChildren(Te,Be,st).pipe((0,Mn.U)(Rn=>null===Rn?null:[new cl(W,Rn)]));if(0===Be.length&&0===At.length)return yn([new cl(W,[])]);const vn=Xs(e)===g;return this.processSegment(Te,Be,st,At,vn?kn:g).pipe((0,Mn.U)(Rn=>null===Rn?null:[new cl(W,Rn)]))}))}}function eE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function XM(n){const t=[],e=new Set;for(const s of n){if(!eE(s)){t.push(s);continue}const u=t.find(g=>s.value.routeConfig===g.value.routeConfig);void 0!==u?(u.children.push(...s.children),e.add(u)):t.push(s)}for(const s of e){const u=XM(s.children);t.push(new cl(s.value,u))}return t.filter(s=>!e.has(s))}function GM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ZM(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function KM(n){return n.data||{}}function QM(n){return n.resolve||{}}function JM(n){return"string"==typeof n.title||null===n.title}function _T(n){return xi(t=>{const e=n(t);return e?(0,di.D)(e).pipe((0,Mn.U)(()=>t)):yn(t)})}const Ip=new y.OlP("ROUTES");let xT=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return yn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=So(e.loadComponent()).pipe((0,Mn.U)(eS),(0,Vr.b)(g=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=g}),vp(()=>{this.componentLoaders.delete(e)})),u=new Qx(s,()=>new ua.x).pipe(Gm());return this.componentLoaders.set(e,u),u}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return yn({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const g=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,Mn.U)(R=>{this.onLoadEndListener&&this.onLoadEndListener(s);let W,Q,ge=!1;Array.isArray(R)?Q=R:(W=R.create(e).injector,Q=Kw(W.get(Ip,[],y.XFs.Self|y.XFs.Optional)));return{routes:Q.map(gT),injector:W}}),vp(()=>{this.childrenLoaders.delete(s)})),w=new Qx(g,()=>new ua.x).pipe(Gm());return this.childrenLoaders.set(s,w),w}loadModuleFactoryOrRoutes(e){return So(e()).pipe((0,Mn.U)(eS),(0,xr.z)(u=>u instanceof y.YKP||Array.isArray(u)?yn(u):(0,di.D)(this.compiler.compileModuleAsync(u))))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(y.zs3),y.LFG(y.Sil))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eS(n){return function uE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let v0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ua.x,this.configLoader=(0,y.f3M)(xT),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(xp),this.rootContexts=(0,y.f3M)(sy),this.navigationId=0,this.afterPreactivation=()=>yn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new QS(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new KS(u))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:s})}setupNavigations(e){return this.transitions=new fs({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:iy,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(js(s=>0!==s.id),(0,Mn.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),xi(s=>{let u=!1,g=!1;return yn(s).pipe((0,Vr.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(w=>{const R=e.browserUrlTree.toString(),W=!e.navigated||w.extractedUrl.toString()!==R||R!==e.currentUrlTree.toString();if(!W&&"reload"!==(w.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const ge="";return this.events.next(new TM(w.id,e.serializeUrl(s.rawUrl),ge,0)),e.rawUrlTree=w.rawUrl,w.resolve(null),Co.E}if(e.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return tS(w.source)&&(e.browserUrlTree=w.extractedUrl),yn(w).pipe(xi(ge=>{const Te=this.transitions?.getValue();return this.events.next(new sT(ge.id,this.urlSerializer.serialize(ge.extractedUrl),ge.source,ge.restoredState)),Te!==this.transitions?.getValue()?Co.E:Promise.resolve(ge)}),function XI(n,t,e,s){return xi(u=>function $I(n,t,e,s,u){return new YI(n,t,e,s,u).apply()}(n,t,e,u.extractedUrl,s).pipe((0,Mn.U)(g=>({...u,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Vr.b)(ge=>{this.currentNavigation={...this.currentNavigation,finalUrl:ge.urlAfterRedirects},s.urlAfterRedirects=ge.urlAfterRedirects}),function nE(n,t,e,s,u){return(0,xr.z)(g=>function KI(n,t,e,s,u,g,w="emptyOnly"){return new QI(n,t,e,s,u,w,g).recognize().pipe(xi(R=>null===R?function ZI(n){return new Yr.y(t=>t.error(n))}(new GI):yn(R)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,u).pipe((0,Mn.U)(w=>({...g,targetSnapshot:w}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Vr.b)(ge=>{if(s.targetSnapshot=ge.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!ge.extras.skipLocationChange){const Be=e.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl);e.setBrowserUrl(Be,ge)}e.browserUrlTree=ge.urlAfterRedirects}const Te=new $S(ge.id,this.urlSerializer.serialize(ge.extractedUrl),this.urlSerializer.serialize(ge.urlAfterRedirects),ge.targetSnapshot);this.events.next(Te)}));if(W&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:ge,extractedUrl:Te,source:Be,restoredState:st,extras:At}=w,vn=new sT(ge,this.urlSerializer.serialize(Te),Be,st);this.events.next(vn);const Rn=DM(Te,this.rootComponentType).snapshot;return yn(s={...w,targetSnapshot:Rn,urlAfterRedirects:Te,extras:{...At,skipLocationChange:!1,replaceUrl:!1}})}{const ge="";return this.events.next(new TM(w.id,e.serializeUrl(s.extractedUrl),ge,1)),e.rawUrlTree=w.rawUrl,w.resolve(null),Co.E}}),(0,Vr.b)(w=>{const R=new YS(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(R)}),(0,Mn.U)(w=>s={...w,guards:vI(w.targetSnapshot,w.currentSnapshot,this.rootContexts)}),function DI(n,t){return(0,xr.z)(e=>{const{targetSnapshot:s,currentSnapshot:u,guards:{canActivateChecks:g,canDeactivateChecks:w}}=e;return 0===w.length&&0===g.length?yn({...e,guardsResult:!0}):function AI(n,t,e,s){return(0,di.D)(n).pipe((0,xr.z)(u=>function LI(n,t,e,s,u){const g=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return g&&0!==g.length?yn(g.map(R=>{const W=oy(t)??u,Q=Mp(R,W);return So(function SI(n){return n&&uy(n.canDeactivate)}(Q)?Q.canDeactivate(n,t,e,s):W.runInContext(()=>Q(n,t,e,s))).pipe(wo())})).pipe(Sp()):yn(!0)}(u.component,u.route,e,t,s)),wo(u=>!0!==u,!0))}(w,s,u,n).pipe((0,xr.z)(R=>R&&function CI(n){return"boolean"==typeof n}(R)?function PI(n,t,e,s){return(0,di.D)(t).pipe(ll(u=>Xm(function FI(n,t){return null!==n&&t&&t(new JS(n)),yn(!0)}(u.route.parent,s),function kI(n,t){return null!==n&&t&&t(new eI(n)),yn(!0)}(u.route,s),function OI(n,t,e){const s=t[t.length-1],g=t.slice(0,t.length-1).reverse().map(w=>function _I(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(w)).filter(w=>null!==w).map(w=>Yw(()=>yn(w.guards.map(W=>{const Q=oy(w.node)??e,ge=Mp(W,Q);return So(function MI(n){return n&&uy(n.canActivateChild)}(ge)?ge.canActivateChild(s,n):Q.runInContext(()=>ge(s,n))).pipe(wo())})).pipe(Sp())));return yn(g).pipe(Sp())}(n,u.path,e),function RI(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return yn(!0);const u=s.map(g=>Yw(()=>{const w=oy(t)??e,R=Mp(g,w);return So(function TI(n){return n&&uy(n.canActivate)}(R)?R.canActivate(t,n):w.runInContext(()=>R(t,n))).pipe(wo())}));return yn(u).pipe(Sp())}(n,u.route,e))),wo(u=>!0!==u,!0))}(s,g,n,t):yn(R)),(0,Mn.U)(R=>({...e,guardsResult:R})))})}(this.environmentInjector,w=>this.events.next(w)),(0,Vr.b)(w=>{if(s.guardsResult=w.guardsResult,F(w.guardsResult))throw FM(0,w.guardsResult);const R=new XS(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(R)}),js(w=>!!w.guardsResult||(e.restoreHistory(w),this.cancelNavigationTransition(w,"",3),!1)),_T(w=>{if(w.guards.canActivateChecks.length)return yn(w).pipe((0,Vr.b)(R=>{const W=new GS(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(W)}),xi(R=>{let W=!1;return yn(R).pipe(function iE(n,t){return(0,xr.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:u}}=e;if(!u.length)return yn(e);let g=0;return(0,di.D)(u).pipe(ll(w=>function rE(n,t,e,s){const u=n.routeConfig,g=n._resolve;return void 0!==u?.title&&!JM(u)&&(g[mu]=u.title),function sE(n,t,e,s){const u=function oE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===u.length)return yn({});const g={};return(0,di.D)(u).pipe((0,xr.z)(w=>function aE(n,t,e,s){const u=oy(t)??s,g=Mp(n,u);return So(g.resolve?g.resolve(t,e):u.runInContext(()=>g(t,e)))}(n[w],t,e,s).pipe(wo(),(0,Vr.b)(R=>{g[w]=R}))),Zm(1),function Gw(n){return(0,Mn.U)(()=>n)}(g),pa(w=>mT(w)?Co.E:gu(w)))}(g,n,t,s).pipe((0,Mn.U)(w=>(n._resolvedData=w,n.data=AM(n,e).resolve,u&&JM(u)&&(n.data[mu]=u.title),null)))}(w.route,s,n,t)),(0,Vr.b)(()=>g++),Zm(1),(0,xr.z)(w=>g===u.length?yn(e):Co.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Vr.b)({next:()=>W=!0,complete:()=>{W||(e.restoreHistory(R),this.cancelNavigationTransition(R,"",2))}}))}),(0,Vr.b)(R=>{const W=new ZS(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(W)}))}),_T(w=>{const R=W=>{const Q=[];W.routeConfig?.loadComponent&&!W.routeConfig._loadedComponent&&Q.push(this.configLoader.loadComponent(W.routeConfig).pipe((0,Vr.b)(ge=>{W.component=ge}),(0,Mn.U)(()=>{})));for(const ge of W.children)Q.push(...R(ge));return Q};return Jc(R(w.targetSnapshot.root)).pipe(Yc(),Jd(1))}),_T(()=>this.afterPreactivation()),(0,Mn.U)(w=>{const R=function aI(n,t,e){const s=ry(n,t._root,e?e._root:void 0);return new EM(s,t)}(e.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return s={...w,targetRouterState:R}}),(0,Vr.b)(w=>{e.currentUrlTree=w.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl),e.routerState=w.targetRouterState,"deferred"===e.urlUpdateStrategy&&(w.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,w),e.browserUrlTree=w.urlAfterRedirects)}),((n,t,e)=>(0,Mn.U)(s=>(new yI(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,e.routeReuseStrategy,w=>this.events.next(w)),(0,Vr.b)({next:w=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new rh(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{u=!0}}),vp(()=>{u||g||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),pa(w=>{if(g=!0,LM(w)){OM(w)||(e.navigated=!0,e.restoreHistory(s,!0));const R=new l0(s.id,this.urlSerializer.serialize(s.extractedUrl),w.message,w.cancellationCode);if(this.events.next(R),OM(w)){const W=e.urlHandlingStrategy.merge(w.url,e.rawUrlTree),Q={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||tS(s.source)};e.scheduleNavigation(W,iy,null,Q,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{e.restoreHistory(s,!0);const R=new MM(s.id,this.urlSerializer.serialize(s.extractedUrl),w,s.targetSnapshot??void 0);this.events.next(R);try{s.resolve(e.errorHandler(w))}catch(W){s.reject(W)}}return Co.E}))}))}cancelNavigationTransition(e,s,u){const g=new l0(e.id,this.urlSerializer.serialize(e.extractedUrl),s,u);this.events.next(g),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tS(n){return n!==iy}let nS=(()=>{class n{buildTitle(e){let s,u=e.root;for(;void 0!==u;)s=this.getResolvedTitleForRoute(u)??s,u=u.children.find(g=>g.outlet===kn);return s}getResolvedTitleForRoute(e){return e.data[mu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(cE)},providedIn:"root"}),n})(),cE=(()=>{class n extends nS{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ku))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(pE)},providedIn:"root"}),n})();class dE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let pE=(()=>{class n extends dE{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=y.n5z(n)))(s||n)}}(),n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _0=new y.OlP("",{providedIn:"root",factory:()=>({})});let gE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(mE)},providedIn:"root"}),n})(),mE=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yE(n){throw n}function vE(n,t,e){return t.parse("/")}const _E={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Es=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(_0,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yE,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(gE),this.routeReuseStrategy=(0,y.f3M)(hE),this.urlCreationStrategy=(0,y.f3M)(rI),this.titleStrategy=(0,y.f3M)(nS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Kw((0,y.f3M)(Ip,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(v0),this.urlSerializer=(0,y.f3M)(xp),this.location=(0,y.f3M)(Ct),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),iy,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,s,e.state)},0)}))}navigateToSyncWithBrowser(e,s,u){const g={replaceUrl:!0},w=u?.navigationId?u:null;if(u){const W={...u};delete W.navigationId,delete W.\u0275routerPageId,0!==Object.keys(W).length&&(g.state=W)}const R=this.parseUrl(e);this.scheduleNavigation(R,s,w,g)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(gT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:u,queryParams:g,fragment:w,queryParamsHandling:R,preserveFragment:W}=s,Q=W?this.currentUrlTree.fragment:w;let ge=null;switch(R){case"merge":ge={...this.currentUrlTree.queryParams,...g};break;case"preserve":ge=this.currentUrlTree.queryParams;break;default:ge=g||null}return null!==ge&&(ge=this.removeEmptyProps(ge)),this.urlCreationStrategy.createUrlTree(u,this.routerState,this.currentUrlTree,e,ge,Q??null)}navigateByUrl(e,s={skipLocationChange:!1}){const u=F(e)?e:this.parseUrl(e),g=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(g,iy,null,s)}navigate(e,s={skipLocationChange:!1}){return function bE(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new y.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(u){s=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return s}isActive(e,s){let u;if(u=!0===s?{..._E}:!1===s?{...xE}:s,F(e))return qx(this.currentUrlTree,e,u);const g=this.parseUrl(e);return qx(this.currentUrlTree,g,u)}removeEmptyProps(e){return Object.keys(e).reduce((s,u)=>{const g=e[u];return null!=g&&(s[u]=g),s},{})}scheduleNavigation(e,s,u,g,w){if(this.disposed)return Promise.resolve(!1);let R,W,Q,ge;return w?(R=w.resolve,W=w.reject,Q=w.promise):Q=new Promise((Te,Be)=>{R=Te,W=Be}),ge="computed"===this.canceledNavigationResolution?u&&u.\u0275routerPageId?u.\u0275routerPageId:g.replaceUrl||g.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:ge,source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:g,resolve:R,reject:W,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(Te=>Promise.reject(Te))}setBrowserUrl(e,s){const u=this.urlSerializer.serialize(e),g={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(u)||s.extras.replaceUrl?this.location.replaceState(u,"",g):this.location.go(u,"",g)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===u?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x0=(()=>{class n{constructor(e,s,u,g,w,R){this.router=e,this.route=s,this.tabIndexAttribute=u,this.renderer=g,this.el=w,this.locationStrategy=R,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ua.x;const W=w.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===W||"area"===W,this.isAnchorElement?this.subscription=e.events.subscribe(Q=>{Q instanceof rh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,y.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,y.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,y.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,s,u,g,w){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||s||u||g||w||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,s){const u=this.renderer,g=this.el.nativeElement;null!==s?u.setAttribute(g,e,s):u.removeAttribute(g,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(Es),y.Y36(Tp),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(xt))},n.\u0275dir=y.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,s){1&e&&y.NdJ("click",function(g){return s.onClick(g.button,g.ctrlKey,g.shiftKey,g.altKey,g.metaKey)}),2&e&&y.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),n})();class rS{}let TE=(()=>{class n{constructor(e,s,u,g,w){this.router=e,this.injector=u,this.preloadingStrategy=g,this.loader=w}setUpPreloading(){this.subscription=this.router.events.pipe(js(e=>e instanceof rh),ll(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const u=[];for(const g of s){g.providers&&!g._injector&&(g._injector=(0,y.MMx)(g.providers,e,`Route: ${g.path}`));const w=g._injector??e,R=g._loadedInjector??w;g.loadChildren&&!g._loadedRoutes&&void 0===g.canLoad||g.loadComponent&&!g._loadedComponent?u.push(this.preloadConfig(w,g)):(g.children||g._loadedRoutes)&&u.push(this.processRoutes(R,g.children??g._loadedRoutes))}return(0,di.D)(u).pipe((0,qc.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let u;u=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):yn(null);const g=u.pipe((0,xr.z)(w=>null===w?yn(void 0):(s._loadedRoutes=w.routes,s._loadedInjector=w.injector,this.processRoutes(w.injector??e,w.routes))));if(s.loadComponent&&!s._loadedComponent){const w=this.loader.loadComponent(s);return(0,di.D)([g,w]).pipe((0,qc.J)())}return g})}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Es),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(rS),y.LFG(xT))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bT=new y.OlP("");let sS=(()=>{class n{constructor(e,s,u,g,w={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=u,this.zone=g,this.options=w,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},w.scrollPositionRestoration=w.scrollPositionRestoration||"disabled",w.anchorScrolling=w.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof SM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new SM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function sh(n,t){return{\u0275kind:n,\u0275providers:t}}function aS(){const n=(0,y.f3M)(y.zs3);return t=>{const e=n.get(y.z2F);if(t!==e.components[0])return;const s=n.get(Es),u=n.get(lS);1===n.get(wT)&&s.initialNavigation(),n.get(uS,null,y.XFs.Optional)?.setUpPreloading(),n.get(bT,null,y.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),u.closed||(u.next(),u.unsubscribe())}}const lS=new y.OlP("",{factory:()=>new ua.x}),wT=new y.OlP("",{providedIn:"root",factory:()=>1});const uS=new y.OlP("");function DE(n){return sh(0,[{provide:uS,useExisting:TE},{provide:rS,useExisting:n}])}const cS=new y.OlP("ROUTER_FORROOT_GUARD"),AE=[Ct,{provide:xp,useClass:s0},Es,sy,{provide:Tp,useFactory:function oS(n){return n.routerState.root},deps:[Es]},xT,[]];function PE(){return new y.PXZ("Router",Es)}let hS=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[AE,[],{provide:Ip,multi:!0,useValue:e},{provide:cS,useFactory:OE,deps:[[Es,new y.FiY,new y.tp0]]},{provide:_0,useValue:s||{}},s?.useHash?{provide:xt,useClass:Ke}:{provide:xt,useClass:_t},{provide:bT,useFactory:()=>{const n=(0,y.f3M)(wt),t=(0,y.f3M)(y.R0b),e=(0,y.f3M)(_0),s=(0,y.f3M)(v0),u=(0,y.f3M)(xp);return e.scrollOffset&&n.setOffset(e.scrollOffset),new sS(u,s,n,t,e)}},s?.preloadingStrategy?DE(s.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:PE},s?.initialNavigation?LE(s):[],[{provide:dS,useFactory:aS},{provide:y.tb,multi:!0,useExisting:dS}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ip,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(cS,8))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[pT]}),n})();function OE(n){return"guarded"}function LE(n){return["disabled"===n.initialNavigation?sh(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const t=(0,y.f3M)(Es);return()=>{t.setUpLocationChangeListener()}}},{provide:wT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sh(2,[{provide:wT,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:t=>{const e=t.get(Fe,Promise.resolve());return()=>e.then(()=>new Promise(u=>{const g=t.get(Es),w=t.get(lS);(function s(u){t.get(Es).events.pipe(js(w=>w instanceof rh||w instanceof l0||w instanceof MM),(0,Mn.U)(w=>w instanceof rh||w instanceof l0&&(0===w.code||1===w.code)&&null),js(w=>null!==w),Jd(1)).subscribe(()=>{u()})})(()=>{u(!0)}),t.get(v0).afterPreactivation=()=>(u(!0),w.closed?yn(void 0):w),g.initialNavigation()}))}}]).\u0275providers:[]]}const dS=new y.OlP("");class oh{constructor(t){this.db=t,this.dbPath="/datasens/",this.ruta="",this.dataSensRef=t.list(this.dbPath+"sensor1")}getAll(){return this.db.list(this.dbPath).snapshotChanges()}getOne2(t){return this.ruta="/datasens/"+t,this.dataSensRefDet=this.db.list(this.ruta),this.dataSensRefDet}getOne(t){return console.log("llega key",t),this.ruta="/datasens/"+t,this.db.object(this.ruta)}getDetailOne(t){return console.log("llega key",this.ruta+"/"+t),this.db.list(this.ruta+"/"+t)}create(t){return this.dataSensRef.push(t)}update(t,e){return this.dataSensRef.update(t,e)}delete(t){return this.dataSensRef.remove(t)}deleteAll(){return this.dataSensRef.remove()}}oh.\u0275fac=function(t){return new(t||oh)(y.LFG(jm))},oh.\u0275prov=y.Yz7({token:oh,factory:oh.\u0275fac,providedIn:"root"});class b0{}class TT{}class hl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const u=e.slice(0,s),g=u.toLowerCase(),w=e.slice(s+1).trim();this.maybeSetNormalizedName(u,g),this.headers.has(g)?this.headers.get(g).push(w):this.headers.set(g,[w])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const u=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(u,s),this.maybeSetNormalizedName(e,u))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const u=("a"===t.op?this.headers.get(e):void 0)||[];u.push(...s),this.headers.set(e,u);break;case"d":const g=t.value;if(g){let w=this.headers.get(e);if(!w)return;w=w.filter(R=>-1===g.indexOf(R)),0===w.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,w)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VE{encodeKey(t){return pS(t)}encodeValue(t){return pS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const WE=/%(\d[a-f0-9])/gi,UE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pS(n){return encodeURIComponent(n).replace(WE,(t,e)=>UE[e]??t)}function C0(n){return`${n}`}class vu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BE(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(u=>{const g=u.indexOf("="),[w,R]=-1==g?[t.decodeKey(u),""]:[t.decodeKey(u.slice(0,g)),t.decodeValue(u.slice(g+1))],W=e.get(w)||[];W.push(R),e.set(w,W)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e],u=Array.isArray(s)?s.map(C0):[C0(s)];this.map.set(e,u)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const u=t[s];Array.isArray(u)?u.forEach(g=>{e.push({param:s,value:g,op:"a"})}):e.push({param:s,value:u,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new vu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(C0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const u=s.indexOf(C0(t.value));-1!==u&&s.splice(u,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class zE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gS(n){return typeof Blob<"u"&&n instanceof Blob}function mS(n){return typeof FormData<"u"&&n instanceof FormData}class dy{constructor(t,e,s,u){let g;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==s?s:null,g=u):g=s,g&&(this.reportProgress=!!g.reportProgress,this.withCredentials=!!g.withCredentials,g.responseType&&(this.responseType=g.responseType),g.headers&&(this.headers=g.headers),g.context&&(this.context=g.context),g.params&&(this.params=g.params)),this.headers||(this.headers=new hl),this.context||(this.context=new zE),this.params){const w=this.params.toString();if(0===w.length)this.urlWithParams=e;else{const R=e.indexOf("?");this.urlWithParams=e+(-1===R?"?":R<e.length-1?"&":"")+w}}else this.params=new vu,this.urlWithParams=e}serializeBody(){return null===this.body?null:fS(this.body)||gS(this.body)||mS(this.body)||function jE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mS(this.body)?null:gS(this.body)?this.body.type||null:fS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,s=t.url||this.url,u=t.responseType||this.responseType,g=void 0!==t.body?t.body:this.body,w=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,R=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let W=t.headers||this.headers,Q=t.params||this.params;const ge=t.context??this.context;return void 0!==t.setHeaders&&(W=Object.keys(t.setHeaders).reduce((Te,Be)=>Te.set(Be,t.setHeaders[Be]),W)),t.setParams&&(Q=Object.keys(t.setParams).reduce((Te,Be)=>Te.set(Be,t.setParams[Be]),Q)),new dy(e,s,g,{params:Q,headers:W,context:ge,reportProgress:R,responseType:u,withCredentials:w})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class MT{constructor(t,e=200,s="OK"){this.headers=t.headers||new hl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ST extends MT{constructor(t={}){super(t),this.type=hr.ResponseHeader}clone(t={}){return new ST({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class w0 extends MT{constructor(t={}){super(t),this.type=hr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new w0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yS extends MT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vS=(()=>{class n{constructor(e){this.handler=e}request(e,s,u={}){let g;if(e instanceof dy)g=e;else{let W,Q;W=u.headers instanceof hl?u.headers:new hl(u.headers),u.params&&(Q=u.params instanceof vu?u.params:new vu({fromObject:u.params})),g=new dy(e,s,void 0!==u.body?u.body:null,{headers:W,context:u.context,params:Q,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const w=yn(g).pipe(ll(W=>this.handler.handle(W)));if(e instanceof dy||"events"===u.observe)return w;const R=w.pipe(js(W=>W instanceof w0));switch(u.observe||"body"){case"body":switch(g.responseType){case"arraybuffer":return R.pipe((0,Mn.U)(W=>{if(null!==W.body&&!(W.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return W.body}));case"blob":return R.pipe((0,Mn.U)(W=>{if(null!==W.body&&!(W.body instanceof Blob))throw new Error("Response is not a Blob.");return W.body}));case"text":return R.pipe((0,Mn.U)(W=>{if(null!==W.body&&"string"!=typeof W.body)throw new Error("Response is not a string.");return W.body}));default:return R.pipe((0,Mn.U)(W=>W.body))}case"response":return R;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new vu).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,u={}){return this.request("PATCH",e,IT(u,s))}post(e,s,u={}){return this.request("POST",e,IT(u,s))}put(e,s,u={}){return this.request("PUT",e,IT(u,s))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(b0))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function _S(n,t){return t(n)}function $E(n,t){return(e,s)=>t.intercept(e,{handle:u=>n(u,s)})}const XE=new y.OlP("HTTP_INTERCEPTORS"),py=new y.OlP("HTTP_INTERCEPTOR_FNS");function GE(){let n=null;return(t,e)=>(null===n&&(n=((0,y.f3M)(XE,{optional:!0})??[]).reduceRight($E,_S)),n(t,e))}let xS=(()=>{class n extends b0{constructor(e,s){super(),this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=Array.from(new Set(this.injector.get(py)));this.chain=s.reduceRight((u,g)=>function YE(n,t,e){return(s,u)=>e.runInContext(()=>t(s,g=>n(g,u)))}(u,g,this.injector),_S)}return this.chain(e,s=>this.backend.handle(s))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(TT),y.LFG(y.lqb))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const JE=/^\)\]\}',?\n/;let CS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yr.y(s=>{const u=this.xhrFactory.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((st,At)=>u.setRequestHeader(st,At.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const st=e.detectContentTypeHeader();null!==st&&u.setRequestHeader("Content-Type",st)}if(e.responseType){const st=e.responseType.toLowerCase();u.responseType="json"!==st?st:"text"}const g=e.serializeBody();let w=null;const R=()=>{if(null!==w)return w;const st=u.statusText||"OK",At=new hl(u.getAllResponseHeaders()),vn=function qE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||e.url;return w=new ST({headers:At,status:u.status,statusText:st,url:vn}),w},W=()=>{let{headers:st,status:At,statusText:vn,url:Rn}=R(),oi=null;204!==At&&(oi=typeof u.response>"u"?u.responseText:u.response),0===At&&(At=oi?200:0);let Ei=At>=200&&At<300;if("json"===e.responseType&&"string"==typeof oi){const br=oi;oi=oi.replace(JE,"");try{oi=""!==oi?JSON.parse(oi):null}catch(Ui){oi=br,Ei&&(Ei=!1,oi={error:Ui,text:oi})}}Ei?(s.next(new w0({body:oi,headers:st,status:At,statusText:vn,url:Rn||void 0})),s.complete()):s.error(new yS({error:oi,headers:st,status:At,statusText:vn,url:Rn||void 0}))},Q=st=>{const{url:At}=R(),vn=new yS({error:st,status:u.status||0,statusText:u.statusText||"Unknown Error",url:At||void 0});s.error(vn)};let ge=!1;const Te=st=>{ge||(s.next(R()),ge=!0);let At={type:hr.DownloadProgress,loaded:st.loaded};st.lengthComputable&&(At.total=st.total),"text"===e.responseType&&u.responseText&&(At.partialText=u.responseText),s.next(At)},Be=st=>{let At={type:hr.UploadProgress,loaded:st.loaded};st.lengthComputable&&(At.total=st.total),s.next(At)};return u.addEventListener("load",W),u.addEventListener("error",Q),u.addEventListener("timeout",Q),u.addEventListener("abort",Q),e.reportProgress&&(u.addEventListener("progress",Te),null!==g&&u.upload&&u.upload.addEventListener("progress",Be)),u.send(g),s.next({type:hr.Sent}),()=>{u.removeEventListener("error",Q),u.removeEventListener("abort",Q),u.removeEventListener("load",W),u.removeEventListener("timeout",Q),e.reportProgress&&(u.removeEventListener("progress",Te),null!==g&&u.upload&&u.upload.removeEventListener("progress",Be)),u.readyState!==u.DONE&&u.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(zn))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ET=new y.OlP("XSRF_ENABLED"),wS="XSRF-TOKEN",TS=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>wS}),MS="X-XSRF-TOKEN",SS=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>MS});class IS{}let eD=(()=>{class n{constructor(e,s,u){this.doc=e,this.platform=s,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Z(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ye),y.LFG(y.Lbi),y.LFG(TS))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function tD(n,t){const e=n.url.toLowerCase();if(!(0,y.f3M)(ET)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const s=(0,y.f3M)(IS).getToken(),u=(0,y.f3M)(SS);return null!=s&&!n.headers.has(u)&&(n=n.clone({headers:n.headers.set(u,s)})),t(n)}var nr=(()=>((nr=nr||{})[nr.Interceptors=0]="Interceptors",nr[nr.LegacyInterceptors=1]="LegacyInterceptors",nr[nr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nr[nr.NoXsrfProtection=3]="NoXsrfProtection",nr[nr.JsonpSupport=4]="JsonpSupport",nr[nr.RequestsMadeViaParent=5]="RequestsMadeViaParent",nr))();function Dp(n,t){return{\u0275kind:n,\u0275providers:t}}function nD(...n){const t=[vS,CS,xS,{provide:b0,useExisting:xS},{provide:TT,useExisting:CS},{provide:py,useValue:tD,multi:!0},{provide:ET,useValue:!0},{provide:IS,useClass:eD}];for(const e of n)t.push(...e.\u0275providers);return(0,y.MR2)(t)}const ES=new y.OlP("LEGACY_INTERCEPTOR_FN");function rD({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:TS,useValue:n}),void 0!==t&&e.push({provide:SS,useValue:t}),Dp(nr.CustomXsrfConfiguration,e)}let sD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[nD(Dp(nr.LegacyInterceptors,[{provide:ES,useFactory:GE},{provide:py,useExisting:ES,multi:!0}]),rD({cookieName:wS,headerName:MS}))]}),n})();var oD=q(5524);class dl{constructor(){this.shouldUpdateChart=!1,this.chartInstance=new y.vpe,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+dl._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.chart=new oD.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart)}ngOnDestroy(){this.chart&&this.chart.destroy()}}function aD(n,t){if(1&n){const e=y.EpF();y.TgZ(0,"li",6),y.NdJ("click",function(){const u=y.CHM(e),g=u.$implicit,w=u.index,R=y.oxw();return y.KtG(R.setActiveDataSens(g,w))}),y._uU(1),y.qZA()}if(2&n){const e=t.$implicit;y.xp6(1),y.hij(" ",e.key," ")}}function lD(n,t){if(1&n){const e=y.EpF();y.TgZ(0,"li",6),y.NdJ("click",function(){const u=y.CHM(e),g=u.$implicit,w=u.index,R=y.oxw(2);return y.KtG(R.setActiveDataSensDetail(g,w))}),y._uU(1),y.qZA()}if(2&n){const e=t.$implicit,s=t.index,u=y.oxw(2);y.ekj("active",s==u.currentIndex2),y.xp6(1),y.hij(" ",e.key," ")}}function uD(n,t){if(1&n&&(y.TgZ(0,"div")(1,"h4"),y._uU(2,"Detalle Sensor - Paciente"),y.qZA(),y.TgZ(3,"ul",2),y.YNc(4,lD,2,3,"li",7),y.qZA()()),2&n){const e=y.oxw();y.xp6(4),y.Q6J("ngForOf",e.dataSens2)}}dl._cjsChartContainerId=0,dl.\u0275fac=function(t){return new(t||dl)},dl.\u0275cmp=y.Xpm({type:dl,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[y.TTD],decls:1,vars:2,consts:[[3,"id","ngStyle"]],template:function(t,e){1&t&&y._UZ(0,"div",0),2&t&&(y.s9C("id",e.chartContainerId),y.Q6J("ngStyle",e.styles))},dependencies:[dn],encapsulation:2});const cD=function(){return{width:"100%",height:"360px"}};function hD(n,t){if(1&n){const e=y.EpF();y.TgZ(0,"div"),y._UZ(1,"br")(2,"br"),y.TgZ(3,"h4"),y._uU(4,"Detalle Values - Sensor "),y.qZA(),y.TgZ(5,"div",8)(6,"ul",2)(7,"li")(8,"h5"),y._uU(9),y.qZA()(),y.TgZ(10,"li")(11,"h5"),y._uU(12),y.qZA()(),y.TgZ(13,"li")(14,"h5"),y._uU(15),y.qZA()()()(),y._UZ(16,"br"),y.TgZ(17,"div")(18,"canvasjs-chart",9),y.NdJ("chartInstance",function(u){y.CHM(e);const g=y.oxw();return y.KtG(g.getChartInstance(u))}),y.qZA()()()}if(2&n){const e=y.oxw();y.xp6(9),y.hij(" Titulo ---- : ",e.currentDataSens2.title,""),y.xp6(3),y.hij(" Descripci\xf3n ---- : ",e.currentDataSens2.description,""),y.xp6(3),y.hij(" Valor ---- : ",e.currentDataSens2.value,""),y.xp6(3),y.Q6J("options",e.chartOptions)("styles",y.DdM(5,cD))}}class fy{constructor(t,e){this.dataSensService=t,this.http=e,this.currentIndex=-1,this.currentIndex2=-1,this.dataPoints=[],this.timeout=null,this.xValue=1,this.yValue=10,this.newDataCount=10,this.chartOptions={theme:"light2",title:{text:"Representaci\xf3n"},data:[{type:"line",dataPoints:this.dataPoints}]},this.updateData=()=>{this.http.get("https://canvasjs.com/services/data/datapoints.php?xstart="+this.xValue+"&ystart="+this.yValue+"&length="+this.newDataCount+"type=json",{responseType:"json"}).subscribe(this.addData)},this.addData=s=>{1!=this.newDataCount?s.forEach(u=>{this.dataPoints.push({x:u[0],y:parseInt(u[1])}),this.xValue++,this.yValue=parseInt(u[1])}):(this.dataPoints.push({x:s[0][0],y:parseInt(s[0][1])}),this.xValue++,this.yValue=parseInt(s[0][1])),this.newDataCount=1,this.chart.render(),this.timeout=setTimeout(this.updateData,1e3)}}ngOnInit(){this.retrieveDataSens2()}refreshList(){this.currentDataSens=void 0,this.currentIndex=-1,this.retrieveDataSens2()}retrieveDataSens2(){this.dataSensService.getAll().subscribe(t=>{this.dataSens=t})}setActiveDataSens(t,e){this.currentDataSens=t,null!=this.currentDataSens.key&&this.dataSensService.getOne2(this.currentDataSens.key).snapshotChanges().pipe((0,Mn.U)(s=>s.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(s=>{this.dataSens2=s,console.log("-------\x3e>>>"+this.dataSens2)})}setActiveDataSensDetail(t,e){console.log("Recibe data",t),this.currentDataSens2=t,this.currentIndex=e}removeAllDataSens(){this.dataSensService.deleteAll().then(()=>this.refreshList()).catch(t=>console.log(t))}getChartInstance(t){this.chart=t,this.updateData()}ngOnDestroy(){clearTimeout(this.timeout)}}fy.\u0275fac=function(t){return new(t||fy)(y.Y36(oh),y.Y36(vS))},fy.\u0275cmp=y.Xpm({type:fy,selectors:[["app-datasens-list"]],decls:11,vars:3,consts:[["xmlns","http://www.w3.org/1999/html",1,"list","row"],[1,"col-md-6"],[1,"list-group"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"m-3","btn","btn-sm","btn-danger",3,"click"],[4,"ngIf"],[1,"list-group-item",3,"click"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[1,"center"],[3,"options","styles","chartInstance"]],template:function(t,e){1&t&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h4"),y._uU(3,"Lista DataSens - Paciente"),y.qZA(),y.TgZ(4,"ul",2),y.YNc(5,aD,2,1,"li",3),y.qZA(),y.TgZ(6,"button",4),y.NdJ("click",function(){return e.removeAllDataSens()}),y._uU(7," Eliminar Todo "),y.qZA()(),y.TgZ(8,"div",1),y.YNc(9,uD,5,1,"div",5),y.qZA()(),y.YNc(10,hD,19,6,"div",5)),2&t&&(y.xp6(5),y.Q6J("ngForOf",e.dataSens),y.xp6(4),y.Q6J("ngIf",e.dataSens2),y.xp6(1),y.Q6J("ngIf",e.currentDataSens2))},dependencies:[ke,Ge,dl],styles:[".list[_ngcontent-%COMP%]{text-align:left;max-width:750px;margin:auto}h4[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});class DS{}function dD(n,t){if(1&n){const e=y.EpF();y.TgZ(0,"div")(1,"div",2)(2,"label",3),y._uU(3,"Titulo"),y.qZA(),y.TgZ(4,"input",4),y.NdJ("ngModelChange",function(u){y.CHM(e);const g=y.oxw();return y.KtG(g.dataSens.title=u)}),y.qZA()(),y.TgZ(5,"div",2)(6,"label",5),y._uU(7,"Detalle"),y.qZA(),y.TgZ(8,"input",6),y.NdJ("ngModelChange",function(u){y.CHM(e);const g=y.oxw();return y.KtG(g.dataSens.description=u)}),y.qZA()(),y.TgZ(9,"div",2)(10,"label",5),y._uU(11,"Val"),y.qZA(),y.TgZ(12,"input",7),y.NdJ("ngModelChange",function(u){y.CHM(e);const g=y.oxw();return y.KtG(g.dataSens.value=u)}),y.qZA()(),y.TgZ(13,"button",8),y.NdJ("click",function(){y.CHM(e);const u=y.oxw();return y.KtG(u.saveDataSens())}),y._uU(14,"Guardar"),y.qZA()()}if(2&n){const e=y.oxw();y.xp6(4),y.Q6J("ngModel",e.dataSens.title),y.xp6(4),y.Q6J("ngModel",e.dataSens.description),y.xp6(4),y.Q6J("ngModel",e.dataSens.value)}}function pD(n,t){if(1&n){const e=y.EpF();y.TgZ(0,"div")(1,"h4"),y._uU(2,"Registro realizado!!"),y.qZA(),y.TgZ(3,"button",8),y.NdJ("click",function(){y.CHM(e);const u=y.oxw();return y.KtG(u.newDataSenses())}),y._uU(4,"Crear"),y.qZA()()}}class gy{constructor(t){this.dataSensService=t,this.dataSens=new DS,this.submitted=!1}ngOnInit(){}saveDataSens(){this.dataSensService.create(this.dataSens).then(()=>{console.log("Registro Creado con \xc9xito"),this.submitted=!0})}newDataSenses(){this.submitted=!1,this.dataSens=new DS}}gy.\u0275fac=function(t){return new(t||gy)(y.Y36(oh))},gy.\u0275cmp=y.Xpm({type:gy,selectors:[["app-add-datasens"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","title"],["type","text","id","title","required","","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["id","description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","val","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(y.TgZ(0,"div",0),y.YNc(1,dD,15,3,"div",1),y.YNc(2,pD,5,0,"div",1),y.qZA()),2&t&&(y.xp6(1),y.Q6J("ngIf",!e.submitted),y.xp6(1),y.Q6J("ngIf",e.submitted))},dependencies:[Ge,Wu,Gu,Gh,rc],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]});const fD=[{path:"",redirectTo:"tutorials",pathMatch:"full"},{path:"dataSens",component:fy},{path:"add",component:gy}];class Ap{}Ap.\u0275fac=function(t){return new(t||Ap)},Ap.\u0275mod=y.oAB({type:Ap}),Ap.\u0275inj=y.cJS({imports:[hS.forRoot(fD),hS]});var AS=q(655),mD=q(6774);const vD=new y.OlP("angularfire2.messaging.vapid-key"),_D=new y.OlP("angularfire2.messaging.service-worker-registeration");let PS=(()=>{class n{constructor(e,s,u,g,w,R,W){const Q=W,ge=yn(void 0).pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(mD.Gb),xi(st=>st?q.e(742).then(q.bind(q,4666)):Co.E),(0,Mn.U)(()=>(0,gr.on)(e,g,s)),xi(st=>(0,gr.cc)(`${st.name}.messaging`,"AngularFireMessaging",st.name,()=>(0,AS.mG)(this,void 0,void 0,function*(){return st.messaging()}),[])),Qd({bufferSize:1,refCount:!1}));this.requestPermission=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(()=>Notification.requestPermission())),this.getToken=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(st=>(0,AS.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const At=Q?yield Q:null;return yield st.getToken({vapidKey:R,serviceWorkerRegistration:At})}return null})));const Te=new Yr.y(st=>{navigator.permissions.query({name:"notifications"}).then(At=>{At.onchange=()=>st.next()})}),Be=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),ca(Te),ca(this.getToken));return this.tokenChanges=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(()=>Xm(this.getToken,Be))),this.messages=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(st=>new Yr.y(At=>st.onMessage(At)))),this.requestToken=ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(()=>this.requestPermission),pa(()=>yn(null)),(0,xr.z)(()=>this.tokenChanges)),this.deleteToken=()=>ge.pipe((0,Is.R)(w.outsideAngular),(0,Er.Q)(w.insideAngular),xi(st=>st.deleteToken()),Yc(!1)),(0,gr.pX)(this,ge,g)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(gr.Dh),y.LFG(gr.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ai.HU),y.LFG(vD,8),y.LFG(_D,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class my{constructor(t){this.ofMessagin=t,this.title="sisbio-project",this.getToken()}requestPermision(){this.ofMessagin.requestPermission.pipe(function gD(n,t,e=1/0){return(0,qd.m)(t)?(0,xr.z)(()=>n,t,e):("number"==typeof t&&(e=t),(0,xr.z)(()=>n,e))}(this.ofMessagin.tokenChanges)).subscribe(t=>{console.log("Permission granted! Save to the server!",t)},t=>{console.error(t)})}getToken(){this.ofMessagin.getToken.subscribe(t=>console.log("Token",t))}}my.\u0275fac=function(t){return new(t||my)(y.Y36(PS))},my.\u0275cmp=y.Xpm({type:my,selectors:[["app-root"]],decls:17,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","dataSens",1,"nav-link"],["routerLink","add",1,"nav-link"],[3,"click"],[1,"container","mt-3"]],template:function(t,e){1&t&&(y.TgZ(0,"div")(1,"nav",0)(2,"a",1),y._uU(3,"BioPro"),y.qZA(),y.TgZ(4,"div",2)(5,"li",3)(6,"a",4),y._uU(7,"DataSens"),y.qZA()(),y.TgZ(8,"li",3)(9,"a",5),y._uU(10,"Agregar"),y.qZA()()()(),y.TgZ(11,"button",6),y.NdJ("click",function(){return e.requestPermision()}),y._uU(12," Notif "),y.qZA(),y.TgZ(13,"div",7)(14,"h3"),y._uU(15),y.qZA(),y._UZ(16,"router-outlet"),y.qZA()()),2&t&&(y.xp6(15),y.Oqu(e.title))},dependencies:[dT,x0]});var xD=q(2722);class DT{constructor(t){return t}}class FS{constructor(){return(0,Ai.vb)("auth")}}const AT=new y.OlP("angularfire2.auth-instances");function CD(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new DT(s)}}const wD={provide:FS,deps:[[new y.FiY,AT]]},TD={provide:DT,useFactory:function bD(n,t){const e=(0,Ai.JM)("auth",n,t);return e&&new DT(e)},deps:[[new y.FiY,AT],Nr]};let MD=(()=>{class n{constructor(){(0,$s.KN)("angularfire",Ai.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[TD,wD]}),n})();const ID=(0,Ai.u3)(xD.n,!0);class PT{constructor(t){return t}}const RS="database",kT=new y.OlP("angularfire2.database-instances");function AD(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new PT(s)}}const PD={provide:class ED{constructor(){return(0,Ai.vb)(RS)}},deps:[[new y.FiY,kT]]},kD={provide:PT,useFactory:function DD(n,t){const e=(0,Ai.JM)(RS,n,t);return e&&new PT(e)},deps:[[new y.FiY,kT],Nr]};let FD=(()=>{class n{constructor(){(0,$s.KN)("angularfire",Ai.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[kD,PD]}),n})();const OD=(0,Ai.u3)(pm,!0);class Pp{}Pp.\u0275fac=function(t){return new(t||Pp)},Pp.\u0275mod=y.oAB({type:Pp,bootstrap:[my]}),Pp.\u0275inj=y.cJS({imports:[Ih,sD,Ap,lv,gr.hO.initializeApp($m_firebase),Gx,function lw(n,...t){return{ngModule:tp,providers:[{provide:mm,useFactory:ep(n),multi:!0,deps:[y.R0b,y.zs3,Ai.HU,...t]}]}}(()=>ym($m_firebase)),function SD(n,...t){return{ngModule:MD,providers:[{provide:AT,useFactory:CD(n),multi:!0,deps:[y.R0b,y.zs3,Ai.HU,gm,[new y.FiY,Qc],...t]}]}}(()=>ID()),function RD(n,...t){return{ngModule:FD,providers:[{provide:kT,useFactory:AD(n),multi:!0,deps:[y.R0b,y.zs3,Ai.HU,gm,[new y.FiY,FS],[new y.FiY,Qc],...t]}]}}(()=>OD())]}),Gp().bootstrapModule(Pp).catch(n=>console.error(n))},9751:(an,Mt,q)=>{"use strict";q.d(Mt,{y:()=>Je});var y=q(930),he=q(727),ne=q(8822),We=q(9635),Le=q(2416),Ye=q(576),nt=q(2806);let Je=(()=>{class De{constructor(ht){ht&&(this._subscribe=ht)}lift(ht){const lt=new De;return lt.source=this,lt.operator=ht,lt}subscribe(ht,lt,xt){const qe=function H(De){return De&&De instanceof y.Lv||function be(De){return De&&(0,Ye.m)(De.next)&&(0,Ye.m)(De.error)&&(0,Ye.m)(De.complete)}(De)&&(0,he.Nn)(De)}(ht)?ht:new y.Hp(ht,lt,xt);return(0,nt.x)(()=>{const{operator:_t,source:Ke}=this;qe.add(_t?_t.call(qe,Ke):Ke?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(ht){try{return this._subscribe(ht)}catch(lt){ht.error(lt)}}forEach(ht,lt){return new(lt=Fe(lt))((xt,qe)=>{const _t=new y.Hp({next:Ke=>{try{ht(Ke)}catch(Ct){qe(Ct),_t.unsubscribe()}},error:qe,complete:xt});this.subscribe(_t)})}_subscribe(ht){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(ht)}[ne.L](){return this}pipe(...ht){return(0,We.U)(ht)(this)}toPromise(ht){return new(ht=Fe(ht))((lt,xt)=>{let qe;this.subscribe(_t=>qe=_t,_t=>xt(_t),()=>lt(qe))})}}return De.create=Rt=>new De(Rt),De})();function Fe(De){var Rt;return null!==(Rt=De??Le.v.Promise)&&void 0!==Rt?Rt:Promise}},7579:(an,Mt,q)=>{"use strict";q.d(Mt,{x:()=>nt});var y=q(9751),he=q(727);const We=(0,q(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=q(8737),Ye=q(2806);let nt=(()=>{class Fe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const De=new Je(this,this);return De.operator=H,De}_throwIfClosed(){if(this.closed)throw new We}next(H){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(H)}})}error(H){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:De}=this;for(;De.length;)De.shift().error(H)}})}complete(){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:De,isStopped:Rt,observers:ht}=this;return De||Rt?he.Lc:(this.currentObservers=null,ht.push(H),new he.w0(()=>{this.currentObservers=null,(0,Le.P)(ht,H)}))}_checkFinalizedStatuses(H){const{hasError:De,thrownError:Rt,isStopped:ht}=this;De?H.error(Rt):ht&&H.complete()}asObservable(){const H=new y.y;return H.source=this,H}}return Fe.create=(be,H)=>new Je(be,H),Fe})();class Je extends nt{constructor(be,H){super(),this.destination=be,this.source=H}next(be){var H,De;null===(De=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===De||De.call(H,be)}error(be){var H,De;null===(De=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===De||De.call(H,be)}complete(){var be,H;null===(H=null===(be=this.destination)||void 0===be?void 0:be.complete)||void 0===H||H.call(be)}_subscribe(be){var H,De;return null!==(De=null===(H=this.source)||void 0===H?void 0:H.subscribe(be))&&void 0!==De?De:he.Lc}}},930:(an,Mt,q)=>{"use strict";q.d(Mt,{Hp:()=>xt,Lv:()=>De});var y=q(576),he=q(727),ne=q(2416),We=q(7849),Le=q(5032);const Ye=Fe("C",void 0,void 0);function Fe(Tt,mt,Ze){return{kind:Tt,value:mt,error:Ze}}var be=q(3410),H=q(2806);class De extends he.w0{constructor(mt){super(),this.isStopped=!1,mt?(this.destination=mt,(0,he.Nn)(mt)&&mt.add(this)):this.destination=Ct}static create(mt,Ze,St){return new xt(mt,Ze,St)}next(mt){this.isStopped?Ke(function Je(Tt){return Fe("N",Tt,void 0)}(mt),this):this._next(mt)}error(mt){this.isStopped?Ke(function nt(Tt){return Fe("E",void 0,Tt)}(mt),this):(this.isStopped=!0,this._error(mt))}complete(){this.isStopped?Ke(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(mt){this.destination.next(mt)}_error(mt){try{this.destination.error(mt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function ht(Tt,mt){return Rt.call(Tt,mt)}class lt{constructor(mt){this.partialObserver=mt}next(mt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(mt)}catch(St){qe(St)}}error(mt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(mt)}catch(St){qe(St)}else qe(mt)}complete(){const{partialObserver:mt}=this;if(mt.complete)try{mt.complete()}catch(Ze){qe(Ze)}}}class xt extends De{constructor(mt,Ze,St){let Ee;if(super(),(0,y.m)(mt)||!mt)Ee={next:mt??void 0,error:Ze??void 0,complete:St??void 0};else{let Ve;this&&ne.v.useDeprecatedNextContext?(Ve=Object.create(mt),Ve.unsubscribe=()=>this.unsubscribe(),Ee={next:mt.next&&ht(mt.next,Ve),error:mt.error&&ht(mt.error,Ve),complete:mt.complete&&ht(mt.complete,Ve)}):Ee=mt}this.destination=new lt(Ee)}}function qe(Tt){ne.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Tt):(0,We.h)(Tt)}function Ke(Tt,mt){const{onStoppedNotification:Ze}=ne.v;Ze&&be.z.setTimeout(()=>Ze(Tt,mt))}const Ct={closed:!0,next:Le.Z,error:function _t(Tt){throw Tt},complete:Le.Z}},727:(an,Mt,q)=>{"use strict";q.d(Mt,{Lc:()=>Ye,w0:()=>Le,Nn:()=>nt});var y=q(576);const ne=(0,q(3888).d)(Fe=>function(H){Fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((De,Rt)=>`${Rt+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var We=q(8737);class Le{constructor(be){this.initialTeardown=be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let be;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ht of H)ht.remove(this);else H.remove(this);const{initialTeardown:De}=this;if((0,y.m)(De))try{De()}catch(ht){be=ht instanceof ne?ht.errors:[ht]}const{_finalizers:Rt}=this;if(Rt){this._finalizers=null;for(const ht of Rt)try{Je(ht)}catch(lt){be=be??[],lt instanceof ne?be=[...be,...lt.errors]:be.push(lt)}}if(be)throw new ne(be)}}add(be){var H;if(be&&be!==this)if(this.closed)Je(be);else{if(be instanceof Le){if(be.closed||be._hasParent(this))return;be._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(be)}}_hasParent(be){const{_parentage:H}=this;return H===be||Array.isArray(H)&&H.includes(be)}_addParent(be){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(be),H):H?[H,be]:be}_removeParent(be){const{_parentage:H}=this;H===be?this._parentage=null:Array.isArray(H)&&(0,We.P)(H,be)}remove(be){const{_finalizers:H}=this;H&&(0,We.P)(H,be),be instanceof Le&&be._removeParent(this)}}Le.EMPTY=(()=>{const Fe=new Le;return Fe.closed=!0,Fe})();const Ye=Le.EMPTY;function nt(Fe){return Fe instanceof Le||Fe&&"closed"in Fe&&(0,y.m)(Fe.remove)&&(0,y.m)(Fe.add)&&(0,y.m)(Fe.unsubscribe)}function Je(Fe){(0,y.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(an,Mt,q)=>{"use strict";q.d(Mt,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(an,Mt,q)=>{"use strict";q.d(Mt,{E:()=>he});const he=new(q(9751).y)(Le=>Le.complete())},8996:(an,Mt,q)=>{"use strict";q.d(Mt,{D:()=>mt});var y=q(8421),he=q(5363),ne=q(9468),Ye=q(9751),Je=q(2202),Fe=q(576),be=q(9672);function De(Ze,St){if(!Ze)throw new Error("Iterable cannot be null");return new Ye.y(Ee=>{(0,be.f)(Ee,St,()=>{const Ve=Ze[Symbol.asyncIterator]();(0,be.f)(Ee,St,()=>{Ve.next().then(ot=>{ot.done?Ee.complete():Ee.next(ot.value)})},0,!0)})})}var Rt=q(3670),ht=q(8239),lt=q(1144),xt=q(6495),qe=q(2206),_t=q(4532),Ke=q(3260);function mt(Ze,St){return St?function Tt(Ze,St){if(null!=Ze){if((0,Rt.c)(Ze))return function We(Ze,St){return(0,y.Xf)(Ze).pipe((0,ne.R)(St),(0,he.Q)(St))}(Ze,St);if((0,lt.z)(Ze))return function nt(Ze,St){return new Ye.y(Ee=>{let Ve=0;return St.schedule(function(){Ve===Ze.length?Ee.complete():(Ee.next(Ze[Ve++]),Ee.closed||this.schedule())})})}(Ze,St);if((0,ht.t)(Ze))return function Le(Ze,St){return(0,y.Xf)(Ze).pipe((0,ne.R)(St),(0,he.Q)(St))}(Ze,St);if((0,qe.D)(Ze))return De(Ze,St);if((0,xt.T)(Ze))return function H(Ze,St){return new Ye.y(Ee=>{let Ve;return(0,be.f)(Ee,St,()=>{Ve=Ze[Je.h](),(0,be.f)(Ee,St,()=>{let ot,It;try{({value:ot,done:It}=Ve.next())}catch(kt){return void Ee.error(kt)}It?Ee.complete():Ee.next(ot)},0,!0)}),()=>(0,Fe.m)(Ve?.return)&&Ve.return()})}(Ze,St);if((0,Ke.L)(Ze))return function Ct(Ze,St){return De((0,Ke.Q)(Ze),St)}(Ze,St)}throw(0,_t.z)(Ze)}(Ze,St):(0,y.Xf)(Ze)}},8421:(an,Mt,q)=>{"use strict";q.d(Mt,{Xf:()=>Rt});var y=q(655),he=q(1144),ne=q(8239),We=q(9751),Le=q(3670),Ye=q(2206),nt=q(4532),Je=q(6495),Fe=q(3260),be=q(576),H=q(7849),De=q(8822);function Rt(Tt){if(Tt instanceof We.y)return Tt;if(null!=Tt){if((0,Le.c)(Tt))return function ht(Tt){return new We.y(mt=>{const Ze=Tt[De.L]();if((0,be.m)(Ze.subscribe))return Ze.subscribe(mt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Tt);if((0,he.z)(Tt))return function lt(Tt){return new We.y(mt=>{for(let Ze=0;Ze<Tt.length&&!mt.closed;Ze++)mt.next(Tt[Ze]);mt.complete()})}(Tt);if((0,ne.t)(Tt))return function xt(Tt){return new We.y(mt=>{Tt.then(Ze=>{mt.closed||(mt.next(Ze),mt.complete())},Ze=>mt.error(Ze)).then(null,H.h)})}(Tt);if((0,Ye.D)(Tt))return _t(Tt);if((0,Je.T)(Tt))return function qe(Tt){return new We.y(mt=>{for(const Ze of Tt)if(mt.next(Ze),mt.closed)return;mt.complete()})}(Tt);if((0,Fe.L)(Tt))return function Ke(Tt){return _t((0,Fe.Q)(Tt))}(Tt)}throw(0,nt.z)(Tt)}function _t(Tt){return new We.y(mt=>{(function Ct(Tt,mt){var Ze,St,Ee,Ve;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,y.KL)(Tt);!(St=yield Ze.next()).done;)if(mt.next(St.value),mt.closed)return}catch(ot){Ee={error:ot}}finally{try{St&&!St.done&&(Ve=Ze.return)&&(yield Ve.call(Ze))}finally{if(Ee)throw Ee.error}}mt.complete()})})(Tt,mt).catch(Ze=>mt.error(Ze))})}},6451:(an,Mt,q)=>{"use strict";q.d(Mt,{T:()=>Ye});var y=q(8189),he=q(8421),ne=q(515),We=q(7669),Le=q(8996);function Ye(...nt){const Je=(0,We.yG)(nt),Fe=(0,We._6)(nt,1/0),be=nt;return be.length?1===be.length?(0,he.Xf)(be[0]):(0,y.J)(Fe)((0,Le.D)(be,Je)):ne.E}},5403:(an,Mt,q)=>{"use strict";q.d(Mt,{x:()=>he});var y=q(930);function he(We,Le,Ye,nt,Je){return new ne(We,Le,Ye,nt,Je)}class ne extends y.Lv{constructor(Le,Ye,nt,Je,Fe,be){super(Le),this.onFinalize=Fe,this.shouldUnsubscribe=be,this._next=Ye?function(H){try{Ye(H)}catch(De){Le.error(De)}}:super._next,this._error=Je?function(H){try{Je(H)}catch(De){Le.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=nt?function(){try{nt()}catch(H){Le.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ye}=this;super.unsubscribe(),!Ye&&(null===(Le=this.onFinalize)||void 0===Le||Le.call(this))}}}},4004:(an,Mt,q)=>{"use strict";q.d(Mt,{U:()=>ne});var y=q(4482),he=q(5403);function ne(We,Le){return(0,y.e)((Ye,nt)=>{let Je=0;Ye.subscribe((0,he.x)(nt,Fe=>{nt.next(We.call(Le,Fe,Je++))}))})}},8189:(an,Mt,q)=>{"use strict";q.d(Mt,{J:()=>ne});var y=q(5577),he=q(4671);function ne(We=1/0){return(0,y.z)(he.y,We)}},5577:(an,Mt,q)=>{"use strict";q.d(Mt,{z:()=>Je});var y=q(4004),he=q(8421),ne=q(4482),We=q(9672),Le=q(5403),nt=q(576);function Je(Fe,be,H=1/0){return(0,nt.m)(be)?Je((De,Rt)=>(0,y.U)((ht,lt)=>be(De,ht,Rt,lt))((0,he.Xf)(Fe(De,Rt))),H):("number"==typeof be&&(H=be),(0,ne.e)((De,Rt)=>function Ye(Fe,be,H,De,Rt,ht,lt,xt){const qe=[];let _t=0,Ke=0,Ct=!1;const Tt=()=>{Ct&&!qe.length&&!_t&&be.complete()},mt=St=>_t<De?Ze(St):qe.push(St),Ze=St=>{ht&&be.next(St),_t++;let Ee=!1;(0,he.Xf)(H(St,Ke++)).subscribe((0,Le.x)(be,Ve=>{Rt?.(Ve),ht?mt(Ve):be.next(Ve)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(_t--;qe.length&&_t<De;){const Ve=qe.shift();lt?(0,We.f)(be,lt,()=>Ze(Ve)):Ze(Ve)}Tt()}catch(Ve){be.error(Ve)}}))};return Fe.subscribe((0,Le.x)(be,mt,()=>{Ct=!0,Tt()})),()=>{xt?.()}}(De,Rt,Fe,H)))}},5363:(an,Mt,q)=>{"use strict";q.d(Mt,{Q:()=>We});var y=q(9672),he=q(4482),ne=q(5403);function We(Le,Ye=0){return(0,he.e)((nt,Je)=>{nt.subscribe((0,ne.x)(Je,Fe=>(0,y.f)(Je,Le,()=>Je.next(Fe),Ye),()=>(0,y.f)(Je,Le,()=>Je.complete(),Ye),Fe=>(0,y.f)(Je,Le,()=>Je.error(Fe),Ye)))})}},3099:(an,Mt,q)=>{"use strict";q.d(Mt,{B:()=>Le});var y=q(8421),he=q(7579),ne=q(930),We=q(4482);function Le(nt={}){const{connector:Je=(()=>new he.x),resetOnError:Fe=!0,resetOnComplete:be=!0,resetOnRefCountZero:H=!0}=nt;return De=>{let Rt,ht,lt,xt=0,qe=!1,_t=!1;const Ke=()=>{ht?.unsubscribe(),ht=void 0},Ct=()=>{Ke(),Rt=lt=void 0,qe=_t=!1},Tt=()=>{const mt=Rt;Ct(),mt?.unsubscribe()};return(0,We.e)((mt,Ze)=>{xt++,!_t&&!qe&&Ke();const St=lt=lt??Je();Ze.add(()=>{xt--,0===xt&&!_t&&!qe&&(ht=Ye(Tt,H))}),St.subscribe(Ze),!Rt&&xt>0&&(Rt=new ne.Hp({next:Ee=>St.next(Ee),error:Ee=>{_t=!0,Ke(),ht=Ye(Ct,Fe,Ee),St.error(Ee)},complete:()=>{qe=!0,Ke(),ht=Ye(Ct,be),St.complete()}}),(0,y.Xf)(mt).subscribe(Rt))})(De)}}function Ye(nt,Je,...Fe){if(!0===Je)return void nt();if(!1===Je)return;const be=new ne.Hp({next:()=>{be.unsubscribe(),nt()}});return(0,y.Xf)(Je(...Fe)).subscribe(be)}},9468:(an,Mt,q)=>{"use strict";q.d(Mt,{R:()=>he});var y=q(4482);function he(ne,We=0){return(0,y.e)((Le,Ye)=>{Ye.add(ne.schedule(()=>Le.subscribe(Ye),We))})}},8505:(an,Mt,q)=>{"use strict";q.d(Mt,{b:()=>Le});var y=q(576),he=q(4482),ne=q(5403),We=q(4671);function Le(Ye,nt,Je){const Fe=(0,y.m)(Ye)||nt||Je?{next:Ye,error:nt,complete:Je}:Ye;return Fe?(0,he.e)((be,H)=>{var De;null===(De=Fe.subscribe)||void 0===De||De.call(Fe);let Rt=!0;be.subscribe((0,ne.x)(H,ht=>{var lt;null===(lt=Fe.next)||void 0===lt||lt.call(Fe,ht),H.next(ht)},()=>{var ht;Rt=!1,null===(ht=Fe.complete)||void 0===ht||ht.call(Fe),H.complete()},ht=>{var lt;Rt=!1,null===(lt=Fe.error)||void 0===lt||lt.call(Fe,ht),H.error(ht)},()=>{var ht,lt;Rt&&(null===(ht=Fe.unsubscribe)||void 0===ht||ht.call(Fe)),null===(lt=Fe.finalize)||void 0===lt||lt.call(Fe)}))}):We.y}},4408:(an,Mt,q)=>{"use strict";q.d(Mt,{o:()=>Le});var y=q(727);class he extends y.w0{constructor(nt,Je){super()}schedule(nt,Je=0){return this}}const ne={setInterval(Ye,nt,...Je){const{delegate:Fe}=ne;return Fe?.setInterval?Fe.setInterval(Ye,nt,...Je):setInterval(Ye,nt,...Je)},clearInterval(Ye){const{delegate:nt}=ne;return(nt?.clearInterval||clearInterval)(Ye)},delegate:void 0};var We=q(8737);class Le extends he{constructor(nt,Je){super(nt,Je),this.scheduler=nt,this.work=Je,this.pending=!1}schedule(nt,Je=0){var Fe;if(this.closed)return this;this.state=nt;const be=this.id,H=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(H,be,Je)),this.pending=!0,this.delay=Je,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(H,this.id,Je),this}requestAsyncId(nt,Je,Fe=0){return ne.setInterval(nt.flush.bind(nt,this),Fe)}recycleAsyncId(nt,Je,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Je;null!=Je&&ne.clearInterval(Je)}execute(nt,Je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(nt,Je);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(nt,Je){let be,Fe=!1;try{this.work(nt)}catch(H){Fe=!0,be=H||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),be}unsubscribe(){if(!this.closed){const{id:nt,scheduler:Je}=this,{actions:Fe}=Je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,We.P)(Fe,this),null!=nt&&(this.id=this.recycleAsyncId(Je,nt,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,Mt,q)=>{"use strict";q.d(Mt,{v:()=>ne});var y=q(6063);class he{constructor(Le,Ye=he.now){this.schedulerActionCtor=Le,this.now=Ye}schedule(Le,Ye=0,nt){return new this.schedulerActionCtor(this,Le).schedule(nt,Ye)}}he.now=y.l.now;class ne extends he{constructor(Le,Ye=he.now){super(Le,Ye),this.actions=[],this._active=!1}flush(Le){const{actions:Ye}=this;if(this._active)return void Ye.push(Le);let nt;this._active=!0;do{if(nt=Le.execute(Le.state,Le.delay))break}while(Le=Ye.shift());if(this._active=!1,nt){for(;Le=Ye.shift();)Le.unsubscribe();throw nt}}}},4986:(an,Mt,q)=>{"use strict";q.d(Mt,{z:()=>ne});var y=q(4408);const ne=new(q(7565).v)(y.o)},6063:(an,Mt,q)=>{"use strict";q.d(Mt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(an,Mt,q)=>{"use strict";q.d(Mt,{z:()=>y});const y={setTimeout(he,ne,...We){const{delegate:Le}=y;return Le?.setTimeout?Le.setTimeout(he,ne,...We):setTimeout(he,ne,...We)},clearTimeout(he){const{delegate:ne}=y;return(ne?.clearTimeout||clearTimeout)(he)},delegate:void 0}},2202:(an,Mt,q)=>{"use strict";q.d(Mt,{h:()=>he});const he=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,Mt,q)=>{"use strict";q.d(Mt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(an,Mt,q)=>{"use strict";q.d(Mt,{_6:()=>Ye,jO:()=>We,yG:()=>Le});var y=q(576);function ne(nt){return nt[nt.length-1]}function We(nt){return(0,y.m)(ne(nt))?nt.pop():void 0}function Le(nt){return function he(nt){return nt&&(0,y.m)(nt.schedule)}(ne(nt))?nt.pop():void 0}function Ye(nt,Je){return"number"==typeof ne(nt)?nt.pop():Je}},8737:(an,Mt,q)=>{"use strict";function y(he,ne){if(he){const We=he.indexOf(ne);0<=We&&he.splice(We,1)}}q.d(Mt,{P:()=>y})},3888:(an,Mt,q)=>{"use strict";function y(he){const We=he(Le=>{Error.call(Le),Le.stack=(new Error).stack});return We.prototype=Object.create(Error.prototype),We.prototype.constructor=We,We}q.d(Mt,{d:()=>y})},2806:(an,Mt,q)=>{"use strict";q.d(Mt,{O:()=>We,x:()=>ne});var y=q(2416);let he=null;function ne(Le){if(y.v.useDeprecatedSynchronousErrorHandling){const Ye=!he;if(Ye&&(he={errorThrown:!1,error:null}),Le(),Ye){const{errorThrown:nt,error:Je}=he;if(he=null,nt)throw Je}}else Le()}function We(Le){y.v.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=Le)}},9672:(an,Mt,q)=>{"use strict";function y(he,ne,We,Le=0,Ye=!1){const nt=ne.schedule(function(){We(),Ye?he.add(this.schedule(null,Le)):this.unsubscribe()},Le);if(he.add(nt),!Ye)return nt}q.d(Mt,{f:()=>y})},4671:(an,Mt,q)=>{"use strict";function y(he){return he}q.d(Mt,{y:()=>y})},1144:(an,Mt,q)=>{"use strict";q.d(Mt,{z:()=>y});const y=he=>he&&"number"==typeof he.length&&"function"!=typeof he},2206:(an,Mt,q)=>{"use strict";q.d(Mt,{D:()=>he});var y=q(576);function he(ne){return Symbol.asyncIterator&&(0,y.m)(ne?.[Symbol.asyncIterator])}},576:(an,Mt,q)=>{"use strict";function y(he){return"function"==typeof he}q.d(Mt,{m:()=>y})},3670:(an,Mt,q)=>{"use strict";q.d(Mt,{c:()=>ne});var y=q(8822),he=q(576);function ne(We){return(0,he.m)(We[y.L])}},6495:(an,Mt,q)=>{"use strict";q.d(Mt,{T:()=>ne});var y=q(2202),he=q(576);function ne(We){return(0,he.m)(We?.[y.h])}},8239:(an,Mt,q)=>{"use strict";q.d(Mt,{t:()=>he});var y=q(576);function he(ne){return(0,y.m)(ne?.then)}},3260:(an,Mt,q)=>{"use strict";q.d(Mt,{L:()=>We,Q:()=>ne});var y=q(655),he=q(576);function ne(Le){return(0,y.FC)(this,arguments,function*(){const nt=Le.getReader();try{for(;;){const{value:Je,done:Fe}=yield(0,y.qq)(nt.read());if(Fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Je)}}finally{nt.releaseLock()}})}function We(Le){return(0,he.m)(Le?.getReader)}},4482:(an,Mt,q)=>{"use strict";q.d(Mt,{A:()=>he,e:()=>ne});var y=q(576);function he(We){return(0,y.m)(We?.lift)}function ne(We){return Le=>{if(he(Le))return Le.lift(function(Ye){try{return We(Ye,this)}catch(nt){this.error(nt)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(an,Mt,q)=>{"use strict";function y(){}q.d(Mt,{Z:()=>y})},9635:(an,Mt,q)=>{"use strict";q.d(Mt,{U:()=>ne,z:()=>he});var y=q(4671);function he(...We){return ne(We)}function ne(We){return 0===We.length?y.y:1===We.length?We[0]:function(Ye){return We.reduce((nt,Je)=>Je(nt),Ye)}}},7849:(an,Mt,q)=>{"use strict";q.d(Mt,{h:()=>ne});var y=q(2416),he=q(3410);function ne(We){he.z.setTimeout(()=>{const{onUnhandledError:Le}=y.v;if(!Le)throw We;Le(We)})}},4532:(an,Mt,q)=>{"use strict";function y(he){return new TypeError(`You provided ${null!==he&&"object"==typeof he?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(Mt,{z:()=>y})},5524:(an,Mt)=>{var y;(function(){function he(V,B){V.prototype=function ne(V){function B(){}return B.prototype=V,new B}(B.prototype),V.prototype.constructor=V,V.base=B.prototype}function We(V,B,Y){return"millisecond"===Y?V.setMilliseconds(V.getMilliseconds()+1*B):"second"===Y?V.setSeconds(V.getSeconds()+1*B):"minute"===Y?V.setMinutes(V.getMinutes()+1*B):"hour"===Y?V.setHours(V.getHours()+1*B):"day"===Y?V.setDate(V.getDate()+1*B):"week"===Y?V.setDate(V.getDate()+7*B):"month"===Y?V.setMonth(V.getMonth()+1*B):"year"===Y&&V.setFullYear(V.getFullYear()+1*B),V}function Le(V,B){var Y=!1;for(0>V&&(Y=!0,V*=-1),V=""+V,B=B||1;V.length<B;)V="0"+V;return Y?"-"+V:V}function Ye(V){if(!V)return V;for(var B=/\s/,Y=(V=V.replace(/^\s\s*/,"")).length;B.test(V.charAt(--Y)););return V.slice(0,Y+1)}function nt(V){V.roundRect=function(B,Y,Ce,He,tt,Oe,ue,oe){ue&&(this.fillStyle=ue),oe&&(this.strokeStyle=oe),typeof tt>"u"&&(tt=5),this.lineWidth=Oe,this.beginPath(),this.moveTo(B+tt,Y),this.lineTo(B+Ce-tt,Y),this.quadraticCurveTo(B+Ce,Y,B+Ce,Y+tt),this.lineTo(B+Ce,Y+He-tt),this.quadraticCurveTo(B+Ce,Y+He,B+Ce-tt,Y+He),this.lineTo(B+tt,Y+He),this.quadraticCurveTo(B,Y+He,B,Y+He-tt),this.lineTo(B,Y+tt),this.quadraticCurveTo(B,Y,B+tt,Y),this.closePath(),ue&&this.fill(),oe&&0<Oe&&this.stroke()}}function Je(V,B){return V-B}function Fe(V){var B=((16711680&V)>>16).toString(16),Y=((65280&V)>>8).toString(16);return V=((255&V)>>0).toString(16),"#"+(B=2>B.length?"0"+B:B)+(Y=2>Y.length?"0"+Y:Y)+(2>V.length?"0"+V:V)}function be(V,B){var Ce,Y=this.length>>>0;for(0>(Ce=0>(Ce=Number(B)||0)?Math.ceil(Ce):Math.floor(Ce))&&(Ce+=Y);Ce<Y;Ce++)if(Ce in this&&this[Ce]===V)return Ce;return-1}function H(V){return null===V||typeof V>"u"}function De(V){return V.indexOf||(V.indexOf=be),V}function ht(V,B,Y){var Ce=V+"_"+B+"_"+(Y=Y||"normal"),He=Xt[Ce];if(isNaN(He)){try{if(!$n){var tt=document.body;($n=document.createElement("span")).innerHTML="";var Oe=document.createTextNode("Mpgyi");$n.appendChild(Oe),tt.appendChild($n)}$n.style.display="",Ze($n,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:V,fontSize:B+"px",fontWeight:Y}),He=Math.round($n.offsetHeight),$n.style.display="none"}catch{He=Math.ceil(1.1*B)}He=Math.max(He,B),Xt[Ce]=He}return He}function lt(V,B){var Y=[];if(Y={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[V||"solid"])for(var Ce=0;Ce<Y.length;Ce++)Y[Ce]*=B;else Y=[];return Y}function xt(V,B,Y,Ce,He){return Ce=Ce||[],He=H(He)?!!Kn&&{passive:!1,capture:!1}:He,Ce.push([V,B,Y,He]),V.addEventListener?(V.addEventListener(B,Y,He),Y):!!V.attachEvent&&(V.attachEvent("on"+B,Ce=function(tt){(tt=tt||window.event).preventDefault=tt.preventDefault||function(){tt.returnValue=!1},tt.stopPropagation=tt.stopPropagation||function(){tt.cancelBubble=!0},Y.call(V,tt)}),Ce)}function _t(V,B,Y){for(V=Y.getImageData(V*=Yn,B*=Yn,2,2).data,B=!0,Y=0;4>Y;Y++)if(V[Y]!==V[Y+4]|V[Y]!==V[Y+8]|V[Y]!==V[Y+12]){B=!1;break}return B?V[0]<<16|V[1]<<8|V[2]:0}function Ke(V,B,Y){return V in B?B[V]:Y[V]}function Ct(V,B,Y){if(te&&li){var Ce=V.getContext("2d");V.width=B*(Yn=hi/(ui=Ce.webkitBackingStorePixelRatio||Ce.mozBackingStorePixelRatio||Ce.msBackingStorePixelRatio||Ce.oBackingStorePixelRatio||Ce.backingStorePixelRatio||1)),V.height=Y*Yn,hi!==ui&&(V.style.width=B+"px",V.style.height=Y+"px",Ce.scale(Yn,Yn))}else V.width=B,V.height=Y}function mt(V,B){Dt&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var Y=document.createElement("canvas");return Y.setAttribute("class","canvasjs-chart-canvas"),Ct(Y,V,B),te||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(Y),Y}function Ze(V,B){for(var Y in B)V.style[Y]=B[Y]}function St(V,B,Y){B.getAttribute("state")||(B.style.backgroundColor=V.toolbar.itemBackgroundColor,B.style.color=V.toolbar.fontColor,B.style.border="none",Ze(B,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),B.getAttribute("state")!==Y&&(B.setAttribute("state",Y),B.setAttribute("type","button"),Ze(B,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),B.innerHTML="<img src='"+An[Y].image+"' alt='"+V._cultureInfo[Y+"Text"]+"' />",Ze(B.childNodes[0],{height:"95%",pointerEvents:"none"})),B.setAttribute("title",V._cultureInfo[Y+"Text"])}function Ee(){for(var V=null,B=0;B<arguments.length;B++)(V=arguments[B]).style&&(V.style.display="inline")}function Ve(){for(var V=null,B=0;B<arguments.length;B++)(V=arguments[B])&&V.style&&(V.style.display="none")}function ot(V,B,Y,Ce,He){return null===V||typeof V>"u"?typeof Y>"u"?B:Y:(V=parseFloat(V.toString())*(0<=V.toString().indexOf("%")?B/100:1),typeof Ce<"u"&&(V=Math.min(Ce,V),typeof He<"u"&&(V=Math.max(He,V))),!isNaN(V)&&V<=B&&0<=V?V:typeof Y>"u"?B:Y)}function It(V,B,Y,Ce,He){this._defaultsKey=V,this._themeOptionsKey=B,this._index=Ce,this.parent=He,this._eventListeners=[],V={},this.theme&&H(this.parent)&&H(B)&&H(Ce)?V=H(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[B]&&(null===Ce?V=this.parent.themeOptions[B]:0<this.parent.themeOptions[B].length&&(Ce=Math.min(this.parent.themeOptions[B].length-1,Ce),V=this.parent.themeOptions[B][Ce])),this.themeOptions=V,this.options=Y||{_isPlaceholder:!0},this.setOptions(this.options,V)}function kt(V,B,Y,Ce,He){typeof He>"u"&&(He=0),this._padding=He,this._x1=V,this._y1=B,this._x2=Y,this._y2=Ce,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function Ot(V,B){Ot.base.constructor.call(this,"TextBlock",null,B,null,null),this.ctx=V,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Wt(V,B){Wt.base.constructor.call(this,"Toolbar","toolbar",B,null,V),this.chart=V,this.canvas=V.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function je(V,B){if(je.base.constructor.call(this,"Title","title",B,null,V),this.chart=V,this.canvas=V.canvas,this.ctx=this.chart.ctx,this.optionsName="title",H(this.options.margin)&&V.options.subtitles)for(var Y=V.options.subtitles,Ce=0;Ce<Y.length;Ce++)if((H(Y[Ce].horizontalAlign)&&"center"===this.horizontalAlign||Y[Ce].horizontalAlign===this.horizontalAlign)&&(H(Y[Ce].verticalAlign)&&"top"===this.verticalAlign||Y[Ce].verticalAlign===this.verticalAlign)&&!Y[Ce].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Qe(V,B,Y){Qe.base.constructor.call(this,"Subtitle","subtitles",B,Y,V),this.chart=V,this.canvas=V.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ut(){this.pool=[]}function bt(V){var B;V&&zt[V]&&(B=zt[V]),bt.base.constructor.call(this,"CultureInfo",null,B,null,null)}var Re,it,at,Vt,tn,Dt=!1,ct={},te=!!document.createElement("canvas").getContext,Ht={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:te?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:te?"transparent":null,borderColor:te?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:te?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:te?"transparent":null,titleBorderColor:te?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:te?"transparent":null,labelBorderColor:te?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:te?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:te?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:te?"grey":null,labelBorderColor:te?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:te?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:te?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:te?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},zt={en:{}},K=te?"Trebuchet MS, Helvetica, sans-serif":"Arial",ve=te?"Impact, Charcoal, sans-serif":"Arial",Me={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},En={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:ve,fontSize:32,fontColor:it="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ve,fontSize:Ft=14,fontColor:it,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:K,indexLabelFontSize:Ft,indexLabelFontColor:it,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:qt=20,titleFontColor:it,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:Re="#666666",tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:tn=Vt="#000000",color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:it,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:it,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:it,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:K,fontSize:14,fontColor:it,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};at=it="#F5F5F5",Re="#FFFFFF",Vt="#40BAF1",tn="#F5F5F5";var ln={colorSet:"colorSet2",title:{fontFamily:K,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:K,fontSize:Ft=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:K,indexLabelFontSize:Ft,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:qt=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:K,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};at=it="#F5F5F5",ve={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:ve,fontSize:32,fontColor:it,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ve,fontSize:Ft=14,fontColor:it,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:K,indexLabelFontSize:Ft,indexLabelFontColor:at,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:qt=20,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re="#FFFFFF",tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn="#F5F5F5",color:Vt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:K,fontSize:14,fontColor:it,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:at,backgroundColor:"rgba(0, 0, 0, .7)"}},at=it="#FAFAFA";var qt,Ft,Dn={light1:En,light2:ln,dark1:ve,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:K,fontSize:32,fontColor:it,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:K,fontSize:Ft=14,fontColor:it,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:K,indexLabelFontSize:Ft,indexLabelFontColor:at,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:qt=20,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re="#FFFFFF",tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn="#F5F5F5",color:Vt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:1,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:0,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:0,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:K,titleFontSize:qt,titleFontColor:at,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:Ft,labelFontColor:at,labelFontWeight:"normal",lineThickness:0,lineColor:Re,tickThickness:1,tickColor:Re,gridThickness:1,gridColor:Re,stripLines:[{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:Ft,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:tn,color:Vt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:K,fontSize:14,fontColor:it,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:at,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:En,theme2:ln,theme3:En},Gt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};ct.fSDec=function(V){for(var B="",Y=0;Y<V.length;Y++)B+=String.fromCharCode(Math.ceil(V.length/57/5)^V.charCodeAt(Y));return B},delete Ht[ct.fSDec("Bi`su")][ct.fSDec("bsdehuIsdg")],ct.pro={sCH:Ht[ct.fSDec("Bi`su")][ct.fSDec("bsdehuIsdg")]},ct._fTWm=function(V){if(typeof ct.pro.sCH>"u"&&!Cn)try{var B,Y=V[ct.fSDec("buy")];Y[ct.fSDec("udyuC`rdmhod")]=ct.fSDec("unq"),Y[ct.fSDec("gnou")]=11+ct.fSDec("qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg"),B=V.height-11,Y[ct.fSDec("bmd`sSdbu")](0,B,Y[ct.fSDec("ld`rtsdUdyu")](ct.fSDec("B`ow`rKR!Ush`m")).width,11),Y[ct.fSDec("ghmmRuxmd")]=V.backgroundColor,Y[ct.fSDec("ghmmSdbu")](0,B,Y[ct.fSDec("ld`rtsdUdyu")](ct.fSDec("B`ow`rKR!Ush`m")).width,11),Y[ct.fSDec("ghmmRuxmd")]=ct.fSDec("fsdx"),Y[ct.fSDec("ghmmUdyu")](ct.fSDec("B`ow`rKR!Ush`m"),0,B)}catch{}};var V,B,Y,Ce,He,tt,Oe,Kn=function(){var V=!1;try{var B=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return V=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,B),window.removeEventListener("test",null,B))}catch{V=!1}return V}(),Xt={},$n=null,Pi=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ai=function(V){V.width=1,V.height=1,V.getContext("2d")&&V.getContext("2d").clearRect(0,0,1,1)},Si=function(V,B,Y){return B=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=B?12:11,Math.round(B*(V/400)))},yi=(V=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Y="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ce="January February March April May June July August September October November December".split(" "),He="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Oe=/[^-+\dA-Z]/g,function(ue,oe,me){var le=me?me.days:B,G=me?me.months:Ce,ae=me?me.shortDays:Y,Pe=me?me.shortMonths:He;me="";var ft=!1;if(ue=ue&&ue.getTime?ue:ue?new Date(ue):new Date,isNaN(ue))throw SyntaxError("invalid date");"UTC:"===oe.slice(0,4)&&(oe=oe.slice(4),ft=!0);var jt=ue[(me=ft?"getUTC":"get")+"Date"](),Xe=ue[me+"Day"](),Qt=ue[me+"Month"](),o=ue[me+"FullYear"](),f=ue[me+"Hours"](),h=ue[me+"Minutes"](),l=ue[me+"Seconds"](),d=ue[me+"Milliseconds"](),v=ft?0:ue.getTimezoneOffset();return oe.replace(V,function(C){switch(C){case"D":return jt;case"DD":return Le(jt,2);case"DDD":return ae[Xe];case"DDDD":return le[Xe];case"M":return Qt+1;case"MM":return Le(Qt+1,2);case"MMM":return Pe[Qt];case"MMMM":return G[Qt];case"Y":return parseInt(String(o).slice(-2));case"YY":return Le(String(o).slice(-2),2);case"YYY":return Le(String(o).slice(-3),3);case"YYYY":return Le(o,4);case"h":return f%12||12;case"hh":return Le(f%12||12,2);case"H":return f;case"HH":return Le(f,2);case"m":return h;case"mm":return Le(h,2);case"s":return l;case"ss":return Le(l,2);case"f":return Le(String(d),3).slice(0,1);case"ff":return Le(String(d),3).slice(0,2);case"fff":return Le(String(d),3).slice(0,3);case"t":return 12>f?"a":"p";case"tt":return 12>f?"am":"pm";case"T":return 12>f?"A":"P";case"TT":return 12>f?"AM":"PM";case"K":return ft?"UTC":(String(ue).match(tt)||[""]).pop().replace(Oe,"");case"z":return(0<v?"-":"+")+Math.floor(Math.abs(v)/60);case"zz":return(0<v?"-":"+")+Le(Math.floor(Math.abs(v)/60),2);case"zzz":return(0<v?"-":"+")+Le(Math.floor(Math.abs(v)/60),2)+Le(Math.abs(v)%60,2);default:return C.slice(1,C.length-1)}})}),$t=function(V,B,Y){if(null===V)return"";if(!isFinite(V))return V;var Ce=0>(V=Number(V));Ce&&(V*=-1);var He=Y?Y.decimalSeparator:".",tt=Y?Y.digitGroupSeparator:",",Oe="";B=String(B),Oe=1;var jt=Y="",ue=-1,oe=[],me=[],le=0,G=0,ae=0,Pe=!1,ft=0;jt=B.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),B=null;for(var Xe=0;jt&&Xe<jt.length;Xe++)if("."===(B=jt[Xe])&&0>ue)ue=Xe;else{if("%"===B)Oe*=100;else{if("\u2030"===B){Oe*=1e3;continue}if(","===B[0]&&"."===B[B.length-1]){Oe/=Math.pow(1e3,B.length-1),ue=Xe+B.length-1;continue}"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||(Pe=!0)}0>ue?(oe.push(B),"#"===B||"0"===B?le++:","===B&&ae++):(me.push(B),"#"!==B&&"0"!==B||G++)}for(Pe&&(B=Math.floor(V),jt=-Math.floor(Math.log(V)/Math.LN10+1),ft=0===V?0:0===B?-(le+jt):function(V){var B=0>V;if(1>Math.abs(V)){var Y=parseInt(V.toString().split("e-")[1]);Y&&(V=(B?-1*V:V)*Math.pow(10,Y-1),V="0."+Array(Y).join("0")+V.toString().substring(2),V=B?"-"+V:V)}else 20<(Y=parseInt(V.toString().split("+")[1]))&&(Y-=20,V=(V/=Math.pow(10,Y)).toString()+Array(Y+1).join("0"));return String(V)}(B).length-le,Oe/=Math.pow(10,ft)),0>ue&&(ue=Xe),B=(Oe=(V*Oe).toFixed(G)).split("."),Oe=(B[0]+"").split(""),V=(B[1]+"").split(""),Oe&&"0"===Oe[0]&&Oe.shift(),Pe=jt=Xe=G=ue=0;0<oe.length;)if("#"===(B=oe.pop())||"0"===B)if(++ue===le){var Qt=Oe;if(Oe=[],"0"===B)for(B=le-G-(Qt?Qt.length:0);0<B;)Qt.unshift("0"),B--;for(;0<Qt.length;)Y=Qt.pop()+Y,++Pe%jt==0&&Xe===ae&&0<Qt.length&&(Y=tt+Y)}else 0<Oe.length?(Y=Oe.pop()+Y,G++,Pe++):"0"===B&&(Y="0"+Y,G++,Pe++),Pe%jt==0&&Xe===ae&&0<Oe.length&&(Y=tt+Y);else"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?","===B?(Xe++,jt=Pe,Pe=0,0<Oe.length&&(Y=tt+Y)):Y=1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?B.slice(1,B.length-1)+Y:B+Y:Y+=(B=0>ft?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(o){return Le(ft,o.length)});for(tt="",oe=!1;0<me.length;)"#"===(B=me.shift())||"0"===B?0<V.length&&0!==Number(V.join(""))?(tt+=V.shift(),oe=!0):"0"===B&&(tt+="0",oe=!0):1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?tt+=B.slice(1,B.length-1):"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?tt+=B:tt+=(B=0>ft?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(o){return Le(ft,o.length)});return Y+=(oe?He:"")+tt,Ce?"-"+Y:Y},pn=function(V){var B=0,Y=0;return(V=V||window.event).offsetX||0===V.offsetX?(B=V.offsetX,Y=V.offsetY):V.layerX||0==V.layerX?(B=V.layerX,Y=V.layerY):(B=V.pageX-V.target.offsetLeft,Y=V.pageY-V.target.offsetTop),{x:B,y:Y}},li=!0,hi=window.devicePixelRatio||1,ui=1,Yn=li?hi/ui:1,bn=function(V,B,Y,Ce,He,tt,Oe,ue,oe,me,le,G,ae){typeof ae>"u"&&(ae=1),Oe=Oe||0,ue=ue||"black";var Pe=15<Ce-B&&15<He-Y?8:.35*Math.min(Ce-B,He-Y);V.beginPath(),V.moveTo(B,Y),V.save(),V.fillStyle=tt,V.globalAlpha=ae,V.fillRect(B,Y,Ce-B,He-Y),V.globalAlpha=1,0<Oe&&(ae=Oe%2==0?0:.5,V.beginPath(),V.lineWidth=Oe,V.strokeStyle=ue,V.moveTo(B,Y),V.rect(B-ae,Y-ae,Ce-B+2*ae,He-Y+2*ae),V.stroke()),V.restore(),!0===oe&&(V.save(),V.beginPath(),V.moveTo(B,Y),V.lineTo(B+Pe,Y+Pe),V.lineTo(Ce-Pe,Y+Pe),V.lineTo(Ce,Y),V.closePath(),(Oe=V.createLinearGradient((Ce+B)/2,Y+Pe,(Ce+B)/2,Y)).addColorStop(0,tt),Oe.addColorStop(1,"rgba(255, 255, 255, .4)"),V.fillStyle=Oe,V.fill(),V.restore()),!0===me&&(V.save(),V.beginPath(),V.moveTo(B,He),V.lineTo(B+Pe,He-Pe),V.lineTo(Ce-Pe,He-Pe),V.lineTo(Ce,He),V.closePath(),(Oe=V.createLinearGradient((Ce+B)/2,He-Pe,(Ce+B)/2,He)).addColorStop(0,tt),Oe.addColorStop(1,"rgba(255, 255, 255, .4)"),V.fillStyle=Oe,V.fill(),V.restore()),!0===le&&(V.save(),V.beginPath(),V.moveTo(B,Y),V.lineTo(B+Pe,Y+Pe),V.lineTo(B+Pe,He-Pe),V.lineTo(B,He),V.closePath(),(Oe=V.createLinearGradient(B+Pe,(He+Y)/2,B,(He+Y)/2)).addColorStop(0,tt),Oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),V.fillStyle=Oe,V.fill(),V.restore()),!0===G&&(V.save(),V.beginPath(),V.moveTo(Ce,Y),V.lineTo(Ce-Pe,Y+Pe),V.lineTo(Ce-Pe,He-Pe),V.lineTo(Ce,He),(Oe=V.createLinearGradient(Ce-Pe,(He+Y)/2,Ce,(He+Y)/2)).addColorStop(0,tt),Oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),V.fillStyle=Oe,Oe.addColorStop(0,tt),Oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),V.fillStyle=Oe,V.fill(),V.closePath(),V.restore())},ii=function(V){for(var B="",Y=0;Y<V.length;Y++)B+=String.fromCharCode(Math.ceil(V.length/57/5)^V.charCodeAt(Y));return B},Cn=window&&window[ii("mnb`uhno")]&&window[ii("mnb`uhno")].href&&window[ii("mnb`uhno")].href.indexOf&&(-1!==window[ii("mnb`uhno")].href.indexOf(ii("b`ow`rkr/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gdonqhy/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gheemd"))),ji=Cn&&-1===window[ii("mnb`uhno")].href.indexOf(ii("gheemd")),An={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};It.prototype.setOptions=function(V,B){if(Ht[this._defaultsKey]){var Ce,Y=Ht[this._defaultsKey];for(Ce in Y)"publicProperties"!==Ce&&Y.hasOwnProperty(Ce)&&(this[Ce]=V&&Ce in V?V[Ce]:B&&Ce in B?B[Ce]:Y[Ce])}else Dt&&window.console&&console.log("defaults not set")},It.prototype.get=function(V){var B=Ht[this._defaultsKey];return"options"===V?this.options&&this.options._isPlaceholder?null:this.options:B.hasOwnProperty(V)||B.publicProperties&&B.publicProperties.hasOwnProperty(V)?this[V]:void(window.console&&window.console.log('Property "'+V+"\" doesn't exist. Please check for typo."))},It.prototype.set=function(V,B,Y){Y=typeof Y>"u"||Y;var Ce=Ht[this._defaultsKey];if("options"===V)this.createUserOptions(B);else{if(!(Ce.hasOwnProperty(V)||Ce.publicProperties&&Ce.publicProperties.hasOwnProperty(V)&&"readWrite"===Ce.publicProperties[V]))return void(window.console&&(Ce.publicProperties&&Ce.publicProperties.hasOwnProperty(V)&&"readOnly"===Ce.publicProperties[V]?window.console.log('Property "'+V+'" is read-only.'):window.console.log('Property "'+V+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[V]=B}Y&&(this.stockChart||this.chart||this).render()},It.prototype.addTo=function(V,B,Y,Ce){Ce=typeof Ce>"u"||Ce;var He=Ht[this._defaultsKey];He.hasOwnProperty(V)||He.publicProperties&&He.publicProperties.hasOwnProperty(V)&&"readWrite"===He.publicProperties[V]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[V]>"u"&&(this.options[V]=[]),(V=this.options[V]).splice(Y=typeof Y>"u"||null===Y?V.length:Y,0,B),Ce&&(this.stockChart||this.chart||this).render()):window.console&&(He.publicProperties&&He.publicProperties.hasOwnProperty(V)&&"readOnly"===He.publicProperties[V]?window.console.log('Property "'+V+'" is read-only.'):window.console.log('Property "'+V+"\" doesn't exist. Please check for typo."))},It.prototype.createUserOptions=function(V){if(typeof V<"u"||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var B=this.parent.options[this.optionsName],Y=B.length;this.options._isPlaceholder||(De(B),Y=B.indexOf(this.options)),this.options=typeof V>"u"?{}:V,B[Y]=this.options}else this.options=typeof V>"u"?{}:V,V=this.parent.options,this.optionsName?B=this.optionsName:(B=this._defaultsKey)&&0!==B.length?(Y=B.charAt(0).toLowerCase(),1<B.length&&(Y=Y.concat(B.slice(1))),B=Y):B=void 0,V[B]=this.options},It.prototype.remove=function(V){if(V=typeof V>"u"||V,this.isOptionsInArray){var B=this.parent.options[this.optionsName];De(B);var Y=B.indexOf(this.options);0<=Y&&B.splice(Y,1)}else delete this.parent.options[this.optionsName];V&&(this.stockChart||this.chart||this).render()},It.prototype.updateOption=function(V){!Ht[this._defaultsKey]&&Dt&&window.console&&console.log("defaults not set");var B=Ht[this._defaultsKey],Y={},Ce=this[V],He=this._themeOptionsKey,tt=this._index;return this.theme&&H(this.parent)&&H(He)&&H(tt)?Y=H(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[He]&&(null===tt?Y=this.parent.themeOptions[He]:0<this.parent.themeOptions[He].length&&(Y=Math.min(this.parent.themeOptions[He].length-1,tt),Y=this.parent.themeOptions[He][Y])),this.themeOptions=Y,V in B&&(Ce=V in this.options?this.options[V]:Y&&V in Y?Y[V]:B[V]),Ce!==this[V]&&(this[V]=Ce,!0)},It.prototype.trackChanges=function(V){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[V]=this.options[V]},It.prototype.isBeingTracked=function(V){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[V]},It.prototype.hasOptionChanged=function(V){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[V]!==this.options[V]},It.prototype.addEventListener=function(V,B,Y){V&&B&&(this._eventListeners[V]=this._eventListeners[V]||[],this._eventListeners[V].push({context:Y||this,eventHandler:B}))},It.prototype.removeEventListener=function(V,B){if(V&&B&&this._eventListeners[V])for(var Y=this._eventListeners[V],Ce=0;Ce<Y.length;Ce++)if(Y[Ce].eventHandler===B){Y[Ce].splice(Ce,1);break}},It.prototype.removeAllEventListeners=function(){this._eventListeners=[]},It.prototype.dispatchEvent=function(V,B,Y){if(V&&this._eventListeners[V]){B=B||{};for(var Ce=this._eventListeners[V],He=0;He<Ce.length;He++)Ce[He].eventHandler.call(Ce[He].context,B)}"function"==typeof this[V]&&this[V].call(Y||this.chart,B)},kt.prototype.registerSpace=function(V,B){"top"===V?this._topOccupied+=B.height:"bottom"===V?this._bottomOccupied+=B.height:"left"===V?this._leftOccupied+=B.width:"right"===V&&(this._rightOccupied+=B.width)},kt.prototype.unRegisterSpace=function(V,B){"top"===V?this._topOccupied-=B.height:"bottom"===V?this._bottomOccupied-=B.height:"left"===V?this._leftOccupied-=B.width:"right"===V&&(this._rightOccupied-=B.width)},kt.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},kt.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},he(Ot,It),Ot.prototype._initialize=function(){H(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=H(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=H(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=H(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=H(this.padding.left)?0:0|Number(this.padding.left))},Ot.prototype.render=function(V){if(0!==this.fontSize){V&&this.ctx.save();var B=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var Y=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+Y),"middle"===this.textBaseline&&(Y=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var Ce=0,He=this.topPadding,tt=null;for(this.ctx.roundRect||nt(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,Y,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,Y=0;Y<this._wrappedText.lines.length;Y++)tt=this._wrappedText.lines[Y],"right"===this.horizontalAlign||"right"===this.textAlign?Ce=this.width-tt.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?Ce=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(Ce=(this.width-(this.leftPadding+this.rightPadding))/2-tt.width/2+this.leftPadding),this.ctx.fillText(tt.text,Ce,He),He+=tt.height;this.ctx.font=B,V&&this.ctx.restore()}},Ot.prototype.setText=function(V){this.text=V,this._isDirty=!0,this._wrappedText=null},Ot.prototype.measureText=function(){if(this._lineHeight=ht(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},Ot.prototype._getLineWithWidth=function(V,B,Y){if(!(V=String(V)))return{text:"",width:0};var Ce=Y=0,He=V.length-1,tt=1/0;for(this.ctx.font=this._getFontString();Ce<=He;){tt=Math.floor((Ce+He)/2);var Oe=V.substr(0,tt+1);if((Y=this.ctx.measureText(Oe).width)<B)Ce=tt+1;else{if(!(Y>B))break;He=tt-1}}return Y>B&&1<Oe.length&&(Oe=Oe.substr(0,Oe.length-1),Y=this.ctx.measureText(Oe).width),B=!0,(Oe.length===V.length||" "===V[Oe.length])&&(B=!1),B&&(1<(V=Oe.split(" ")).length&&V.pop(),Oe=V.join(" "),Y=this.ctx.measureText(Oe).width),{text:Oe,width:Y}},Ot.prototype._wrapText=function(){var V=new String(Ye(String(this.text))),B=[],Y=this.ctx.font,Ce=0,He=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)He=Ce=0;else for(;0<V.length;){var tt=this.maxHeight-(this.topPadding+this.bottomPadding),Oe=this._getLineWithWidth(V,this.maxWidth-(this.leftPadding+this.rightPadding),!1);Oe.height=this._lineHeight,B.push(Oe);var ue=He;He=Math.max(He,Oe.width),Ce+=Oe.height,V=Ye(V.slice(Oe.text.length,V.length)),tt&&Ce>tt&&(Ce-=(Oe=B.pop()).height,He=ue)}this._wrappedText={lines:B,width:He,height:Ce},this.width=He+(this.leftPadding+this.rightPadding),this.height=Ce+(this.topPadding+this.bottomPadding),this.ctx.font=Y},Ot.prototype._getFontString=function(){var V;V=this.fontStyle?this.fontStyle+" ":"",V+=this.fontWeight?this.fontWeight+" ":"",V+=this.fontSize?this.fontSize+"px ":"";var B=this.fontFamily?this.fontFamily+"":"";return!te&&B&&"'"!==(B=B.split(",")[0])[0]&&'"'!==B[0]&&(B="'"+B+"'"),V+B},he(Wt,It),he(je,It),je.prototype.setLayout=function(){if(this.text){var ue,oe,me,V=this.dockInsidePlotArea?this.chart.plotArea:this.chart,B=V.layoutManager.getFreeSpace(),Y=B.x1,Ce=B.y1,He=0,tt=0,Oe=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=B.width-4-Oe*("center"===this.horizontalAlign?2:1)),tt=.5*B.height-this.margin-2,He=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=B.height-4),tt=.5*B.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=B.width-4),tt=.5*B.height-4)),H(this.padding)||"number"!=typeof this.padding?H(this.padding)||"object"!=typeof this.padding||(me=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,me+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):me=2*this.padding,this.wrap||(tt=Math.min(tt,1.5*this.fontSize+me)),me=(tt=new Ot(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:tt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(Ce=B.y1+2,oe="top"):"bottom"===this.verticalAlign&&(Ce=B.y2-2-me.height,oe="bottom"),"left"===this.horizontalAlign?Y=B.x1+2:"center"===this.horizontalAlign?Y=B.x1+B.width/2-me.width/2:"right"===this.horizontalAlign&&(Y=B.x2-2-me.width-Oe),ue=this.horizontalAlign,this.width=me.width,this.height=me.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(Y=B.x1+2,Ce=B.y2-2-(this.maxWidth/2-me.width/2),He=-90,oe="left",this.width=me.height,this.height=me.width):"right"===this.horizontalAlign?(Y=B.x2-2,Ce=B.y1+2+(this.maxWidth/2-me.width/2),He=90,oe="right",this.width=me.height,this.height=me.width):"center"===this.horizontalAlign&&(Ce=V.y1+(V.height/2-me.height/2),Y=V.x1+(V.width/2-me.width/2),oe="center",this.width=me.width,this.height=me.height),ue="center"),tt.x=Y,tt.y=Ce,tt.angle=He,tt.horizontalAlign=ue,this._textBlock=tt,V.layoutManager.registerSpace(oe,{width:this.width+("left"===oe||"right"===oe?this.margin+2:0),height:this.height+("top"===oe||"bottom"===oe?this.margin+2:0)}),this.bounds={x1:Y,y1:Ce,x2:Y+this.width,y2:Ce+this.height},this.ctx.textBaseline="top"}},je.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},he(Qe,It),Qe.prototype.setLayout=je.prototype.setLayout,Qe.prototype.render=je.prototype.render,ut.prototype.get=function(V,B){var Y=null;return 0<this.pool.length?Ct(Y=this.pool.pop(),V,B):Y=mt(V,B),Y},ut.prototype.release=function(V){this.pool.push(V)},he(bt,It);var Qn={addTheme:function(V,B){Dn[V]=B},addColorSet:function(V,B){Me[V]=B},addCultureInfo:function(V,B){zt[V]=B},formatNumber:function(V,B,Y){if(zt[Y=Y||"en"])return $t(V,B||"#,##0.##",new bt(Y));throw"Unknown Culture Name"},formatDate:function(V,B,Y){if(zt[Y=Y||"en"])return yi(V,B||"DD MMM YYYY",new bt(Y));throw"Unknown Culture Name"}};typeof an.exports<"u"?an.exports=Qn:void 0!==(y=function(){return Qn}.apply(Mt,[]))&&(an.exports=y),K=Qn.Chart=function(){function V(o,f){return o.x-f.x}function B(o,f,h){f=f||{},H(h)?(this.predefinedThemes=Dn,this.optionsName=this.parent=this.index=null):(this.parent=h.parent,this.index=h.index,this.predefinedThemes=h.predefinedThemes,this.optionsName=h.optionsName,this.stockChart=h.stockChart,this.panel=o,this.isOptionsInArray=h.isOptionsInArray),this.theme=H(f.theme)||H(this.predefinedThemes[f.theme])?"light1":f.theme,B.base.constructor.call(this,"Chart",this.optionsName,f,this.index,this.parent);var l=this;this._containerId=o,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new ut,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",f=o=0,f=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=o=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=f,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof Me[this.colorSet]<"u"?Me[this.colorSet]:Me.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",te||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=mt(o,f),this._preRenderCanvas=mt(o,f),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",nt(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",nt(this._preRenderCtx),te?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=mt(o,f),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=mt(o,f),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",nt(this.overlaidCanvasCtx)),this._eventManager=new ae(this),this.windowResizeHandler=xt(window,"resize",function(){l._updateSize()&&l.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),Ze(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},xt(this.overlaidCanvas,"click",function(d){l._mouseEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,"mousemove",function(d){l._mouseEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,"mouseup",function(d){l._mouseEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,"mousedown",function(d){l._mouseEventHandler(d),Ve(l._dropdownMenu)},this.allDOMEventHandlers),xt(this.overlaidCanvas,"mouseout",function(d){l._mouseEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(d){l._touchEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(d){l._touchEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(d){l._touchEventHandler(d)},this.allDOMEventHandlers),xt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(d){l._touchEventHandler(d)},this.allDOMEventHandlers),this.toolTip=new G(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function Y(o,f){for(var l,h=[],d=0;d<o.length;d++)if(0==d)h.push(o[0]);else{var v,C,D;v=0==(D=d-1)?0:D-1,C=D===o.length-1?D:D+1,l=Math.abs((o[C].x-o[v].x)/(o[C].x-o[D].x==0?.01:o[C].x-o[D].x))*(f-1)/2+1;var k=(o[C].x-o[v].x)/l;l=(o[C].y-o[v].y)/l,h[h.length]=o[D].x>o[v].x&&0<k||o[D].x<o[v].x&&0>k?{x:o[D].x+k/3,y:o[D].y+l/3}:{x:o[D].x,y:o[D].y+l/9},v=0===(D=d)?0:D-1,C=D===o.length-1?D:D+1,l=Math.abs((o[C].x-o[v].x)/(o[D].x-o[v].x==0?.01:o[D].x-o[v].x))*(f-1)/2+1,k=(o[C].x-o[v].x)/l,l=(o[C].y-o[v].y)/l,h[h.length]=o[D].x>o[v].x&&0<k||o[D].x<o[v].x&&0>k?{x:o[D].x-k/3,y:o[D].y-l/3}:{x:o[D].x,y:o[D].y-l/9},h[h.length]=o[d]}return h}function Ce(o,f,h,l,d,v,C,D,k,S){var _=0;S?(C.color=v,D.color=v):S=1,_=Math.abs(k?d-h:l-f),_=0<C.trimLength?Math.abs(_*C.trimLength/100):Math.abs(_-C.length),k?(h+=_/2,d-=_/2):(f+=_/2,l-=_/2),_=Math.round(C.thickness)%2==1?.5:0;var T=Math.round(D.thickness)%2==1?.5:0;o.save(),o.globalAlpha=S,o.strokeStyle=D.color||v,o.lineWidth=D.thickness||2,o.setLineDash&&o.setLineDash(lt(D.dashType,D.thickness)),o.beginPath(),k&&0<D.thickness?(o.moveTo(l-C.thickness/2,Math.round((h+d)/2)-T),o.lineTo(f+C.thickness/2,Math.round((h+d)/2)-T)):0<D.thickness&&(o.moveTo(Math.round((f+l)/2)-T,h+C.thickness/2),o.lineTo(Math.round((f+l)/2)-T,d-C.thickness/2)),o.stroke(),o.strokeStyle=C.color||v,o.lineWidth=C.thickness||2,o.setLineDash&&o.setLineDash(lt(C.dashType,C.thickness)),o.beginPath(),k&&0<C.thickness?(o.moveTo(l-_,h),o.lineTo(l-_,d),o.moveTo(f+_,h),o.lineTo(f+_,d)):0<C.thickness&&(o.moveTo(f,h+_),o.lineTo(l,h+_),o.moveTo(f,d-_),o.lineTo(l,d-_)),o.stroke(),o.restore()}function He(o,f){He.base.constructor.call(this,"Legend","legend",f,null,o),this.chart=o,this.canvas=o.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=ht(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function tt(o,f,h,l){for(tt.base.constructor.call(this,"DataSeries","data",f,h,o),this.chart=o,this.canvas=o.canvas,this._ctx=o.canvas.ctx,this.index=h,this.noDataPointsInPlotArea=0,this.id=l,this.chart._eventManager.objectMap[l]={id:l,objectType:"dataSeries",dataSeriesIndex:h},o=f.dataPoints?f.dataPoints.length:0,this.dataPointEOs=[],f=0;f<o;f++)this.dataPointEOs[f]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function Oe(o,f,h,l,d,v){if(Oe.base.constructor.call(this,"Axis",f,h,l,o),this.chart=o,this.canvas=o.canvas,this.ctx=o.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===d?("left"===v||"bottom"===v?(this.optionsName="axisX",H(this.chart.sessionVariables.axisX[l])&&(this.chart.sessionVariables.axisX[l]={}),this.sessionVariables=this.chart.sessionVariables.axisX[l]):(this.optionsName="axisX2",H(this.chart.sessionVariables.axisX2[l])&&(this.chart.sessionVariables.axisX2[l]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[l]),this.options.interval||(this.intervalType=null)):"left"===v||"bottom"===v?(this.optionsName="axisY",H(this.chart.sessionVariables.axisY[l])&&(this.chart.sessionVariables.axisY[l]={}),this.sessionVariables=this.chart.sessionVariables.axisY[l]):(this.optionsName="axisY2",H(this.chart.sessionVariables.axisY2[l])&&(this.chart.sessionVariables.axisY2[l]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[l]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=d,"axisX"!==d||h&&typeof h.gridThickness<"u"||(this.gridThickness=0),this._position=v,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new ue(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(o=0;o<this.options.stripLines.length;o++)this.stripLines.push(new me(this.chart,this.options.stripLines[o],o,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new le(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function ue(o,f,h,l){if(ue.base.constructor.call(this,"ScaleBreaks","scaleBreaks",f,null,l),this.id=h,this.chart=o,this.ctx=this.chart.ctx,this.axis=l,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(o=0;o<this.options.customBreaks.length;o++)this.customBreaks.push(new oe(this.chart,"customBreaks",this.options.customBreaks[o],o,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[o].startValue&&"number"==typeof this.customBreaks[o].endValue&&this.customBreaks[o].endValue!==this.customBreaks[o].startValue&&this._appliedBreaks.push(this.customBreaks[o]);for(this._appliedBreaks.sort(function(d,v){return d.startValue-v.startValue}),o=0;o<this._appliedBreaks.length-1;o++)this._appliedBreaks[o].endValue>=this._appliedBreaks[o+1].startValue&&(this._appliedBreaks[o].endValue=Math.max(this._appliedBreaks[o].endValue,this._appliedBreaks[o+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+o+" and "+(o+1)+" are overlapping."),this._appliedBreaks.splice(o,2),o--)}}function oe(o,f,h,l,d,v){oe.base.constructor.call(this,"Break",f,h,l,v),this.id=d,this.chart=o,this.ctx=this.chart.ctx,this.scaleBreaks=v,this.optionsName=f,this.isOptionsInArray=!0,this.type=h.type?this.type:v.type,this.fillOpacity=H(h.fillOpacity)?v.fillOpacity:this.fillOpacity,this.lineThickness=H(h.lineThickness)?v.lineThickness:this.lineThickness,this.color=h.color?this.color:v.color,this.lineColor=h.lineColor?this.lineColor:v.lineColor,this.lineDashType=h.lineDashType?this.lineDashType:v.lineDashType,!H(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!H(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(o=this.startValue,this.startValue=this.endValue,this.endValue=o),this.spacing=typeof h.spacing>"u"?v.spacing:h.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=v.spacing),this.size=v.parent.logarithmic?1:0}function me(o,f,h,l,d){me.base.constructor.call(this,"StripLine","stripLines",f,h,d),this.id=l,this.chart=o,this.ctx=this.chart.ctx,this.label=this.label,this.axis=d,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=d.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function le(o,f,h){le.base.constructor.call(this,"Crosshair","crosshair",f,null,h),this.chart=o,this.ctx=this.chart.ctx,this.axis=h,this.optionsName="crosshair",this._thicknessType="pixel"}function G(o,f){G.base.constructor.call(this,"ToolTip","toolTip",f,null,o),this.chart=o,this.canvas=o.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function ae(o){this.chart=o,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=mt(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Pe(o){this.chart=o,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}he(B,It),B.prototype.destroy=function(){var o=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var f=0;f<o.length;f++){var h=o[f][0],l=o[f][1],d=o[f][2],v=(v=o[f][3])||!1;h.removeEventListener?h.removeEventListener(l,d,v):h.detachEvent&&h.detachEvent("on"+l,d)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&ai(this.canvas),this.overlaidCanvas&&ai(this.overlaidCanvas),this._preRenderCanvas&&ai(this._preRenderCanvas),this._breaksCanvas&&ai(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&ai(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},B.prototype._updateOptions=function(){var o=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof Me[this.colorSet]<"u"?Me[this.colorSet]:Me.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new bt(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&te,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Wt(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)Ze(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor}),St(this,this._zoomButton,"zoom");else{var f=!1;Ve(this._zoomButton=document.createElement("button")),St(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,xt(this._zoomButton,"touchstart",function(l){f=!0},this.allDOMEventHandlers),xt(this._zoomButton,"click",function(){o.zoomEnabled?(o.zoomEnabled=!1,o.panEnabled=!0,St(o,o._zoomButton,"zoom")):(o.zoomEnabled=!0,o.panEnabled=!1,St(o,o._zoomButton,"pan")),o.render()},this.allDOMEventHandlers),xt(this._zoomButton,"mousemove",function(){f?f=!1:(Ze(o._zoomButton,{backgroundColor:o.toolbar.itemBackgroundColorOnHover,color:o.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ze(o._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),xt(this._zoomButton,"mouseout",function(){f||(Ze(o._zoomButton,{backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ze(o._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(Ze(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(f=!1,Ve(this._resetButton=document.createElement("button")),St(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),xt(this._resetButton,"touchstart",function(l){f=!0},this.allDOMEventHandlers),xt(this._resetButton,"click",function(){if(o.toolTip.hide(),o.toolTip&&o.toolTip.enabled&&o.toolTip.dispatchEvent("hidden",{chart:o,toolTip:o.toolTip},o.toolTip),o.zoomEnabled||o.panEnabled?(o.zoomEnabled=!0,o.panEnabled=!1,St(o,o._zoomButton,"pan"),o._defaultCursor="default",o.overlaidCanvas.style.cursor=o._defaultCursor):(o.zoomEnabled=!1,o.panEnabled=!1),o.sessionVariables.axisX)for(var l=0;l<o.sessionVariables.axisX.length;l++)o.sessionVariables.axisX[l].newViewportMinimum=null,o.sessionVariables.axisX[l].newViewportMaximum=null;if(o.sessionVariables.axisX2)for(l=0;l<o.sessionVariables.axisX2.length;l++)o.sessionVariables.axisX2[l].newViewportMinimum=null,o.sessionVariables.axisX2[l].newViewportMaximum=null;if(o.sessionVariables.axisY)for(l=0;l<o.sessionVariables.axisY.length;l++)o.sessionVariables.axisY[l].newViewportMinimum=null,o.sessionVariables.axisY[l].newViewportMaximum=null;if(o.sessionVariables.axisY2)for(l=0;l<o.sessionVariables.axisY2.length;l++)o.sessionVariables.axisY2[l].newViewportMinimum=null,o.sessionVariables.axisY2[l].newViewportMaximum=null;o.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&Ze(o._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Ve(o._zoomButton,o._resetButton),o.stockChart&&(o.stockChart._rangeEventParameter={stockChart:o.stockChart,source:"chart",index:o.stockChart.charts.indexOf(o),minimum:null,maximum:null}),o._dispatchRangeEvent("rangeChanging","reset"),o.stockChart&&(o.stockChart._rangeEventParameter.type="rangeChanging",o.stockChart.dispatchEvent("rangeChanging",o.stockChart._rangeEventParameter,o.stockChart)),o.render(),o.syncCharts&&o.syncCharts(null,null),o._dispatchRangeEvent("rangeChanged","reset"),o.stockChart&&(o.stockChart._rangeEventParameter.type="rangeChanged",o.stockChart.dispatchEvent("rangeChanged",o.stockChart._rangeEventParameter,o.stockChart))},this.allDOMEventHandlers),xt(this._resetButton,"mousemove",function(){f||(Ze(o._resetButton,{backgroundColor:o.toolbar.itemBackgroundColorOnHover,color:o.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ze(o._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),xt(this._resetButton,"mouseout",function(){f||(Ze(o._resetButton,{backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ze(o._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=o._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(o._zoomButton.getAttribute("state")===o._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Ee(o._zoomButton,o._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var h in function qe(V){if(V._menuButton)V.exportEnabled?(Ze(V._menuButton,{backgroundColor:V.toolbar.itemBackgroundColor,color:V.toolbar.fontColor}),Ee(V._menuButton),St(V,V._menuButton,"menu")):Ve(V._menuButton);else if(V.exportEnabled&&te){var B=!1;V._menuButton=document.createElement("button"),St(V,V._menuButton,"menu"),V._toolBar.appendChild(V._menuButton),xt(V._menuButton,"touchstart",function(tt){B=!0},V.allDOMEventHandlers),xt(V._menuButton,"click",function(){"none"!==V._dropdownMenu.style.display||V._dropDownCloseTime&&500>=(new Date).getTime()-V._dropDownCloseTime.getTime()||(V._dropdownMenu.style.display="block",V._menuButton.blur(),V._dropdownMenu.focus())},V.allDOMEventHandlers,!0),xt(V._menuButton,"mousemove",function(){B||(Ze(V._menuButton,{backgroundColor:V.toolbar.itemBackgroundColorOnHover,color:V.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&Ze(V._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},V.allDOMEventHandlers,!0),xt(V._menuButton,"mouseout",function(){B||(Ze(V._menuButton,{backgroundColor:V.toolbar.itemBackgroundColor,color:V.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&Ze(V._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},V.allDOMEventHandlers,!0)}if(V.exportEnabled&&V._dropdownMenu){Ze(V._dropdownMenu,{backgroundColor:V.toolbar.itemBackgroundColor,color:V.toolbar.fontColor});for(var Y=V._dropdownMenu.childNodes,Ce=[V._cultureInfo.printText,V._cultureInfo.saveJPGText,V._cultureInfo.savePNGText],He=0;He<Y.length;He++)Ze(Y[He],{backgroundColor:V.toolbar.itemBackgroundColor,color:V.toolbar.fontColor}),Y[He].innerHTML=Ce[He]}else!V._dropdownMenu&&V.exportEnabled&&te&&(B=!1,V._dropdownMenu=document.createElement("div"),V._dropdownMenu.setAttribute("tabindex",-1),Y=-1!==V.theme.indexOf("dark")?"black":"#888888",Ze(V._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:V.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+Y}),V._dropdownMenu.style.display="none",V._toolBar.appendChild(V._dropdownMenu),xt(V._dropdownMenu,"blur",function(){Ve(V._dropdownMenu),V._dropDownCloseTime=new Date},V.allDOMEventHandlers,!0),Ze(Y=document.createElement("div"),{padding:"12px 8px 12px 8px"}),Y.innerHTML=V._cultureInfo.printText,Y.style.backgroundColor=V.toolbar.itemBackgroundColor,Y.style.color=V.toolbar.fontColor,V._dropdownMenu.appendChild(Y),xt(Y,"touchstart",function(tt){B=!0},V.allDOMEventHandlers),xt(Y,"mousemove",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColorOnHover,this.style.color=V.toolbar.fontColorOnHover)},V.allDOMEventHandlers,!0),xt(Y,"mouseout",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColor,this.style.color=V.toolbar.fontColor)},V.allDOMEventHandlers,!0),xt(Y,"click",function(){V.print(),Ve(V._dropdownMenu)},V.allDOMEventHandlers,!0),Ze(Y=document.createElement("div"),{padding:"12px 8px 12px 8px"}),Y.innerHTML=V._cultureInfo.saveJPGText,Y.style.backgroundColor=V.toolbar.itemBackgroundColor,Y.style.color=V.toolbar.fontColor,V._dropdownMenu.appendChild(Y),xt(Y,"touchstart",function(tt){B=!0},V.allDOMEventHandlers),xt(Y,"mousemove",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColorOnHover,this.style.color=V.toolbar.fontColorOnHover)},V.allDOMEventHandlers,!0),xt(Y,"mouseout",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColor,this.style.color=V.toolbar.fontColor)},V.allDOMEventHandlers,!0),xt(Y,"click",function(){V.exportChart({format:"jpeg",fileName:V.exportFileName}),Ve(V._dropdownMenu)},V.allDOMEventHandlers,!0),Ze(Y=document.createElement("div"),{padding:"12px 8px 12px 8px"}),Y.innerHTML=V._cultureInfo.savePNGText,Y.style.backgroundColor=V.toolbar.itemBackgroundColor,Y.style.color=V.toolbar.fontColor,V._dropdownMenu.appendChild(Y),xt(Y,"touchstart",function(tt){B=!0},V.allDOMEventHandlers),xt(Y,"mousemove",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColorOnHover,this.style.color=V.toolbar.fontColorOnHover)},V.allDOMEventHandlers,!0),xt(Y,"mouseout",function(){B||(this.style.backgroundColor=V.toolbar.itemBackgroundColor,this.style.color=V.toolbar.fontColor)},V.allDOMEventHandlers,!0),xt(Y,"click",function(){V.exportChart({format:"png",fileName:V.exportFileName}),Ve(V._dropdownMenu)},V.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(St(o,o._zoomButton,this.panEnabled?"zoom":"pan"),o._resetButton.getAttribute("state")!==o._cultureInfo.resetText&&St(o,o._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(h)&&this.toolTip.updateOption(h)},B.prototype._updateSize=function(){var o;o=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var f=0,h=0;if(this.options.width?f=this.width:this.width=f=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?h=this.height:this.height=h=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==f*Yn||this.canvas.height!==h*Yn){for(var l=0;l<o.length;l++)Ct(o[l],f,h);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},o=!0}else o=!1;return o},B.prototype._initialize=function(){this.isNavigator=!(H(this.parent)||H(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new Pe(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=te&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new kt(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var o=0,f=null;if(this.options.data){for(var h=0;h<this.options.data.length;h++)if(o++,!this.options.data[h].type||0<=B._supportedChartTypes.indexOf(this.options.data[h].type)){var l=new tt(this,this.options.data[h],o-1,++this._eventManager.lastObjectId);"error"===l.type&&(l.linkedDataSeriesIndex=H(this.options.data[h].linkedDataSeriesIndex)?h-1:this.options.data[h].linkedDataSeriesIndex,0>l.linkedDataSeriesIndex||l.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof l.linkedDataSeriesIndex||"error"===this.options.data[l.linkedDataSeriesIndex].type)&&(l.linkedDataSeriesIndex=null),null===l.name&&(l.name="DataSeries "+o),null===l.color?1<this.options.data.length?(l._colorSet=[this.selectedColorSet[l.index%this.selectedColorSet.length]],l.color=this.selectedColorSet[l.index%this.selectedColorSet.length]):l._colorSet="line"===l.type||"stepLine"===l.type||"spline"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"candlestick"===l.type||"ohlc"===l.type||"waterfall"===l.type||"boxAndWhisker"===l.type?[this.selectedColorSet[0]]:this.selectedColorSet:l._colorSet=[l.color],null===l.markerSize&&(("line"===l.type||"stepLine"===l.type||"spline"===l.type||0<=l.type.toLowerCase().indexOf("area"))&&l.dataPoints&&l.dataPoints.length<this.width/16||"scatter"===l.type)&&(l.markerSize=8),"bubble"!==l.type&&"scatter"!==l.type||!l.dataPoints||(l.dataPoints.some?l.dataPoints.some(function(D){return D.x})&&l.dataPoints.sort(V):l.dataPoints.sort(V)),this.data.push(l);var v,d=l.axisPlacement;if(f=f||d,"normal"===d?"xySwapped"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===d?"normal"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===d?"normal"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?v='You cannot combine "'+l.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===d&&"none"===this.plotInfo.axisPlacement&&(v='You cannot combine "'+l.type+'" with pie chart'),v&&window.console)return void window.console.log(v)}for(h=0;h<this.data.length;h++){if("none"==f&&"error"===this.data[h].type&&window.console)return void window.console.log('You cannot combine "'+l.type+'" with error chart');"error"===this.data[h].type&&(this.data[h].axisPlacement=this.plotInfo.axisPlacement=f||"normal",this.data[h]._linkedSeries=null===this.data[h].linkedDataSeriesIndex?null:this.data[this.data[h].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},B._supportedChartTypes=De("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),B.prototype.setLayout=function(){for(var o=this._plotAreaElements,f=0;f<this.data.length;f++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[f].axisYType||"primary"===this.data[f].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var h=0;h<this.options.axisY.length;h++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[h]=new Oe(this,"axisY",this.options.axisY[h],h,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[h]=new Oe(this,"axisY",this.options.axisY[h],h,"axisY","bottom"));this.data[f].axisY=this.axisY[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY.length?this.data[f].axisYIndex:0],this.axisY[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY.length?this.data[f].axisYIndex:0].dataSeries.push(this.data[f])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new Oe(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new Oe(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[f].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[f]);if("secondary"===this.data[f].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(h=0;h<this.options.axisY2.length;h++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[h]=new Oe(this,"axisY2",this.options.axisY2[h],h,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[h]=new Oe(this,"axisY2",this.options.axisY2[h],h,"axisY","top"));this.data[f].axisY=this.axisY2[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY2.length?this.data[f].axisYIndex:0],this.axisY2[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY2.length?this.data[f].axisYIndex:0].dataSeries.push(this.data[f])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new Oe(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new Oe(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[f].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[f]);if(!this.data[f].axisXType||"primary"===this.data[f].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(h=0;h<this.options.axisX.length;h++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[h]=new Oe(this,"axisX",this.options.axisX[h],h,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[h]=new Oe(this,"axisX",this.options.axisX[h],h,"axisX","left"));this.data[f].axisX=this.axisX[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX.length?this.data[f].axisXIndex:0],this.axisX[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX.length?this.data[f].axisXIndex:0].dataSeries.push(this.data[f])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new Oe(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new Oe(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[f].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[f]);if("secondary"===this.data[f].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(h=0;h<this.options.axisX2.length;h++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[h]=new Oe(this,"axisX2",this.options.axisX2[h],h,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[h]=new Oe(this,"axisX2",this.options.axisX2[h],h,"axisX","right"));this.data[f].axisX=this.axisX2[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX2.length?this.data[f].axisXIndex:0],this.axisX2[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX2.length?this.data[f].axisXIndex:0].dataSeries.push(this.data[f])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new Oe(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new Oe(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[f].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[f])}if(this.axisY){for(h=1;h<this.axisY.length;h++)typeof this.axisY[h].options.gridThickness>"u"&&(this.axisY[h].gridThickness=0);for(h=0;h<this.axisY.length-1;h++)typeof this.axisY[h].options.margin>"u"&&(this.axisY[h].margin=10)}if(this.axisY2){for(h=1;h<this.axisY2.length;h++)typeof this.axisY2[h].options.gridThickness>"u"&&(this.axisY2[h].gridThickness=0);for(h=0;h<this.axisY2.length-1;h++)typeof this.axisY2[h].options.margin>"u"&&(this.axisY2[h].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(h=0;h<this.axisX.length;h++)typeof this.axisX[h].options.gridThickness>"u"&&(this.axisX[h].gridThickness=0);if(this.axisX2)for(h=0;h<this.axisX2.length;h++)typeof this.axisX2[h].options.gridThickness>"u"&&(this.axisX2[h].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),h=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(f=0;f<this._axes.length;f++)if(!H(this._axes[f].viewportMinimum)||!H(this._axes[f].viewportMaximum)){h=!0;break}if(h?(Ee(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Ve(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function Rt(V){ct.fSDec&&V[ii("`eeDwdouMhrudods")](ii("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ct._fTWm&&ct._fTWm(V)})}(this),this._processData(),this.options.title&&(this.title=new je(this,this.options.title),this.title.dockInsidePlotArea?o.push(this.title):this.title.setLayout()),this.options.subtitles)for(f=0;f<this.options.subtitles.length;f++)h=new Qe(this,this.options.subtitles[f],f),this.subtitles.push(h),h.dockInsidePlotArea?o.push(h):h.setLayout();for(this.legend=new He(this,this.options.legend),f=0;f<this.data.length;f++)(this.data[f].showInLegend||"pie"===this.data[f].type||"doughnut"===this.data[f].type||"funnel"===this.data[f].type||"pyramid"===this.data[f].type)&&this.legend.dataSeries.push(this.data[f]);for(this.legend.dockInsidePlotArea?o.push(this.legend):this.legend.setLayout(),f=0;f<this._axes.length;f++)if(this._axes[f].scaleBreaks&&this._axes[f].scaleBreaks._appliedBreaks.length){te?(this._breaksCanvas=mt(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=mt(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||Oe.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},B.prototype.renderElements=function(){var l=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var o=0;o<this.subtitles.length;o++)this.subtitles[o].dockInsidePlotArea||this.subtitles[o].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)Oe.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(o=0;o<l.length;o++)l[o].setLayout(),l[o].render();var d,f=[];if(this.animatedRender){var h=mt(this.width,this.height);h.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function Tt(V){if(!ji){var B=!1,Y=!1;typeof Ht.Chart.creditHref>"u"?(V.creditHref=ii("iuuqr;..b`ow`rkr/bnl."),V.creditText=ii("B`ow`rKR/bnl")):(B=V.updateOption("creditText"),Y=V.updateOption("creditHref")),V.creditHref&&V.creditText&&(V._creditLink||(V._creditLink=document.createElement("a"),V._creditLink.setAttribute("class","canvasjs-chart-credit"),V._creditLink.setAttribute("title","JavaScript Charts"),Ze(V._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:V.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),V._creditLink.setAttribute("tabIndex",-1),V._creditLink.setAttribute("target","_blank")),(0===V.renderCount||B||Y)&&(V._creditLink.setAttribute("href",V.creditHref),V._creditLink.innerHTML=V.creditText),V._creditLink&&V.creditHref&&V.creditText?(V._creditLink.parentElement||V._canvasJSContainer.appendChild(V._creditLink),V._creditLink.style.top=V.height-14+"px"):V._creditLink.parentElement&&V._canvasJSContainer.removeChild(V._creditLink))}}(this),l=this.ctx.miterLimit,this.ctx.miterLimit=3,te&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),o=0;o<this.plotInfo.plotTypes.length;o++)for(var v=this.plotInfo.plotTypes[o],C=0;C<v.plotUnits.length;C++){var D=v.plotUnits[C],k=null;D.targetCanvas&&ai(D.targetCanvas),D.targetCanvas=null,this.animatedRender&&(D.targetCanvas=mt(this.width,this.height),D.targetCanvasCtx=D.targetCanvas.getContext("2d"),d=D.targetCanvasCtx.miterLimit,D.targetCanvasCtx.miterLimit=3),"line"===D.type?k=this.renderLine(D):"stepLine"===D.type?k=this.renderStepLine(D):"spline"===D.type?k=this.renderSpline(D):"column"===D.type?k=this.renderColumn(D):"bar"===D.type?k=this.renderBar(D):"area"===D.type?k=this.renderArea(D):"stepArea"===D.type?k=this.renderStepArea(D):"splineArea"===D.type?k=this.renderSplineArea(D):"stackedColumn"===D.type?k=this.renderStackedColumn(D):"stackedColumn100"===D.type?k=this.renderStackedColumn100(D):"stackedBar"===D.type?k=this.renderStackedBar(D):"stackedBar100"===D.type?k=this.renderStackedBar100(D):"stackedArea"===D.type?k=this.renderStackedArea(D):"stackedArea100"===D.type?k=this.renderStackedArea100(D):"bubble"===D.type?k=k=this.renderBubble(D):"scatter"===D.type?k=this.renderScatter(D):"pie"===D.type||"doughnut"===D.type?this.renderPie(D):"funnel"===D.type||"pyramid"===D.type?k=this.renderFunnel(D):"candlestick"===D.type||"ohlc"===D.type?k=this.renderCandlestick(D):"rangeColumn"===D.type?k=this.renderRangeColumn(D):"error"===D.type?k=this.renderError(D):"rangeBar"===D.type?k=this.renderRangeBar(D):"rangeArea"===D.type?k=this.renderRangeArea(D):"rangeSplineArea"===D.type?k=this.renderRangeSplineArea(D):"waterfall"===D.type?k=this.renderWaterfall(D):"boxAndWhisker"===D.type&&(k=this.renderBoxAndWhisker(D));for(var S=0;S<D.dataSeriesIndexes.length;S++)this._dataInRenderedOrder.push(this.data[D.dataSeriesIndexes[S]]);this.animatedRender&&(D.targetCanvasCtx.miterLimit=d,k&&f.push(k))}this.ctx.miterLimit=l,this.animatedRender&&this._breaksCanvasCtx&&f.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(d=mt(this.width,this.height).getContext("2d"),f.push(this.renderIndexLabels(d)));var _=this;if(0<f.length)_.disableToolTip=!0,_._animator.animate(200,_.animationDuration,function(T){_.ctx.clearRect(0,0,_.width,_.height),_.ctx.drawImage(h,0,0,Math.floor(_.width*Yn),Math.floor(_.height*Yn),0,0,_.width,_.height);for(var I=0;I<f.length;I++)k=f[I],1>T&&typeof k.startTimePercent<"u"?T>=k.startTimePercent&&k.animationCallback(k.easingFunction(T-k.startTimePercent,0,1,1-k.startTimePercent),k):k.animationCallback(k.easingFunction(T,0,1,1),k);_.dispatchEvent("dataAnimationIterationEnd",{chart:_})},function(){f=[];for(var T=0;T<_.plotInfo.plotTypes.length;T++)for(var I=_.plotInfo.plotTypes[T],m=0;m<I.plotUnits.length;m++){var P=I.plotUnits[m];P.targetCanvas&&ai(P.targetCanvas),P.targetCanvas=null}h=null,_.disableToolTip=!1,_.dispatchEvent("dataAnimationEnd",{chart:_})});else{if(_._breaksCanvas)if(te)_.plotArea.ctx.drawImage(_._breaksCanvas,0,0,this.width,this.height);else for(S=0;S<_._axes.length;S++)_._axes[S].createMask();0<_._indexLabels.length&&_.renderIndexLabels(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),_.dispatchEvent("dataAnimationEnd",{chart:_})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Ve(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,Dt&&(_=this,setTimeout(function(){var T=document.getElementById("ghostCanvasCopy");T&&(Ct(T,_.width,_.height),T.getContext("2d").drawImage(_._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),S=0;S<this._axes.length;S++)this._axes[S].maskCanvas&&(delete this._axes[S].maskCanvas,delete this._axes[S].maskCtx)},B.prototype.render=function(o){o&&(this.options=o),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&ai(this._preRenderCanvas)},B.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},B.prototype.categoriseDataSeries=function(){for(var o="",f=0;f<this.data.length;f++)if((o=this.data[f]).dataPoints&&0!==o.dataPoints.length&&o.visible&&0<=B._supportedChartTypes.indexOf(o.type)){for(var h=null,l=!1,d=null,v=!1,C=0;C<this.plotInfo.plotTypes.length;C++)if(this.plotInfo.plotTypes[C].type===o.type){l=!0,h=this.plotInfo.plotTypes[C];break}for(l||this.plotInfo.plotTypes.push(h={type:o.type,totalDataSeries:0,plotUnits:[]}),C=0;C<h.plotUnits.length;C++)if(h.plotUnits[C].axisYType===o.axisYType&&h.plotUnits[C].axisXType===o.axisXType&&h.plotUnits[C].axisYIndex===o.axisYIndex&&h.plotUnits[C].axisXIndex===o.axisXIndex){v=!0,d=h.plotUnits[C];break}v||h.plotUnits.push(d={type:o.type,previousDataSeriesCount:0,index:h.plotUnits.length,plotType:h,axisXType:o.axisXType,axisYType:o.axisYType,axisYIndex:o.axisYIndex,axisXIndex:o.axisXIndex,axisY:"primary"===o.axisYType?this.axisY[0<=o.axisYIndex&&o.axisYIndex<this.axisY.length?o.axisYIndex:0]:this.axisY2[0<=o.axisYIndex&&o.axisYIndex<this.axisY2.length?o.axisYIndex:0],axisX:"primary"===o.axisXType?this.axisX[0<=o.axisXIndex&&o.axisXIndex<this.axisX.length?o.axisXIndex:0]:this.axisX2[0<=o.axisXIndex&&o.axisXIndex<this.axisX2.length?o.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),h.totalDataSeries++,d.dataSeriesIndexes.push(f),o.plotUnit=d}for(f=0;f<this.plotInfo.plotTypes.length;f++)for(h=this.plotInfo.plotTypes[f],C=o=0;C<h.plotUnits.length;C++)h.plotUnits[C].previousDataSeriesCount=o,o+=h.plotUnits[C].dataSeriesIndexes.length},B.prototype.assignIdToDataPoints=function(){for(var o=0;o<this.data.length;o++){var f=this.data[o];if(f.dataPoints)for(var h=f.dataPoints.length,l=0;l<h;l++)f.dataPointIds[l]=++this._eventManager.lastObjectId}},B.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var o=0;o<this.plotInfo.plotTypes.length;o++)for(var f=this.plotInfo.plotTypes[o],h=0;h<f.plotUnits.length;h++){var l=f.plotUnits[h];"line"===l.type||"stepLine"===l.type||"spline"===l.type||"column"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"bar"===l.type||"bubble"===l.type||"scatter"===l.type?this._processMultiseriesPlotUnit(l):"stackedColumn"===l.type||"stackedBar"===l.type||"stackedArea"===l.type?this._processStackedPlotUnit(l):"stackedColumn100"===l.type||"stackedBar100"===l.type||"stackedArea100"===l.type?this._processStacked100PlotUnit(l):"candlestick"===l.type||"ohlc"===l.type||"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"error"===l.type||"boxAndWhisker"===l.type?this._processMultiYPlotUnit(l):"waterfall"===l.type&&this._processSpecificPlotUnit(l)}this.calculateAutoBreaks()},B.prototype._processMultiseriesPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var l,d,f=o.axisY.dataInfo,h=o.axisX.dataInfo,v=!1,C=0;C<o.dataSeriesIndexes.length;C++){var T,D=this.data[o.dataSeriesIndexes[C]],k=0,S=!1,_=!1;if("normal"===D.axisPlacement||"xySwapped"===D.axisPlacement)var I=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:o.axisX.logarithmic?0:-1/0,m=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((D.dataPoints[k].x&&D.dataPoints[k].x.getTime||"dateTime"===D.xValueType)&&(v=!0),k=0;k<D.dataPoints.length;k++){if(typeof D.dataPoints[k].x>"u"&&(D.dataPoints[k].x=k+(o.axisX.logarithmic?1:0)),D.dataPoints[k].x.getTime?(v=!0,l=D.dataPoints[k].x.getTime()):l=D.dataPoints[k].x,d=D.dataPoints[k].y,l<h.min&&(h.min=l),l>h.max&&(h.max=l),d<f.min&&"number"==typeof d&&(f.min=d),d>f.max&&"number"==typeof d&&(f.max=d),0<k){if(o.axisX.logarithmic){var P=l/D.dataPoints[k-1].x;1>P&&(P=1/P),h.minDiff>P&&1!==P&&(h.minDiff=P)}else 0>(P=l-D.dataPoints[k-1].x)&&(P*=-1),h.minDiff>P&&0!==P&&(h.minDiff=P);null!==d&&null!==D.dataPoints[k-1].y&&(o.axisY.logarithmic?(1>(P=d/D.dataPoints[k-1].y)&&(P=1/P),f.minDiff>P&&1!==P&&(f.minDiff=P)):(0>(P=d-D.dataPoints[k-1].y)&&(P*=-1),f.minDiff>P&&0!==P&&(f.minDiff=P)))}if(l<I&&!S)null!==d&&(T=l);else{if(!S&&(S=!0,0<k)){k-=2;continue}if(l>m&&!_)_=!0;else if(l>m&&_)continue;D.dataPoints[k].label&&(o.axisX.labels[l]=D.dataPoints[k].label),l<h.viewPortMin&&(h.viewPortMin=l),l>h.viewPortMax&&(h.viewPortMax=l),null===d?h.viewPortMin===l&&T<l&&(h.viewPortMin=T):(d<f.viewPortMin&&"number"==typeof d&&(f.viewPortMin=d),d>f.viewPortMax&&"number"==typeof d&&(f.viewPortMax=d))}}D.axisX.valueType=D.xValueType=v?"dateTime":"number"}},B.prototype._processStackedPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length)){for(var l,d,f=o.axisY.dataInfo,h=o.axisX.dataInfo,v=!1,C=[],D=[],k=1/0,S=-1/0,_=0;_<o.dataSeriesIndexes.length;_++){var z,T=this.data[o.dataSeriesIndexes[_]],I=0,m=!1,P=!1;if("normal"===T.axisPlacement||"xySwapped"===T.axisPlacement)var U=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,N=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((T.dataPoints[I].x&&T.dataPoints[I].x.getTime||"dateTime"===T.xValueType)&&(v=!0),I=0;I<T.dataPoints.length;I++){if(typeof T.dataPoints[I].x>"u"&&(T.dataPoints[I].x=I+(o.axisX.logarithmic?1:0)),T.dataPoints[I].x.getTime?(v=!0,l=T.dataPoints[I].x.getTime()):l=T.dataPoints[I].x,d=H(T.dataPoints[I].y)?0:T.dataPoints[I].y,l<h.min&&(h.min=l),l>h.max&&(h.max=l),0<I){if(o.axisX.logarithmic){var $=l/T.dataPoints[I-1].x;1>$&&($=1/$),h.minDiff>$&&1!==$&&(h.minDiff=$)}else 0>($=l-T.dataPoints[I-1].x)&&($*=-1),h.minDiff>$&&0!==$&&(h.minDiff=$);null!==d&&null!==T.dataPoints[I-1].y&&(o.axisY.logarithmic?0<d&&(1>($=d/T.dataPoints[I-1].y)&&($=1/$),f.minDiff>$&&1!==$&&(f.minDiff=$)):(0>($=d-T.dataPoints[I-1].y)&&($*=-1),f.minDiff>$&&0!==$&&(f.minDiff=$)))}if(l<U&&!m)null!==T.dataPoints[I].y&&(z=l);else{if(!m&&(m=!0,0<I)){I-=2;continue}if(l>N&&!P)P=!0;else if(l>N&&P)continue;T.dataPoints[I].label&&(o.axisX.labels[l]=T.dataPoints[I].label),l<h.viewPortMin&&(h.viewPortMin=l),l>h.viewPortMax&&(h.viewPortMax=l),null===T.dataPoints[I].y?h.viewPortMin===l&&z<l&&(h.viewPortMin=z):(o.yTotals[l]=(o.yTotals[l]?o.yTotals[l]:0)+d,o.yAbsTotals[l]=(o.yAbsTotals[l]?o.yAbsTotals[l]:0)+Math.abs(d),0<=d?C[l]?C[l]+=d:(C[l]=d,k=Math.min(d,k)):D[l]?D[l]+=d:(D[l]=d,S=Math.max(d,S)))}}o.axisY.scaleBreaks&&o.axisY.scaleBreaks.autoCalculate&&1<=o.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(f.dataPointYPositiveSums?(f.dataPointYPositiveSums.push.apply(f.dataPointYPositiveSums,C),f.dataPointYNegativeSums.push.apply(f.dataPointYPositiveSums,D)):(f.dataPointYPositiveSums=C,f.dataPointYNegativeSums=D)),T.axisX.valueType=T.xValueType=v?"dateTime":"number"}for(I in C)C.hasOwnProperty(I)&&!isNaN(I)&&((o=C[I])<f.min&&(f.min=Math.min(o,k)),o>f.max&&(f.max=o),I<h.viewPortMin||I>h.viewPortMax||(o<f.viewPortMin&&(f.viewPortMin=Math.min(o,k)),o>f.viewPortMax&&(f.viewPortMax=o)));for(I in D)D.hasOwnProperty(I)&&!isNaN(I)&&((o=D[I])<f.min&&(f.min=o),o>f.max&&(f.max=Math.max(o,S)),I<h.viewPortMin||I>h.viewPortMax||(o<f.viewPortMin&&(f.viewPortMin=o),o>f.viewPortMax&&(f.viewPortMax=Math.max(o,S))))}},B.prototype._processStacked100PlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length)){for(var l,d,f=o.axisY.dataInfo,h=o.axisX.dataInfo,v=!1,C=!1,D=!1,k=[],S=0;S<o.dataSeriesIndexes.length;S++){var P,_=this.data[o.dataSeriesIndexes[S]],T=0,I=!1,m=!1;if("normal"===_.axisPlacement||"xySwapped"===_.axisPlacement)var z=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,U=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((_.dataPoints[T].x&&_.dataPoints[T].x.getTime||"dateTime"===_.xValueType)&&(v=!0),T=0;T<_.dataPoints.length;T++){if(typeof _.dataPoints[T].x>"u"&&(_.dataPoints[T].x=T+(o.axisX.logarithmic?1:0)),_.dataPoints[T].x.getTime?(v=!0,l=_.dataPoints[T].x.getTime()):l=_.dataPoints[T].x,d=H(_.dataPoints[T].y)?null:_.dataPoints[T].y,l<h.min&&(h.min=l),l>h.max&&(h.max=l),0<T){if(o.axisX.logarithmic){var N=l/_.dataPoints[T-1].x;1>N&&(N=1/N),h.minDiff>N&&1!==N&&(h.minDiff=N)}else 0>(N=l-_.dataPoints[T-1].x)&&(N*=-1),h.minDiff>N&&0!==N&&(h.minDiff=N);H(d)||null===_.dataPoints[T-1].y||(o.axisY.logarithmic?0<d&&(1>(N=d/_.dataPoints[T-1].y)&&(N=1/N),f.minDiff>N&&1!==N&&(f.minDiff=N)):(0>(N=d-_.dataPoints[T-1].y)&&(N*=-1),f.minDiff>N&&0!==N&&(f.minDiff=N)))}if(l<z&&!I)null!==d&&(P=l);else{if(!I&&(I=!0,0<T)){T-=2;continue}if(l>U&&!m)m=!0;else if(l>U&&m)continue;_.dataPoints[T].label&&(o.axisX.labels[l]=_.dataPoints[T].label),l<h.viewPortMin&&(h.viewPortMin=l),l>h.viewPortMax&&(h.viewPortMax=l),null===d?h.viewPortMin===l&&P<l&&(h.viewPortMin=P):(o.yTotals[l]=(o.yTotals[l]?o.yTotals[l]:0)+d,o.yAbsTotals[l]=(o.yAbsTotals[l]?o.yAbsTotals[l]:0)+Math.abs(d),0<=d?C=!0:0>d&&(D=!0),k[l]=k[l]?k[l]+Math.abs(d):Math.abs(d))}}_.axisX.valueType=_.xValueType=v?"dateTime":"number"}o.axisY.logarithmic?(f.max=H(f.viewPortMax)?99*Math.pow(o.axisY.logarithmBase,-.05):Math.max(f.viewPortMax,99*Math.pow(o.axisY.logarithmBase,-.05)),f.min=H(f.viewPortMin)?1:Math.min(f.viewPortMin,1)):C&&!D?(f.max=H(f.viewPortMax)?99:Math.max(f.viewPortMax,99),f.min=H(f.viewPortMin)?1:Math.min(f.viewPortMin,1)):C&&D?(f.max=H(f.viewPortMax)?99:Math.max(f.viewPortMax,99),f.min=H(f.viewPortMin)?-99:Math.min(f.viewPortMin,-99)):!C&&D&&(f.max=H(f.viewPortMax)?-1:Math.max(f.viewPortMax,-1),f.min=H(f.viewPortMin)?-99:Math.min(f.viewPortMin,-99)),f.viewPortMin=f.min,f.viewPortMax=f.max,o.dataPointYSums=k}},B.prototype._processMultiYPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var l,d,v,C,f=o.axisY.dataInfo,h=o.axisX.dataInfo,D=!1,k=0;k<o.dataSeriesIndexes.length;k++){var m,P,z,S=this.data[o.dataSeriesIndexes[k]],_=0,T=!1,I=!1;if("normal"===S.axisPlacement||"xySwapped"===S.axisPlacement)var U=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:o.axisX.logarithmic?0:-1/0,N=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((S.dataPoints[_].x&&S.dataPoints[_].x.getTime||"dateTime"===S.xValueType)&&(D=!0),_=0;_<S.dataPoints.length;_++){if(typeof S.dataPoints[_].x>"u"&&(S.dataPoints[_].x=_+(o.axisX.logarithmic?1:0)),S.dataPoints[_].x.getTime?(D=!0,l=S.dataPoints[_].x.getTime()):l=S.dataPoints[_].x,(d=S.dataPoints[_].y)&&d.length){v=Math.min.apply(null,d),C=Math.max.apply(null,d),P=!0;for(var $=0;$<d.length;$++)null===d.k&&(P=!1);P&&(T||(z=m),m=l)}if(l<h.min&&(h.min=l),l>h.max&&(h.max=l),v<f.min&&(f.min=v),C>f.max&&(f.max=C),0<_&&(o.axisX.logarithmic?(1>(P=l/S.dataPoints[_-1].x)&&(P=1/P),h.minDiff>P&&1!==P&&(h.minDiff=P)):(0>(P=l-S.dataPoints[_-1].x)&&(P*=-1),h.minDiff>P&&0!==P&&(h.minDiff=P)),d&&null!==d[0]&&S.dataPoints[_-1].y&&null!==S.dataPoints[_-1].y[0]&&(o.axisY.logarithmic?(1>(P=d[0]/S.dataPoints[_-1].y[0])&&(P=1/P),f.minDiff>P&&1!==P&&(f.minDiff=P)):(0>(P=d[0]-S.dataPoints[_-1].y[0])&&(P*=-1),f.minDiff>P&&0!==P&&(f.minDiff=P)))),!(l<U)||T){if(!T&&(T=!0,0<_)){_-=2,m=z;continue}if(l>N&&!I)I=!0;else if(l>N&&I)continue;if(S.dataPoints[_].label&&(o.axisX.labels[l]=S.dataPoints[_].label),l<h.viewPortMin&&(h.viewPortMin=l),l>h.viewPortMax&&(h.viewPortMax=l),h.viewPortMin===l&&d)for($=0;$<d.length;$++)if(null===d[$]&&m<l){h.viewPortMin=m;break}null===d?h.viewPortMin===l&&m<l&&(h.viewPortMin=m):(v<f.viewPortMin&&(f.viewPortMin=v),C>f.viewPortMax&&(f.viewPortMax=C))}}S.axisX.valueType=S.xValueType=D?"dateTime":"number"}},B.prototype._processSpecificPlotUnit=function(o){if("waterfall"===o.type&&o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var l,d,f=o.axisY.dataInfo,h=o.axisX.dataInfo,v=!1,C=0;C<o.dataSeriesIndexes.length;C++){var D=this.data[o.dataSeriesIndexes[C]],k=0,S=!1,_=!1,T=l=0;if("normal"===D.axisPlacement||"xySwapped"===D.axisPlacement)var I=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:o.axisX.logarithmic?0:-1/0,m=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((D.dataPoints[k].x&&D.dataPoints[k].x.getTime||"dateTime"===D.xValueType)&&(v=!0),k=0;k<D.dataPoints.length;k++)typeof D.dataPoints[k].isCumulativeSum<"u"&&!0===D.dataPoints[k].isCumulativeSum?(D.dataPointEOs[k].cumulativeSumYStartValue=0,D.dataPointEOs[k].cumulativeSum=0===k?0:D.dataPointEOs[k-1].cumulativeSum,D.dataPoints[k].y=0===k?0:D.dataPointEOs[k-1].cumulativeSum):typeof D.dataPoints[k].isIntermediateSum<"u"&&!0===D.dataPoints[k].isIntermediateSum?(D.dataPointEOs[k].cumulativeSumYStartValue=T,D.dataPointEOs[k].cumulativeSum=0===k?0:D.dataPointEOs[k-1].cumulativeSum,D.dataPoints[k].y=0===k?0:l,T=0===k?0:D.dataPointEOs[k-1].cumulativeSum,l=0):(d="number"!=typeof D.dataPoints[k].y?0:D.dataPoints[k].y,D.dataPointEOs[k].cumulativeSumYStartValue=0===k?0:D.dataPointEOs[k-1].cumulativeSum,D.dataPointEOs[k].cumulativeSum=0===k?d:D.dataPointEOs[k-1].cumulativeSum+d,l+=d);for(k=0;k<D.dataPoints.length;k++)if(typeof D.dataPoints[k].x>"u"&&(D.dataPoints[k].x=k+(o.axisX.logarithmic?1:0)),D.dataPoints[k].x.getTime?(v=!0,l=D.dataPoints[k].x.getTime()):l=D.dataPoints[k].x,d=D.dataPoints[k].y,l<h.min&&(h.min=l),l>h.max&&(h.max=l),D.dataPointEOs[k].cumulativeSum<f.min&&(f.min=D.dataPointEOs[k].cumulativeSum),D.dataPointEOs[k].cumulativeSum>f.max&&(f.max=D.dataPointEOs[k].cumulativeSum),0<k&&(o.axisX.logarithmic?(1>(T=l/D.dataPoints[k-1].x)&&(T=1/T),h.minDiff>T&&1!==T&&(h.minDiff=T)):(0>(T=l-D.dataPoints[k-1].x)&&(T*=-1),h.minDiff>T&&0!==T&&(h.minDiff=T)),null!==d&&null!==D.dataPoints[k-1].y&&(o.axisY.logarithmic?(1>(d=D.dataPointEOs[k].cumulativeSum/D.dataPointEOs[k-1].cumulativeSum)&&(d=1/d),f.minDiff>d&&1!==d&&(f.minDiff=d)):(0>(d=D.dataPointEOs[k].cumulativeSum-D.dataPointEOs[k-1].cumulativeSum)&&(d*=-1),f.minDiff>d&&0!==d&&(f.minDiff=d)))),!(l<I)||S){if(!S&&(S=!0,0<k)){k-=2;continue}if(l>m&&!_)_=!0;else if(l>m&&_)continue;D.dataPoints[k].label&&(o.axisX.labels[l]=D.dataPoints[k].label),l<h.viewPortMin&&(h.viewPortMin=l),l>h.viewPortMax&&(h.viewPortMax=l),0<k&&(D.dataPointEOs[k-1].cumulativeSum<f.viewPortMin&&(f.viewPortMin=D.dataPointEOs[k-1].cumulativeSum),D.dataPointEOs[k-1].cumulativeSum>f.viewPortMax&&(f.viewPortMax=D.dataPointEOs[k-1].cumulativeSum)),D.dataPointEOs[k].cumulativeSum<f.viewPortMin&&(f.viewPortMin=D.dataPointEOs[k].cumulativeSum),D.dataPointEOs[k].cumulativeSum>f.viewPortMax&&(f.viewPortMax=D.dataPointEOs[k].cumulativeSum)}D.axisX.valueType=D.xValueType=v?"dateTime":"number"}},B.prototype.calculateAutoBreaks=function(){function f(P){if(P.dataSeriesIndexes&&!(1>P.dataSeriesIndexes.length)){var z=P.axisX.scaleBreaks&&P.axisX.scaleBreaks.autoCalculate&&1<=P.axisX.scaleBreaks.maxNumberOfAutoBreaks,U=P.axisY.scaleBreaks&&P.axisY.scaleBreaks.autoCalculate&&1<=P.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(z||U)for(var N,et,$=(ee=P.axisX.dataInfo).min,Z=ee.max,ie=(Ne=P.axisY.dataInfo).min,se=Ne.max,ee=ee._dataRanges,Ne=Ne._dataRanges,Ie=0,we=0;we<P.dataSeriesIndexes.length;we++){var ke=d.data[P.dataSeriesIndexes[we]];if(!(4>ke.dataPoints.length))for(Ie=0;Ie<ke.dataPoints.length;Ie++)if(z&&(et=(Z+1-$)*Math.max(parseFloat(P.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(N=ke.dataPoints[Ie].x.getTime?ke.dataPoints[Ie].x.getTime():ke.dataPoints[Ie].x)<ee[et=Math.floor((N-$)/et)].min&&(ee[et].min=N),N>ee[et].max&&(ee[et].max=N)),U){var _e=(se+1-ie)*Math.max(parseFloat(P.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((N="waterfall"===P.type?ke.dataPointEOs[Ie].cumulativeSum:ke.dataPoints[Ie].y)&&N.length)for(var ce=0;ce<N.length;ce++)et=Math.floor((N[ce]-ie)/_e),N[ce]<Ne[et].min&&(Ne[et].min=N[ce]),N[ce]>Ne[et].max&&(Ne[et].max=N[ce]);else H(N)||(N<Ne[et=Math.floor((N-ie)/_e)].min&&(Ne[et].min=N),N>Ne[et].max&&(Ne[et].max=N))}}}}function h(P){if(P.dataSeriesIndexes&&!(1>P.dataSeriesIndexes.length)&&P.axisX.scaleBreaks&&P.axisX.scaleBreaks.autoCalculate&&1<=P.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var Z,z=P.axisX.dataInfo,U=z.min,N=z.max,$=z._dataRanges,ie=0,se=0;se<P.dataSeriesIndexes.length;se++){var ee=d.data[P.dataSeriesIndexes[se]];if(!(4>ee.dataPoints.length))for(ie=0;ie<ee.dataPoints.length;ie++)Z=(N+1-U)*Math.max(parseFloat(P.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(z=ee.dataPoints[ie].x.getTime?ee.dataPoints[ie].x.getTime():ee.dataPoints[ie].x)<$[Z=Math.floor((z-U)/Z)].min&&($[Z].min=z),z>$[Z].max&&($[Z].max=z)}}for(var l,d=this,v=!1,C=0;C<this._axes.length;C++)if(this._axes[C].scaleBreaks&&this._axes[C].scaleBreaks.autoCalculate&&1<=this._axes[C].scaleBreaks.maxNumberOfAutoBreaks){v=!0,this._axes[C].dataInfo._dataRanges=[];for(var D=0;D<100/Math.max(parseFloat(this._axes[C].scaleBreaks.collapsibleThreshold)||10,10);D++)this._axes[C].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(v){for(C=0;C<this.plotInfo.plotTypes.length;C++)for(v=this.plotInfo.plotTypes[C],D=0;D<v.plotUnits.length;D++)"line"===(l=v.plotUnits[D]).type||"stepLine"===l.type||"spline"===l.type||"column"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"bar"===l.type||"bubble"===l.type||"scatter"===l.type||"candlestick"===l.type||"ohlc"===l.type||"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"waterfall"===l.type||"error"===l.type||"boxAndWhisker"===l.type?f(l):0<=l.type.indexOf("stacked")&&h(l);for(C=0;C<this._axes.length;C++)if(this._axes[C].dataInfo._dataRanges){var k=this._axes[C].dataInfo.min;l=(this._axes[C].dataInfo.max+1-k)*Math.max(parseFloat(this._axes[C].scaleBreaks.collapsibleThreshold)||10,10)/100;var _,T,S=this._axes[C].dataInfo._dataRanges;if(v=[],this._axes[C].dataInfo.dataPointYPositiveSums){var I=this._axes[C].dataInfo.dataPointYPositiveSums;for(D in _=S,I)if(I.hasOwnProperty(D)&&!isNaN(D)&&!H(T=I[D])){var m=Math.floor((T-k)/l);T<_[m].min&&(_[m].min=T),T>_[m].max&&(_[m].max=T)}delete this._axes[C].dataInfo.dataPointYPositiveSums}if(this._axes[C].dataInfo.dataPointYNegativeSums){for(D in _=S,I=this._axes[C].dataInfo.dataPointYNegativeSums)I.hasOwnProperty(D)&&!isNaN(D)&&(H(T=-1*I[D])||(T<_[m=Math.floor((T-k)/l)].min&&(_[m].min=T),T>_[m].max&&(_[m].max=T)));delete this._axes[C].dataInfo.dataPointYNegativeSums}for(D=0;D<S.length-1;D++)if(_=S[D].max,isFinite(_))for(;D<S.length-1;){if(k=S[D+1].min,isFinite(k)){(T=k-_)>l&&v.push({diff:T,start:_,end:k});break}D++}if(this._axes[C].scaleBreaks.customBreaks)for(D=0;D<this._axes[C].scaleBreaks.customBreaks.length;D++)for(l=0;l<v.length;l++)(this._axes[C].scaleBreaks.customBreaks[D].startValue<=v[l].start&&v[l].start<=this._axes[C].scaleBreaks.customBreaks[D].endValue||this._axes[C].scaleBreaks.customBreaks[D].startValue<=v[l].start&&v[l].start<=this._axes[C].scaleBreaks.customBreaks[D].endValue||v[l].start<=this._axes[C].scaleBreaks.customBreaks[D].startValue&&this._axes[C].scaleBreaks.customBreaks[D].startValue<=v[l].end||v[l].start<=this._axes[C].scaleBreaks.customBreaks[D].endValue&&this._axes[C].scaleBreaks.customBreaks[D].endValue<=v[l].end)&&(v.splice(l,1),l--);for(v.sort(function(z,U){return U.diff-z.diff}),D=0;D<Math.min(v.length,this._axes[C].scaleBreaks.maxNumberOfAutoBreaks);D++)P=v[D].start,z=v[D].end,U=this._axes[C].logarithmic?this._axes[C].dataInfo.max/this._axes[C].dataInfo.min:this._axes[C].dataInfo.max-this._axes[C].dataInfo.min,l=this._axes[C].logarithmic?(1>=(U=Math.pow(Math.min(U*P/z,z/P),.2))&&(U=Math.pow(1>P?1/P:Math.min(z/P,P),.25)),{startValue:P*U,endValue:z/U}):(0>=(U=.2*Math.min(U-z+P,z-P))&&(U=.25*Math.min(z-P,Math.abs(P))),{startValue:P+U,endValue:z-U}),this._axes[C].scaleBreaks.autoBreaks.push(new oe(this,"autoBreaks",l,D,++this._eventManager.lastObjectId,this._axes[C].scaleBreaks)),this._axes[C].scaleBreaks._appliedBreaks.push(this._axes[C].scaleBreaks.autoBreaks[this._axes[C].scaleBreaks.autoBreaks.length-1]);this._axes[C].scaleBreaks._appliedBreaks.sort(function(z,U){return z.startValue-U.startValue})}}var P,z,U},B.prototype.renderCrosshairs=function(o){for(var f=0;f<this.axisX.length;f++)this.axisX[f]!=o&&this.axisX[f].crosshair&&this.axisX[f].crosshair.enabled&&!this.axisX[f].crosshair._hidden&&this.axisX[f].showCrosshair(this.axisX[f].crosshair._updatedValue);for(f=0;f<this.axisX2.length;f++)this.axisX2[f]!=o&&this.axisX2[f].crosshair&&this.axisX2[f].crosshair.enabled&&!this.axisX2[f].crosshair._hidden&&this.axisX2[f].showCrosshair(this.axisX2[f].crosshair._updatedValue);for(f=0;f<this.axisY.length;f++)this.axisY[f]!=o&&this.axisY[f].crosshair&&this.axisY[f].crosshair.enabled&&!this.axisY[f].crosshair._hidden&&this.axisY[f].showCrosshair(this.axisY[f].crosshair._updatedValue);for(f=0;f<this.axisY2.length;f++)this.axisY2[f]!=o&&this.axisY2[f].crosshair&&this.axisY2[f].crosshair.enabled&&!this.axisY2[f].crosshair._hidden&&this.axisY2[f].showCrosshair(this.axisY2[f].crosshair._updatedValue)},B.prototype.getDataPointAtXY=function(o,f,h){h=h||!1;for(var l=[],d=this._dataInRenderedOrder.length-1;0<=d;d--){var v;(v=this._dataInRenderedOrder[d].getDataPointAtXY(o,f,h))&&l.push(v)}for(o=null,f=!1,h=0;h<l.length;h++)if(("line"===l[h].dataSeries.type||"stepLine"===l[h].dataSeries.type||"area"===l[h].dataSeries.type||"stepArea"===l[h].dataSeries.type)&&(d=Ke("markerSize",l[h].dataPoint,l[h].dataSeries)||8,l[h].distance<=d/2)){f=!0;break}for(h=0;h<l.length;h++)f&&"line"!==l[h].dataSeries.type&&"stepLine"!==l[h].dataSeries.type&&"area"!==l[h].dataSeries.type&&"stepArea"!==l[h].dataSeries.type||(o?l[h].distance<=o.distance&&(o=l[h]):o=l[h]);return o},B.prototype.getObjectAtXY=function(o,f,h){var l=null;if(h=this.getDataPointAtXY(o,f,h||!1))l=h.dataSeries.dataPointIds[h.dataPointIndex];else if(te)l=_t(o,f,this._eventManager.ghostCtx);else for(h=0;h<this.legend.items.length;h++){var d=this.legend.items[h];o>=d.x1&&o<=d.x2&&f>=d.y1&&f<=d.y2&&(l=d.id)}return l},B.prototype.getAutoFontSize=Si,B.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},B.prototype.clearCanvas=Pi,B.prototype.attachEvent=function(o){this._events.push(o)},B.prototype._touchEventHandler=function(o){if(o.changedTouches&&this.interactivityEnabled){var f=[],h=o.changedTouches,l=h?h[0]:o,d=null;switch(o.type){case"touchstart":case"MSPointerDown":f=["mousemove","mousedown"],this._lastTouchData=pn(l),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":f=["mousemove"];break;case"touchend":case"MSPointerUp":var v=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;f="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>v?["mouseup","click"]:["mouseup"];break;default:return}if(!(h&&1<h.length)){(d=pn(l)).time=new Date;try{var C=d.y-this._lastTouchData.y;v=d.time-this._lastTouchData.time,(1<Math.abs(C)&&this._lastTouchData.scroll||5<Math.abs(C)&&250>v)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=o.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(h=0;h<f.length;h++)d=f[h],(C=document.createEvent("MouseEvent")).initMouseEvent(d,!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(C),(!H(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<v||"click"===d)&&(o.preventManipulation&&o.preventManipulation(),o.preventDefault&&o.cancelable&&o.preventDefault())}}},B.prototype._dispatchRangeEvent=function(o,f){var h={chart:this};h.type=o,h.trigger=f;var l=[];this.axisX&&0<this.axisX.length&&l.push("axisX"),this.axisX2&&0<this.axisX2.length&&l.push("axisX2"),this.axisY&&0<this.axisY.length&&l.push("axisY"),this.axisY2&&0<this.axisY2.length&&l.push("axisY2");for(var d=0;d<l.length;d++)if(H(h[l[d]])&&(h[l[d]]=[]),"axisY"===l[d])for(var v=0;v<this.axisY.length;v++)h[l[d]].push({viewportMinimum:this[l[d]][v].sessionVariables.newViewportMinimum,viewportMaximum:this[l[d]][v].sessionVariables.newViewportMaximum});else if("axisY2"===l[d])for(v=0;v<this.axisY2.length;v++)h[l[d]].push({viewportMinimum:this[l[d]][v].sessionVariables.newViewportMinimum,viewportMaximum:this[l[d]][v].sessionVariables.newViewportMaximum});else if("axisX"===l[d])for(v=0;v<this.axisX.length;v++)h[l[d]].push({viewportMinimum:this[l[d]][v].sessionVariables.newViewportMinimum,viewportMaximum:this[l[d]][v].sessionVariables.newViewportMaximum});else if("axisX2"===l[d])for(v=0;v<this.axisX2.length;v++)h[l[d]].push({viewportMinimum:this[l[d]][v].sessionVariables.newViewportMinimum,viewportMaximum:this[l[d]][v].sessionVariables.newViewportMaximum});this.dispatchEvent(o,h,this)},B.prototype._mouseEventHandler=function(o){typeof o.target>"u"&&o.srcElement&&(o.target=o.srcElement);var l,d,f=pn(o),h=o.type;if(o.which?d=3==o.which:o.button&&(d=2==o.button),B.capturedEventParam&&(l=B.capturedEventParam,"mouseup"===h&&(B.capturedEventParam=null,l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",l.chart._mouseEventHandler,!1)),l.hasOwnProperty(h)&&("mouseup"!==h||l.chart.overlaidCanvas.releaseCapture?o.target!==l.chart.overlaidCanvas&&te||l[h].call(l.context,f.x,f.y):o.target!==l.chart.overlaidCanvas&&(l.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(o.preventManipulation&&o.preventManipulation(),o.preventDefault&&o.preventDefault(),Dt&&window.console&&(window.console.log(h+" --\x3e x: "+f.x+"; y:"+f.y),d&&window.console.log(o.which),"mouseup"===h&&window.console.log("mouseup")),!d){if(!B.capturedEventParam&&this._events){for(var v=0;v<this._events.length;v++)if(this._events[v].hasOwnProperty(h)){if(f.x>=(d=(l=this._events[v]).bounds).x1&&f.x<=d.x2&&f.y>=d.y1&&f.y<=d.y2){l[h].call(l.context,f.x,f.y),"mousedown"===h&&!0===l.capture?(B.capturedEventParam=l,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===h&&(l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}l=null}o.target.style.cursor=l&&l.cursor?l.cursor:this._defaultCursor}if(f.x<(h=this.plotArea).x1||f.x>h.x2||f.y<h.y1||f.y>h.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),v=0;v<this.axisX.length;v++)this.axisX[v].crosshair&&this.axisX[v].crosshair.enabled&&(this.axisX[v].crosshair.hide(),this.axisX[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[v].options},this.axisX[v].crosshair));for(v=0;v<this.axisX2.length;v++)this.axisX2[v].crosshair&&this.axisX2[v].crosshair.enabled&&(this.axisX2[v].crosshair.hide(),this.axisX2[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[v].options},this.axisX2[v].crosshair));for(v=0;v<this.axisY.length;v++)this.axisY[v].crosshair&&this.axisY[v].crosshair.enabled&&(this.axisY[v].crosshair.hide(),this.axisY[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[v].options},this.axisY[v].crosshair));for(v=0;v<this.axisY2.length;v++)this.axisY2[v].crosshair&&this.axisY2[v].crosshair.enabled&&(this.axisY2[v].crosshair.hide(),this.axisY2[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[v].options},this.axisY2[v].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(o)}},B.prototype._plotAreaMouseDown=function(o,f){this.isDrag=!0,this.dragStartPoint={x:o,y:f}},B.prototype._plotAreaMouseUp=function(o,f){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var h=f-this.dragStartPoint.y,l=o-this.dragStartPoint.x,D=0<=this.zoomType.indexOf("x"),C=0<=this.zoomType.indexOf("y"),d=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var v=C;C=D,D=v}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(D=C=0;D<this._axes.length;D++)(h=this._axes[D]).logarithmic?h.viewportMinimum<h.minimum?(h.sessionVariables.newViewportMinimum=h.viewportMinimum*(C=h.minimum/h.viewportMinimum),h.sessionVariables.newViewportMaximum=h.viewportMaximum*C,d=!0):h.viewportMaximum>h.maximum&&(h.sessionVariables.newViewportMinimum=h.viewportMinimum/(C=h.viewportMaximum/h.maximum),h.sessionVariables.newViewportMaximum=h.viewportMaximum/C,d=!0):h.viewportMinimum<h.minimum?(h.sessionVariables.newViewportMinimum=h.viewportMinimum+(C=h.minimum-h.viewportMinimum),h.sessionVariables.newViewportMaximum=h.viewportMaximum+C,d=!0):h.viewportMaximum>h.maximum&&(h.sessionVariables.newViewportMinimum=h.viewportMinimum-(C=h.viewportMaximum-h.maximum),h.sessionVariables.newViewportMaximum=h.viewportMaximum-C,d=!0);else if((!D||2<Math.abs(l))&&(!C||2<Math.abs(h))&&this.zoomEnabled){if(!this.dragStartPoint)return;h=D?this.dragStartPoint.x:this.plotArea.x1,l=C?this.dragStartPoint.y:this.plotArea.y1,D=D?o:this.plotArea.x2,C=C?f:this.plotArea.y2,2<Math.abs(h-D)&&2<Math.abs(l-C)&&this._zoomPanToSelectedRegion(h,l,D,C)&&(d=!0)}d&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),d&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(Ee(this._zoomButton,this._resetButton),St(this,this._zoomButton,"pan"),St(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].renderCrosshair(o,f);if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].renderCrosshair(o,f);if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].renderCrosshair(o,f);if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].renderCrosshair(o,f);if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].crosshair.renderLabel()}},B.prototype._plotAreaMouseMove=function(o,f){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var h=0,l=0,d=h=null,v=(d=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),C=this;if("xySwapped"===this.plotInfo.axisPlacement&&(h=v,v=d,d=h),h=this.dragStartPoint.x-o,l=this.dragStartPoint.y-f,2<Math.abs(h)&&8>Math.abs(h)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var D=0;D<this.axisX.length;D++)this.axisX[D].crosshair&&this.axisX[D].crosshair.enabled&&(this.axisX[D].crosshair.hide(),this.axisX[D].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[D].options},this.axisX[D].crosshair));for(D=0;D<this.axisX2.length;D++)this.axisX2[D].crosshair&&this.axisX2[D].crosshair.enabled&&(this.axisX2[D].crosshair.hide(),this.axisX2[D].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[D].options},this.axisX2[D].crosshair));for(D=0;D<this.axisY.length;D++)this.axisY[D].crosshair&&this.axisY[D].crosshair.enabled&&(this.axisY[D].crosshair.hide(),this.axisY[D].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[D].options},this.axisY[D].crosshair));for(D=0;D<this.axisY2.length;D++)this.axisY2[D].crosshair&&this.axisY2[D].crosshair.enabled&&(this.axisY2[D].crosshair.hide(),this.axisY2[D].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[D].options},this.axisY2[D].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(o,f);if((!d||2<Math.abs(h)||!v||2<Math.abs(l))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)d={x1:d?this.plotArea.x1+h:this.plotArea.x1,y1:v?this.plotArea.y1+l:this.plotArea.y1,x2:d?this.plotArea.x2+h:this.plotArea.x2,y2:v?this.plotArea.y2+l:this.plotArea.y2},clearTimeout(C._panTimerId),C._panTimerId=setTimeout((_=d.x1,T=d.y1,I=d.x2,m=d.y2,function(){C._zoomPanToSelectedRegion(_,T,I,m,!0)&&(C._dispatchRangeEvent("rangeChanging","pan"),C.stockChart&&C.stockChart.navigator&&C.stockChart.navigator.enabled&&(C.stockChart._rangeEventParameter.type="rangeChanging",C.stockChart.dispatchEvent("rangeChanging",C.stockChart._rangeEventParameter,C.stockChart)),C.render(),C._dispatchRangeEvent("rangeChanged","pan"),C.stockChart&&C.stockChart.navigator&&C.stockChart.navigator.enabled&&(C.stockChart._rangeEventParameter.type="rangeChanged",C.stockChart.dispatchEvent("rangeChanged",C.stockChart._rangeEventParameter,C.stockChart)),C.dragStartPoint.x=o,C.dragStartPoint.y=f)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),h=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var k=d?o-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,S=v?f-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(l=d?this.dragStartPoint.x:this.plotArea.x1,D=v?this.dragStartPoint.y:this.plotArea.y1,d?o:this.plotArea.x2-this.plotArea.x1,v?f:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(l,D,k,S),this.overlaidCanvasCtx.globalAlpha=h}}else if(this.toolTip.mouseMoveHandler(o,f),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].renderCrosshair(o,f);if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].renderCrosshair(o,f);if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].renderCrosshair(o,f);if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].renderCrosshair(o,f);if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].crosshair.renderLabel()}var _,T,I,m},B.prototype._zoomPanToSelectedRegion=function(o,f,h,l,d){if(f=(o=this.validateRegion(o,f,h,l,d)).axesWithValidRange,h=o.axesRanges,o.isValid)for(l=0;l<f.length;l++)f[l].setViewPortRange((d=h[l]).val1,d.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(d.val1,d.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:d.val1,maximum:d.val2});return o.isValid},B.prototype.validateRegion=function(o,f,h,l,d){d=d||!1;for(var v=0<=this.zoomType.indexOf("x"),C=0<=this.zoomType.indexOf("y"),D=!1,k=[],S=[],_=[],T=0;T<this._axes.length;T++)("axisX"===this._axes[T].type&&v||"axisY"===this._axes[T].type&&C)&&S.push(this._axes[T]);for(C=0;C<S.length;C++){if(v=!1,(P=(T=S[C]).convertPixelToValue({x:o,y:f}))>(m=T.convertPixelToValue({x:h,y:l})))var I=m,m=P,P=I;if(T.scaleBreaks)for(I=0;!v&&I<T.scaleBreaks._appliedBreaks.length;I++)v=T.scaleBreaks._appliedBreaks[I].startValue<=P&&T.scaleBreaks._appliedBreaks[I].endValue>=m;if(isFinite(T.dataInfo.minDiff))if(I=T.getApparentDifference(P,m,null,!0),v||!(this.panEnabled&&T.scaleBreaks&&T.scaleBreaks._appliedBreaks.length)&&(T.logarithmic&&I<Math.pow(T.dataInfo.minDiff,3)||!T.logarithmic&&I<3*Math.abs(T.dataInfo.minDiff))||P<T.minimum||m>T.maximum){if(!d){D=!1;break}}else k.push(T),_.push({val1:P,val2:m}),D=!0}return{isValid:D,axesWithValidRange:k,axesRanges:_}},B.prototype.preparePlotArea=function(){var o=this.plotArea;if(!te&&(0<o.x1||0<o.y1)&&o.ctx.translate(o.x1,o.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var f=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var h=this.axisY[0];o.x1=f.x1<f.x2?f.x1:h.lineCoordinates.x1,o.y1=f.y1<h.lineCoordinates.y1?f.y1:h.lineCoordinates.y1,o.x2=f.x2>h.lineCoordinates.x2?f.x2:h.lineCoordinates.x2,o.y2=f.y2>f.y1?f.y2:h.lineCoordinates.y2,o.width=o.x2-o.x1,o.height=o.y2-o.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(h=this.axisY2[0],o.x1=f.x1<f.x2?f.x1:h.lineCoordinates.x1,o.y1=f.y1<h.lineCoordinates.y1?f.y1:h.lineCoordinates.y1,o.x2=f.x2>h.lineCoordinates.x2?f.x2:h.lineCoordinates.x2,o.y2=f.y2>f.y1?f.y2:h.lineCoordinates.y2,o.width=o.x2-o.x1,o.height=o.y2-o.y1)}else f=this.layoutManager.getFreeSpace(),o.x1=f.x1,o.x2=f.x2,o.y1=f.y1,o.y2=f.y2,o.width=f.width,o.height=f.height;te||(o.canvas.width=o.width,o.canvas.height=o.height,o.canvas.style.left=o.x1+"px",o.canvas.style.top=o.y1+"px",(0<o.x1||0<o.y1)&&o.ctx.translate(-o.x1,-o.y1)),o.layoutManager=new kt(o.x1,o.y1,o.x2,o.y2,2)},B.prototype.renderIndexLabels=function(o){var f=o||this.plotArea.ctx,h=this.plotArea,l=0,d=0,v=0,C=v=d=0,D=0,k=l=0,S=0;for(o=0;o<this._indexLabels.length;o++){var I,m,_=this._indexLabels[o],T=_.chartType.toLowerCase(),P=(C=Ke("indexLabelFontColor",_.dataPoint,_.dataSeries),Ke("indexLabelFontSize",_.dataPoint,_.dataSeries)),z=(D=Ke("indexLabelFontFamily",_.dataPoint,_.dataSeries),k=Ke("indexLabelFontStyle",_.dataPoint,_.dataSeries),S=Ke("indexLabelFontWeight",_.dataPoint,_.dataSeries),Ke("indexLabelBackgroundColor",_.dataPoint,_.dataSeries));I=Ke("indexLabelMaxWidth",_.dataPoint,_.dataSeries),m=Ke("indexLabelWrap",_.dataPoint,_.dataSeries);var U=Ke("indexLabelLineDashType",_.dataPoint,_.dataSeries),N=Ke("indexLabelLineColor",_.dataPoint,_.dataSeries),$=H(_.dataPoint.indexLabelLineThickness)?H(_.dataSeries.options.indexLabelLineThickness)?0:_.dataSeries.options.indexLabelLineThickness:_.dataPoint.indexLabelLineThickness,Z=(l=0<$?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),ie=null;(0<=_.dataSeries.type.indexOf("stacked")||"pie"===_.dataSeries.type||"doughnut"===_.dataSeries.type)&&(Z=this.getPercentAndTotal(_.dataSeries,_.dataPoint)),(_.dataSeries.indexLabelFormatter||_.dataPoint.indexLabelFormatter)&&(ie={chart:this,dataSeries:_.dataSeries,dataPoint:_.dataPoint,index:_.indexKeyword,total:Z.total,percent:Z.percent});var se=_.dataPoint.indexLabelFormatter?_.dataPoint.indexLabelFormatter(ie):_.dataPoint.indexLabel?this.replaceKeywordsWithValue(_.dataPoint.indexLabel,_.dataPoint,_.dataSeries,null,_.indexKeyword):_.dataSeries.indexLabelFormatter?_.dataSeries.indexLabelFormatter(ie):_.dataSeries.indexLabel?this.replaceKeywordsWithValue(_.dataSeries.indexLabel,_.dataPoint,_.dataSeries,null,_.indexKeyword):null;if(null!==se&&""!==se){Z=Ke("indexLabelPlacement",_.dataPoint,_.dataSeries),ie=Ke("indexLabelOrientation",_.dataPoint,_.dataSeries);var ee=Ke("indexLabelTextAlign",_.dataPoint,_.dataSeries),Ne=_.direction,et=(d=_.dataSeries.axisX,v=_.dataSeries.axisY,!1);if((z=new Ot(f,{x:0,y:0,maxWidth:I||.5*this.width,maxHeight:m?5*P:1.5*P,angle:"horizontal"===ie?0:-90,text:se,padding:0,backgroundColor:z,textAlign:ee,fontSize:P,fontFamily:D,fontWeight:S,fontColor:C,fontStyle:k,textBaseline:"middle"})).measureText(),_.dataSeries.indexLabelMaxWidth=z.maxWidth,"stackedarea100"===T){if(_.point.x<h.x1||_.point.x>h.x2||_.point.y<h.y1-1||_.point.y>h.y2+1)continue}else if("rangearea"===T||"rangesplinearea"===T){if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum||Math.max.apply(null,_.dataPoint.y)<v.viewportMinimum||Math.min.apply(null,_.dataPoint.y)>v.viewportMaximum)continue}else if(0<=T.indexOf("line")||0<=T.indexOf("area")||0<=T.indexOf("bubble")||0<=T.indexOf("scatter")){if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum||_.dataPoint.y<v.viewportMinimum||_.dataPoint.y>v.viewportMaximum)continue}else if(0<=T.indexOf("column")||"waterfall"===T||"error"===T&&!_.axisSwapped){if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum||_.bounds.y1>h.y2||_.bounds.y2<h.y1)continue}else if(0<=T.indexOf("bar")||"error"===T){if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum||_.bounds.x1>h.x2||_.bounds.x2<h.x1)continue}else if("candlestick"===T||"ohlc"===T){if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum||Math.max.apply(null,_.dataPoint.y)<v.viewportMinimum||Math.min.apply(null,_.dataPoint.y)>v.viewportMaximum)continue}else if(_.dataPoint.x<d.viewportMinimum||_.dataPoint.x>d.viewportMaximum)continue;C=D=2,"horizontal"===ie?(k=z.width,S=z.height):(S=z.width,k=z.height),"normal"===this.plotInfo.axisPlacement?(0<=T.indexOf("line")||0<=T.indexOf("area")?(Z="auto",D=4):0<=T.indexOf("stacked")?"auto"===Z&&(Z="inside"):("bubble"===T||"scatter"===T)&&(Z="inside"),I=_.point.x-("horizontal"===ie?k/2:k/2-P/2),"inside"!==Z?(d=h.y1,v=h.y2,0<Ne?(m=_.point.y+("horizontal"===ie?P/2:0)-S-D-l)<d&&(et=(m="auto"===Z?Math.max(_.point.y,d)+P/2+D:d+P/2+D)+S>_.point.y):(m=_.point.y+P/2+D+l)>v-S&&(et=(m="auto"===Z?Math.min(_.point.y,v)+P/2-S-D:v+P/2-S)<_.point.y)):(d=Math.max(_.bounds.y1,h.y1),v=Math.min(_.bounds.y2,h.y2-S+P/2),l=0<=T.indexOf("range")||"error"===T?0<Ne?Math.max(_.bounds.y1,h.y1)+P/2+D:Math.min(_.bounds.y2,h.y2)+P/2-S+D:(Math.max(_.bounds.y1,h.y1)+Math.min(_.bounds.y2,h.y2))/2-S/2+P/2+("horizontal"===ie?D:0),0<Ne?(m=Math.max(_.point.y,l))<d&&("bubble"===T||"scatter"===T)&&(m=Math.max(_.point.y-S-D,h.y1+D)):(m=Math.min(_.point.y,l))>v-S-D&&("bubble"===T||"scatter"===T)&&(m=Math.min(_.point.y+D,h.y2-S-D)),m=Math.min(m,v))):(0<=T.indexOf("line")||0<=T.indexOf("area")||0<=T.indexOf("scatter")?(Z="auto",C=4):0<=T.indexOf("stacked")?"auto"===Z&&(Z="inside"):"bubble"===T&&(Z="inside"),m=_.point.y+P/2-S/2+D,"inside"!==Z?(d=h.x1,v=h.x2,0>Ne?(I=_.point.x-("horizontal"===ie?k:k-P/2)-C-l)<d&&(et=(I="auto"===Z?Math.max(_.point.x,d)+C:d+C)+k>_.point.x):(I=_.point.x+("horizontal"===ie?0:P/2)+C+l)>v-k-C-l&&(et=(I="auto"===Z?Math.min(_.point.x,v)-("horizontal"===ie?k:k/2)-C:v-k-C)<_.point.x)):(d=Math.max(_.bounds.x1,h.x1),Math.min(_.bounds.x2,h.x2),l=0<=T.indexOf("range")||"error"===T?0>Ne?Math.max(_.bounds.x1,h.x1)+P/2+C:Math.min(_.bounds.x2,h.x2)-k/2-C+("horizontal"===ie?0:P/2):(Math.max(_.bounds.x1,h.x1)+Math.min(_.bounds.x2,h.x2))/2+("horizontal"===ie?0:P/2),I=0>Ne?Math.max(_.point.x,l)-("horizontal"===ie?k/2:0):Math.min(_.point.x,l)-k/2,I=Math.max(I,d))),"vertical"===ie&&(m+=S-P/2),z.x=I,z.y=m,z.render(!0),$&&"inside"!==Z&&(0>T.indexOf("bar")&&("error"!==T||!_.axisSwapped)&&_.point.x>h.x1&&_.point.x<h.x2||!et)&&(0>T.indexOf("column")&&("error"!==T||_.axisSwapped)&&_.point.y>h.y1&&_.point.y<h.y2||!et)&&(f.lineWidth=$,f.strokeStyle=N||"gray",f.setLineDash&&f.setLineDash(lt(U,$)),f.beginPath(),f.moveTo(_.point.x,_.point.y),0<=T.indexOf("bar")||"error"===T&&_.axisSwapped?f.lineTo(I+(0<_.direction?-C:k+C)+("vertical"===ie?-P/2:0),m+("vertical"===ie?-S/2:S/2-P/2)-D):0<=T.indexOf("column")||"error"===T&&!_.axisSwapped?f.lineTo(I+k/2-("horizontal"===ie?0:P/2),m+("vertical"===ie?(m-S<_.point.y?0:-S)+D:(m-P/2<_.point.y?S:0)-P/2)):f.lineTo(I+k/2-("horizontal"===ie?0:P/2),m+("vertical"===ie?m-S<_.point.y?0:-S:(m-P/2<_.point.y?S:0)-P/2)),f.stroke())}}for(f={source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0,startTimePercent:.7},o=0;o<this._indexLabels.length;o++)z=Ke("indexLabelBackgroundColor",(_=this._indexLabels[o]).dataPoint,_.dataSeries),_.dataSeries.indexLabelBackgroundColor=H(z)?te?"transparent":null:z;return f},B.prototype.renderLine=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;h.save();var d=this.plotArea;h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip();for(var C,v=[],D=0;D<o.dataSeriesIndexes.length;D++){var k=o.dataSeriesIndexes[D],S=this.data[k];h.lineWidth=S.lineThickness;var _=S.dataPoints,T="solid";if(h.setLineDash){var I=lt(S.nullDataLineDashType,S.lineThickness),m=lt(T=S.lineDashType,S.lineThickness);h.setLineDash(m)}this._eventManager.objectMap[P=S.id]={objectType:"dataSeries",dataSeriesIndex:k},P=Fe(P),l.strokeStyle=P,l.lineWidth=0<S.lineThickness?Math.max(S.lineThickness,4):0;var P=S._colorSet,z=P=S.lineColor=S.options.lineColor?S.options.lineColor:P[0];h.strokeStyle=P;var $,Z,U=!0,N=0;if(h.beginPath(),0<_.length){var ie=!1;for(N=0;N<_.length;N++)if(!(($=_[N].x.getTime?_[N].x.getTime():_[N].x)<o.axisX.dataInfo.viewPortMin||$>o.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!ie)))if("number"!=typeof _[N].y)0<N&&!(S.connectNullData||ie||U)&&(h.stroke(),te&&l.stroke()),ie=!0;else{$=o.axisX.convertValueToPixel($),Z=o.axisY.convertValueToPixel(_[N].y);var se=S.dataPointIds[N];if(this._eventManager.objectMap[se]={id:se,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:N,x1:$,y1:Z},U||ie?(!U&&S.connectNullData?(h.setLineDash&&(S.options.nullDataLineDashType||T===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(h.stroke(),h.beginPath(),h.moveTo(C.x,C.y),T=S.nullDataLineDashType,h.setLineDash(I)),h.lineTo($,Z),te&&l.lineTo($,Z)):(h.beginPath(),h.moveTo($,Z),te&&(l.beginPath(),l.moveTo($,Z))),ie=U=!1):(h.lineTo($,Z),te&&l.lineTo($,Z),N%500==0&&(h.stroke(),h.beginPath(),h.moveTo($,Z),te&&(l.stroke(),l.beginPath(),l.moveTo($,Z)))),C={x:$,y:Z},N<_.length-1&&(z!==(_[N].lineColor||P)||T!==(_[N].lineDashType||S.lineDashType))&&(h.stroke(),h.beginPath(),h.moveTo($,Z),h.strokeStyle=z=_[N].lineColor||P,h.setLineDash&&(_[N].lineDashType?h.setLineDash(lt(T=_[N].lineDashType,S.lineThickness)):(T=S.lineDashType,h.setLineDash(m)))),0<_[N].markerSize||0<S.markerSize){var ee=S.getMarkerProperties(N,$,Z,h);v.push(ee),se=Fe(se),te&&v.push({x:$,y:Z,ctx:l,type:ee.type,size:ee.size,color:se,borderColor:se,borderThickness:ee.borderThickness})}(_[N].indexLabel||S.indexLabel||_[N].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:_[N],dataSeries:S,point:{x:$,y:Z},direction:0>_[N].y===o.axisY.reversed?1:-1,color:P})}h.stroke(),te&&l.stroke()}}return Qt.drawMarkers(v),te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),l.beginPath()),h.restore(),h.beginPath(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderStepLine=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;h.save();var d=this.plotArea;h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip();for(var C,v=[],D=0;D<o.dataSeriesIndexes.length;D++){var k=o.dataSeriesIndexes[D],S=this.data[k];h.lineWidth=S.lineThickness;var _=S.dataPoints,T="solid";if(h.setLineDash){var I=lt(S.nullDataLineDashType,S.lineThickness),m=lt(T=S.lineDashType,S.lineThickness);h.setLineDash(m)}this._eventManager.objectMap[P=S.id]={objectType:"dataSeries",dataSeriesIndex:k},P=Fe(P),l.strokeStyle=P,l.lineWidth=0<S.lineThickness?Math.max(S.lineThickness,4):0;var P=S._colorSet,z=P=S.lineColor=S.options.lineColor?S.options.lineColor:P[0];h.strokeStyle=P;var $,Z,U=!0,N=0;if(h.beginPath(),0<_.length){var ie=!1;for(N=0;N<_.length;N++)if(!(($=_[N].getTime?_[N].x.getTime():_[N].x)<o.axisX.dataInfo.viewPortMin||$>o.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!ie)))if("number"!=typeof _[N].y)0<N&&!(S.connectNullData||ie||U)&&(h.stroke(),te&&l.stroke()),ie=!0;else{var se=Z;$=o.axisX.convertValueToPixel($),Z=o.axisY.convertValueToPixel(_[N].y);var ee=S.dataPointIds[N];this._eventManager.objectMap[ee]={id:ee,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:N,x1:$,y1:Z},U||ie?(!U&&S.connectNullData?(h.setLineDash&&(S.options.nullDataLineDashType||T===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(h.stroke(),h.beginPath(),h.moveTo(C.x,C.y),T=S.nullDataLineDashType,h.setLineDash(I)),h.lineTo($,se),h.lineTo($,Z),te&&(l.lineTo($,se),l.lineTo($,Z))):(h.beginPath(),h.moveTo($,Z),te&&(l.beginPath(),l.moveTo($,Z))),ie=U=!1):(h.lineTo($,se),te&&l.lineTo($,se),h.lineTo($,Z),te&&l.lineTo($,Z),N%500==0&&(h.stroke(),h.beginPath(),h.moveTo($,Z),te&&(l.stroke(),l.beginPath(),l.moveTo($,Z)))),C={x:$,y:Z},N<_.length-1&&(z!==(_[N].lineColor||P)||T!==(_[N].lineDashType||S.lineDashType))&&(h.stroke(),h.beginPath(),h.moveTo($,Z),h.strokeStyle=z=_[N].lineColor||P,h.setLineDash&&(_[N].lineDashType?h.setLineDash(lt(T=_[N].lineDashType,S.lineThickness)):(T=S.lineDashType,h.setLineDash(m)))),(0<_[N].markerSize||0<S.markerSize)&&(se=S.getMarkerProperties(N,$,Z,h),v.push(se),ee=Fe(ee),te&&v.push({x:$,y:Z,ctx:l,type:se.type,size:se.size,color:ee,borderColor:ee,borderThickness:se.borderThickness})),(_[N].indexLabel||S.indexLabel||_[N].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:_[N],dataSeries:S,point:{x:$,y:Z},direction:0>_[N].y===o.axisY.reversed?1:-1,color:P})}h.stroke(),te&&l.stroke()}}return Qt.drawMarkers(v),te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),l.beginPath()),h.restore(),h.beginPath(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderSpline=function(o){function f(ee){if(0<(ee=Y(ee,2)).length){l.beginPath(),te&&d.beginPath(),l.moveTo(ee[0].x,ee[0].y),ee[0].newStrokeStyle&&(l.strokeStyle=ee[0].newStrokeStyle),ee[0].newLineDashArray&&l.setLineDash(ee[0].newLineDashArray),te&&d.moveTo(ee[0].x,ee[0].y);for(var Ne=0;Ne<ee.length-3;Ne+=3)l.bezierCurveTo(ee[Ne+1].x,ee[Ne+1].y,ee[Ne+2].x,ee[Ne+2].y,ee[Ne+3].x,ee[Ne+3].y),te&&d.bezierCurveTo(ee[Ne+1].x,ee[Ne+1].y,ee[Ne+2].x,ee[Ne+2].y,ee[Ne+3].x,ee[Ne+3].y),(0<Ne&&Ne%3e3==0||ee[Ne+3].newStrokeStyle||ee[Ne+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(ee[Ne+3].x,ee[Ne+3].y),ee[Ne+3].newStrokeStyle&&(l.strokeStyle=ee[Ne+3].newStrokeStyle),ee[Ne+3].newLineDashArray&&l.setLineDash(ee[Ne+3].newLineDashArray),te&&(d.stroke(),d.beginPath(),d.moveTo(ee[Ne+3].x,ee[Ne+3].y)));l.stroke(),te&&d.stroke()}}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx;l.save();var v=this.plotArea;l.beginPath(),l.rect(v.x1,v.y1,v.width,v.height),l.clip();for(var C=[],D=0;D<o.dataSeriesIndexes.length;D++){var k=o.dataSeriesIndexes[D],S=this.data[k];l.lineWidth=S.lineThickness;var _=S.dataPoints,T="solid";if(l.setLineDash){var I=lt(S.nullDataLineDashType,S.lineThickness),m=lt(T=S.lineDashType,S.lineThickness);l.setLineDash(m)}this._eventManager.objectMap[P=S.id]={objectType:"dataSeries",dataSeriesIndex:k},P=Fe(P),d.strokeStyle=P,d.lineWidth=0<S.lineThickness?Math.max(S.lineThickness,4):0;var P=S._colorSet,z=P=S.lineColor=S.options.lineColor?S.options.lineColor:P[0];l.strokeStyle=P;var N,$,U=0,Z=[];if(l.beginPath(),0<_.length)for($=!1,U=0;U<_.length;U++)if(!((N=_[U].getTime?_[U].x.getTime():_[U].x)<o.axisX.dataInfo.viewPortMin||N>o.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!$)))if("number"!=typeof _[U].y)0<U&&!$&&(S.connectNullData?l.setLineDash&&0<Z.length&&(S.options.nullDataLineDashType||!_[U-1].lineDashType)&&(Z[Z.length-1].newLineDashArray=I,T=S.nullDataLineDashType):(f(Z),Z=[])),$=!0;else{N=o.axisX.convertValueToPixel(N),$=o.axisY.convertValueToPixel(_[U].y);var ie=S.dataPointIds[U];if(this._eventManager.objectMap[ie]={id:ie,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:U,x1:N,y1:$},Z[Z.length]={x:N,y:$},U<_.length-1&&(z!==(_[U].lineColor||P)||T!==(_[U].lineDashType||S.lineDashType))&&(Z[Z.length-1].newStrokeStyle=z=_[U].lineColor||P,l.setLineDash&&(_[U].lineDashType?Z[Z.length-1].newLineDashArray=lt(T=_[U].lineDashType,S.lineThickness):(T=S.lineDashType,Z[Z.length-1].newLineDashArray=m))),0<_[U].markerSize||0<S.markerSize){var se=S.getMarkerProperties(U,N,$,l);C.push(se),ie=Fe(ie),te&&C.push({x:N,y:$,ctx:d,type:se.type,size:se.size,color:ie,borderColor:ie,borderThickness:se.borderThickness})}(_[U].indexLabel||S.indexLabel||_[U].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:_[U],dataSeries:S,point:{x:N,y:$},direction:0>_[U].y===o.axisY.reversed?1:-1,color:P}),$=!1}f(Z)}return Qt.drawMarkers(C),te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(v.x1,v.y1,v.width,v.height),d.beginPath()),l.restore(),l.beginPath(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderColumn=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,D,l=null,d=this.plotArea,S=0,k=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),_=(S=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/o.plotType.totalDataSeries*.9)<<0),T=o.axisX.dataInfo.minDiff;for(isFinite(T)||(T=.3*Math.abs(o.axisX.range)),T=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:d.width*(o.axisX.logarithmic?Math.log(T)/Math.log(o.axisX.range):Math.abs(T)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&S>_&&(S=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<S&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,S)),T<S&&(T=S),T>_&&(T=_),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),_=0;_<o.dataSeriesIndexes.length;_++){var I=o.dataSeriesIndexes[_],m=this.data[I],P=m.dataPoints;if(0<P.length){var z=!!(5<T&&m.bevelEnabled);for(S=0;S<P.length;S++)if(!((D=P[S].getTime?P[S].x.getTime():P[S].x)<o.axisX.dataInfo.viewPortMin||D>o.axisX.dataInfo.viewPortMax)&&"number"==typeof P[S].y){v=o.axisX.convertValueToPixel(D),C=o.axisY.convertValueToPixel(P[S].y),v=o.axisX.reversed?v+o.plotType.totalDataSeries*T/2-(o.previousDataSeriesCount+_)*T<<0:v-o.plotType.totalDataSeries*T/2+(o.previousDataSeriesCount+_)*T<<0;var N,U=o.axisX.reversed?v-T<<0:v+T<<0;0<=P[S].y?N=k:(N=C,C=k),C>N&&(l=C,C=N,N=l),bn(h,o.axisX.reversed?U:v,C,o.axisX.reversed?v:U,N,l=P[S].color?P[S].color:m._colorSet[S%m._colorSet.length],0,null,z&&(o.axisY.reversed?0>P[S].y:0<=P[S].y),(o.axisY.reversed?0<=P[S].y:0>P[S].y)&&z,!1,!1,m.fillOpacity),this._eventManager.objectMap[l=m.dataPointIds[S]]={id:l,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:S,x1:v,y1:C,x2:U,y2:N},l=Fe(l),te&&bn(this._eventManager.ghostCtx,o.axisX.reversed?U:v,C,o.axisX.reversed?v:U,N,l,0,null,!1,!1,!1,!1),(P[S].indexLabel||m.indexLabel||P[S].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:P[S],dataSeries:m,point:{x:v+(U-v)/2,y:0>P[S].y===o.axisY.reversed?C:N},direction:0>P[S].y===o.axisY.reversed?1:-1,bounds:{x1:v,y1:Math.min(C,N),x2:U,y2:Math.max(C,N)},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.yScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:k<o.axisY.bounds.y1?o.axisY.bounds.y1:k>o.axisY.bounds.y2?o.axisY.bounds.y2:k}}},B.prototype.renderStackedColumn=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var S,_,l=null,d=this.plotArea,v=[],C=[],D=[],k=[],I=0,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),m=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),P=o.axisX.dataInfo.minDiff;for(isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:d.width*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var z=o.dataSeriesIndexes[m],U=this.data[z],N=U.dataPoints;if(0<N.length){var $=!!(5<P&&U.bevelEnabled);for(h.strokeStyle="#4572A7 ",I=0;I<N.length;I++)if(!((l=N[I].x.getTime?N[I].x.getTime():N[I].x)<o.axisX.dataInfo.viewPortMin||l>o.axisX.dataInfo.viewPortMax)&&"number"==typeof N[I].y){var ie,Z=(S=(S=o.axisX.convertValueToPixel(l))-o.plotType.plotUnits.length*P/2+o.index*P<<0)+P<<0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<N[I].y)D[l]=N[I].y+(D[l]?D[l]:0),0<D[l]&&(_=o.axisY.convertValueToPixel(D[l]),ie=typeof v[l]<"u"?v[l]:T,v[l]=_);else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=N[I].y)k[l]=N[I].y+(k[l]?k[l]:0),ie=o.axisY.convertValueToPixel(k[l]),_=typeof C[l]<"u"?C[l]:T,C[l]=ie;else if(_=o.axisY.convertValueToPixel(N[I].y),0<=N[I].y){var se=typeof v[l]<"u"?v[l]:0;v[l]=se+((ie=T-se)-(_-=se))}else C[l]=(se=C[l]?C[l]:0)+((ie=_+se)-(_=T+se));bn(h,S,o.axisY.reversed?ie:_,Z,o.axisY.reversed?_:ie,l=N[I].color?N[I].color:U._colorSet[I%U._colorSet.length],0,null,$&&(o.axisY.reversed?0>N[I].y:0<=N[I].y),(o.axisY.reversed?0<=N[I].y:0>N[I].y)&&$,!1,!1,U.fillOpacity),this._eventManager.objectMap[l=U.dataPointIds[I]]={id:l,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:I,x1:S,y1:_,x2:Z,y2:ie},l=Fe(l),te&&bn(this._eventManager.ghostCtx,S,_,Z,ie,l,0,null,!1,!1,!1,!1),(N[I].indexLabel||U.indexLabel||N[I].indexLabelFormatter||U.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:N[I],dataSeries:U,point:{x:S+(Z-S)/2,y:0<=N[I].y?_:ie},direction:0>N[I].y===o.axisY.reversed?1:-1,bounds:{x1:S,y1:Math.min(_,ie),x2:Z,y2:Math.max(_,ie)},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.yScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:T<o.axisY.bounds.y1?o.axisY.bounds.y1:T>o.axisY.bounds.y2?o.axisY.bounds.y2:T}}},B.prototype.renderStackedColumn100=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var S,_,l=null,d=this.plotArea,v=[],C=[],D=[],k=[],I=0,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),m=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),P=o.axisX.dataInfo.minDiff;for(isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:d.width*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var z=o.dataSeriesIndexes[m],U=this.data[z],N=U.dataPoints;if(0<N.length){var $=!!(5<P&&U.bevelEnabled);for(I=0;I<N.length;I++)if(!((l=N[I].x.getTime?N[I].x.getTime():N[I].x)<o.axisX.dataInfo.viewPortMin||l>o.axisX.dataInfo.viewPortMax)&&"number"==typeof N[I].y){S=o.axisX.convertValueToPixel(l),_=0!==o.dataPointYSums[l]?N[I].y/o.dataPointYSums[l]*100:0;var ie,Z=(S=S-o.plotType.plotUnits.length*P/2+o.index*P<<0)+P<<0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<N[I].y){if(D[l]=_+(typeof D[l]<"u"?D[l]:0),0>=D[l])continue;_=o.axisY.convertValueToPixel(D[l]),ie=v[l]?v[l]:T,v[l]=_}else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=N[I].y)k[l]=_+(typeof k[l]<"u"?k[l]:0),ie=o.axisY.convertValueToPixel(k[l]),_=C[l]?C[l]:T,C[l]=ie;else if(_=o.axisY.convertValueToPixel(_),0<=N[I].y){var se=typeof v[l]<"u"?v[l]:0;_-=se,ie=T-se,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(d.y1-_)&&(_=d.y1),v[l]=se+(ie-_)}else ie=_+(se=typeof C[l]<"u"?C[l]:0),_=T+se,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(d.y2-ie)&&(ie=d.y2),C[l]=se+(ie-_);bn(h,S,o.axisY.reversed?ie:_,Z,o.axisY.reversed?_:ie,l=N[I].color?N[I].color:U._colorSet[I%U._colorSet.length],0,null,$&&(o.axisY.reversed?0>N[I].y:0<=N[I].y),(o.axisY.reversed?0<=N[I].y:0>N[I].y)&&$,!1,!1,U.fillOpacity),this._eventManager.objectMap[l=U.dataPointIds[I]]={id:l,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:I,x1:S,y1:_,x2:Z,y2:ie},l=Fe(l),te&&bn(this._eventManager.ghostCtx,S,_,Z,ie,l,0,null,!1,!1,!1,!1),(N[I].indexLabel||U.indexLabel||N[I].indexLabelFormatter||U.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:N[I],dataSeries:U,point:{x:S+(Z-S)/2,y:0<=N[I].y?_:ie},direction:0>N[I].y===o.axisY.reversed?1:-1,bounds:{x1:S,y1:Math.min(_,ie),x2:Z,y2:Math.max(_,ie)},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.yScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:T<o.axisY.bounds.y1?o.axisY.bounds.y1:T>o.axisY.bounds.y2?o.axisY.bounds.y2:T}}},B.prototype.renderBar=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,D,l=null,d=this.plotArea,S=0,k=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),_=(S=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/o.plotType.totalDataSeries*.9)<<0),T=o.axisX.dataInfo.minDiff;for(isFinite(T)||(T=.3*Math.abs(o.axisX.range)),T=this.options.dataPointWidth?this.dataPointWidth:d.height*(o.axisX.logarithmic?Math.log(T)/Math.log(o.axisX.range):Math.abs(T)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&S>_&&(S=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<S&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,S)),T<S&&(T=S),T>_&&(T=_),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),_=0;_<o.dataSeriesIndexes.length;_++){var I=o.dataSeriesIndexes[_],m=this.data[I],P=m.dataPoints;if(0<P.length){var z=!!(5<T&&m.bevelEnabled);for(h.strokeStyle="#4572A7 ",S=0;S<P.length;S++)if(!((D=P[S].getTime?P[S].x.getTime():P[S].x)<o.axisX.dataInfo.viewPortMin||D>o.axisX.dataInfo.viewPortMax)&&"number"==typeof P[S].y){C=o.axisX.convertValueToPixel(D),v=o.axisY.convertValueToPixel(P[S].y),C=o.axisX.reversed?C+o.plotType.totalDataSeries*T/2-(o.previousDataSeriesCount+_)*T<<0:C-o.plotType.totalDataSeries*T/2+(o.previousDataSeriesCount+_)*T<<0;var N,U=o.axisX.reversed?C-T<<0:C+T<<0;0<=P[S].y?N=k:(N=v,v=k),bn(h,o.axisY.reversed?v:N,o.axisX.reversed?U:C,o.axisY.reversed?N:v,o.axisX.reversed?C:U,l=P[S].color?P[S].color:m._colorSet[S%m._colorSet.length],0,null,z,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[l=m.dataPointIds[S]]={id:l,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:S,x1:N,y1:C,x2:v,y2:U},l=Fe(l),te&&bn(this._eventManager.ghostCtx,N,o.axisX.reversed?U:C,v,o.axisX.reversed?C:U,l,0,null,!1,!1,!1,!1),(P[S].indexLabel||m.indexLabel||P[S].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:P[S],dataSeries:m,point:{x:0<=P[S].y?v:N,y:C+(U-C)/2},direction:0>P[S].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(N,v),y1:C,x2:Math.max(N,v),y2:U},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.xScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:k<o.axisY.bounds.x1?o.axisY.bounds.x1:k>o.axisY.bounds.x2?o.axisY.bounds.x2:k}}},B.prototype.renderStackedBar=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var S,_,l=null,d=this.plotArea,v=[],C=[],D=[],k=[],I=0,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),m=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),P=o.axisX.dataInfo.minDiff;for(isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:d.height*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var z=o.dataSeriesIndexes[m],U=this.data[z],N=U.dataPoints;if(0<N.length){var $=!!(5<P&&U.bevelEnabled);for(h.strokeStyle="#4572A7 ",I=0;I<N.length;I++)if(!((l=N[I].x.getTime?N[I].x.getTime():N[I].x)<o.axisX.dataInfo.viewPortMin||l>o.axisX.dataInfo.viewPortMax)&&"number"==typeof N[I].y){var ie,Z=(_=(_=o.axisX.convertValueToPixel(l))-o.plotType.plotUnits.length*P/2+o.index*P<<0)+P<<0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<N[I].y)D[l]=N[I].y+(D[l]?D[l]:0),0<D[l]&&(ie=v[l]?v[l]:T,v[l]=S=o.axisY.convertValueToPixel(D[l]));else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=N[I].y)k[l]=N[I].y+(k[l]?k[l]:0),S=C[l]?C[l]:T,C[l]=ie=o.axisY.convertValueToPixel(k[l]);else if(S=o.axisY.convertValueToPixel(N[I].y),0<=N[I].y){var se=v[l]?v[l]:0;v[l]=se+((S+=se)-(ie=T+se))}else ie=S-(se=C[l]?C[l]:0),C[l]=se+((S=T-se)-ie);bn(h,o.axisY.reversed?S:ie,_,o.axisY.reversed?ie:S,Z,l=N[I].color?N[I].color:U._colorSet[I%U._colorSet.length],0,null,$,!1,!1,!1,U.fillOpacity),this._eventManager.objectMap[l=U.dataPointIds[I]]={id:l,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:I,x1:ie,y1:_,x2:S,y2:Z},l=Fe(l),te&&bn(this._eventManager.ghostCtx,ie,_,S,Z,l,0,null,!1,!1,!1,!1),(N[I].indexLabel||U.indexLabel||N[I].indexLabelFormatter||U.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:N[I],dataSeries:U,point:{x:0<=N[I].y?S:ie,y:_+(Z-_)/2},direction:0>N[I].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(ie,S),y1:_,x2:Math.max(ie,S),y2:Z},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.xScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:T<o.axisY.bounds.x1?o.axisY.bounds.x1:T>o.axisY.bounds.x2?o.axisY.bounds.x2:T}}},B.prototype.renderStackedBar100=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var S,_,l=null,d=this.plotArea,v=[],C=[],D=[],k=[],I=0,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),m=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),P=o.axisX.dataInfo.minDiff;for(isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:d.height*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var z=o.dataSeriesIndexes[m],U=this.data[z],N=U.dataPoints;if(0<N.length){var $=!!(5<P&&U.bevelEnabled);for(h.strokeStyle="#4572A7 ",I=0;I<N.length;I++)if(!((l=N[I].x.getTime?N[I].x.getTime():N[I].x)<o.axisX.dataInfo.viewPortMin||l>o.axisX.dataInfo.viewPortMax)&&"number"==typeof N[I].y){var Z;_=o.axisX.convertValueToPixel(l),Z=0!==o.dataPointYSums[l]?N[I].y/o.dataPointYSums[l]*100:0;var ie=(_=_-o.plotType.plotUnits.length*P/2+o.index*P<<0)+P<<0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<N[I].y){if(D[l]=Z+(D[l]?D[l]:0),0>=D[l])continue;Z=v[l]?v[l]:T,v[l]=S=o.axisY.convertValueToPixel(D[l])}else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=N[I].y)k[l]=Z+(k[l]?k[l]:0),S=C[l]?C[l]:T,C[l]=Z=o.axisY.convertValueToPixel(k[l]);else if(S=o.axisY.convertValueToPixel(Z),0<=N[I].y){var se=v[l]?v[l]:0;Z=T+se,S+=se,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(d.x2-S)&&(S=d.x2),v[l]=se+(S-Z)}else Z=S-(se=C[l]?C[l]:0),S=T-se,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(d.x1-Z)&&(Z=d.x1),C[l]=se+(S-Z);bn(h,o.axisY.reversed?S:Z,_,o.axisY.reversed?Z:S,ie,l=N[I].color?N[I].color:U._colorSet[I%U._colorSet.length],0,null,$,!1,!1,!1,U.fillOpacity),this._eventManager.objectMap[l=U.dataPointIds[I]]={id:l,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:I,x1:Z,y1:_,x2:S,y2:ie},l=Fe(l),te&&bn(this._eventManager.ghostCtx,Z,_,S,ie,l,0,null,!1,!1,!1,!1),(N[I].indexLabel||U.indexLabel||N[I].indexLabelFormatter||U.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:N[I],dataSeries:U,point:{x:0<=N[I].y?S:Z,y:_+(ie-_)/2},direction:0>N[I].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(Z,S),y1:_,x2:Math.max(Z,S),y2:ie},color:l})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.xScaleAnimation,easingFunction:Xe.easing.easeOutQuart,animationBase:T<o.axisY.bounds.x1?o.axisY.bounds.x1:T>o.axisY.bounds.x2?o.axisY.bounds.x2:T}}},B.prototype.renderArea=function(o){var f,h;function l(){se&&(0<m.lineThickness&&v.stroke(),o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?ie=Z:0>o.axisY.viewportMaximum?ie=D.y1:0<o.axisY.viewportMinimum&&(ie=Z),v.lineTo(U,ie),v.lineTo(se.x,ie),v.closePath(),v.globalAlpha=m.fillOpacity,v.fill(),v.globalAlpha=1,te&&(C.lineTo(U,ie),C.lineTo(se.x,ie),C.closePath(),C.fill()),v.beginPath(),v.moveTo(U,N),C.beginPath(),C.moveTo(U,N),se={x:U,y:N})}var d=o.targetCanvasCtx||this.plotArea.ctx,v=te?this._preRenderCtx:d;if(!(0>=o.dataSeriesIndexes.length)){var _,C=this._eventManager.ghostCtx,D=o.axisY.lineCoordinates,k=[],S=this.plotArea;v.save(),te&&C.save(),v.beginPath(),v.rect(S.x1,S.y1,S.width,S.height),v.clip(),te&&(C.beginPath(),C.rect(S.x1,S.y1,S.width,S.height),C.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var I=o.dataSeriesIndexes[T],m=this.data[I],P=m.dataPoints;this._eventManager.objectMap[k=m.id]={objectType:"dataSeries",dataSeriesIndex:I},k=Fe(k),C.fillStyle=k,k=[],f=!0;var U,N,$,ie,z=0,Z=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),se=null;if(0<P.length){var ee=m._colorSet[z%m._colorSet.length],Ne=m.lineColor=m.options.lineColor||ee,et=Ne;if(v.fillStyle=ee,v.strokeStyle=Ne,v.lineWidth=m.lineThickness,h="solid",v.setLineDash){var Ie=lt(m.nullDataLineDashType,m.lineThickness),we=lt(h=m.lineDashType,m.lineThickness);v.setLineDash(we)}for(var ke=!0;z<P.length;z++)if(!(($=P[z].x.getTime?P[z].x.getTime():P[z].x)<o.axisX.dataInfo.viewPortMin||$>o.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!ke)))if("number"!=typeof P[z].y)m.connectNullData||ke||f||l(),ke=!0;else{U=o.axisX.convertValueToPixel($),N=o.axisY.convertValueToPixel(P[z].y),f||ke?(!f&&m.connectNullData?(v.setLineDash&&(m.options.nullDataLineDashType||h===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(f=U,h=N,U=_.x,N=_.y,l(),v.moveTo(_.x,_.y),U=f,N=h,se=_,h=m.nullDataLineDashType,v.setLineDash(Ie)),v.lineTo(U,N),te&&C.lineTo(U,N)):(v.beginPath(),v.moveTo(U,N),te&&(C.beginPath(),C.moveTo(U,N)),se={x:U,y:N}),ke=f=!1):(v.lineTo(U,N),te&&C.lineTo(U,N),z%250==0&&l()),_={x:U,y:N},z<P.length-1&&(et!==(P[z].lineColor||Ne)||h!==(P[z].lineDashType||m.lineDashType))&&(l(),v.strokeStyle=et=P[z].lineColor||Ne,v.setLineDash&&(P[z].lineDashType?v.setLineDash(lt(h=P[z].lineDashType,m.lineThickness)):(h=m.lineDashType,v.setLineDash(we))));var _e=m.dataPointIds[z];this._eventManager.objectMap[_e]={id:_e,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:z,x1:U,y1:N},0!==P[z].markerSize&&(0<P[z].markerSize||0<m.markerSize)&&($=m.getMarkerProperties(z,U,N,v),k.push($),_e=Fe(_e),te&&k.push({x:U,y:N,ctx:C,type:$.type,size:$.size,color:_e,borderColor:_e,borderThickness:$.borderThickness})),(P[z].indexLabel||m.indexLabel||P[z].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:P[z],dataSeries:m,point:{x:U,y:N},direction:0>P[z].y===o.axisY.reversed?1:-1,color:ee})}l(),Qt.drawMarkers(k)}}return te&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),v.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&v.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&v.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),v.clearRect(S.x1,S.y1,S.width,S.height),this._eventManager.ghostCtx.restore()),v.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderSplineArea=function(o){function f(){var ke=Y($,2);if(0<ke.length){if(0<_.lineThickness){l.beginPath(),l.moveTo(ke[0].x,ke[0].y),ke[0].newStrokeStyle&&(l.strokeStyle=ke[0].newStrokeStyle),ke[0].newLineDashArray&&l.setLineDash(ke[0].newLineDashArray);for(var _e=0;_e<ke.length-3;_e+=3)l.bezierCurveTo(ke[_e+1].x,ke[_e+1].y,ke[_e+2].x,ke[_e+2].y,ke[_e+3].x,ke[_e+3].y),te&&d.bezierCurveTo(ke[_e+1].x,ke[_e+1].y,ke[_e+2].x,ke[_e+2].y,ke[_e+3].x,ke[_e+3].y),(ke[_e+3].newStrokeStyle||ke[_e+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(ke[_e+3].x,ke[_e+3].y),ke[_e+3].newStrokeStyle&&(l.strokeStyle=ke[_e+3].newStrokeStyle),ke[_e+3].newLineDashArray&&l.setLineDash(ke[_e+3].newLineDashArray));l.stroke()}for(l.beginPath(),l.moveTo(ke[0].x,ke[0].y),te&&(d.beginPath(),d.moveTo(ke[0].x,ke[0].y)),_e=0;_e<ke.length-3;_e+=3)l.bezierCurveTo(ke[_e+1].x,ke[_e+1].y,ke[_e+2].x,ke[_e+2].y,ke[_e+3].x,ke[_e+3].y),te&&d.bezierCurveTo(ke[_e+1].x,ke[_e+1].y,ke[_e+2].x,ke[_e+2].y,ke[_e+3].x,ke[_e+3].y);o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?U=z:0>o.axisY.viewportMaximum?U=v.y1:0<o.axisY.viewportMinimum&&(U=z),N={x:ke[0].x,y:ke[0].y},l.lineTo(ke[ke.length-1].x,U),l.lineTo(N.x,U),l.closePath(),l.globalAlpha=_.fillOpacity,l.fill(),l.globalAlpha=1,te&&(d.lineTo(ke[ke.length-1].x,U),d.lineTo(N.x,U),d.closePath(),d.fill())}}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,v=o.axisY.lineCoordinates,C=[],D=this.plotArea;l.save(),te&&d.save(),l.beginPath(),l.rect(D.x1,D.y1,D.width,D.height),l.clip(),te&&(d.beginPath(),d.rect(D.x1,D.y1,D.width,D.height),d.clip());for(var k=0;k<o.dataSeriesIndexes.length;k++){var S=o.dataSeriesIndexes[k],_=this.data[S],T=_.dataPoints;this._eventManager.objectMap[C=_.id]={objectType:"dataSeries",dataSeriesIndex:S},C=Fe(C),d.fillStyle=C,C=[];var m,P,U,I=0,z=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),N=null,$=[];if(0<T.length){var Z=_._colorSet[I%_._colorSet.length],ie=_.lineColor=_.options.lineColor||Z,se=ie;l.fillStyle=Z,l.strokeStyle=ie,l.lineWidth=_.lineThickness;var ee="solid";if(l.setLineDash){var Ne=lt(_.nullDataLineDashType,_.lineThickness),et=lt(ee=_.lineDashType,_.lineThickness);l.setLineDash(et)}for(P=!1;I<T.length;I++)if(!((m=T[I].x.getTime?T[I].x.getTime():T[I].x)<o.axisX.dataInfo.viewPortMin||m>o.axisX.dataInfo.viewPortMax&&(!_.connectNullData||!P)))if("number"!=typeof T[I].y)0<I&&!P&&(_.connectNullData?l.setLineDash&&0<$.length&&(_.options.nullDataLineDashType||!T[I-1].lineDashType)&&($[$.length-1].newLineDashArray=Ne,ee=_.nullDataLineDashType):(f(),$=[])),P=!0;else{m=o.axisX.convertValueToPixel(m),P=o.axisY.convertValueToPixel(T[I].y);var Ie=_.dataPointIds[I];if(this._eventManager.objectMap[Ie]={id:Ie,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:I,x1:m,y1:P},$[$.length]={x:m,y:P},I<T.length-1&&(se!==(T[I].lineColor||ie)||ee!==(T[I].lineDashType||_.lineDashType))&&($[$.length-1].newStrokeStyle=se=T[I].lineColor||ie,l.setLineDash&&(T[I].lineDashType?$[$.length-1].newLineDashArray=lt(ee=T[I].lineDashType,_.lineThickness):(ee=_.lineDashType,$[$.length-1].newLineDashArray=et))),0!==T[I].markerSize&&(0<T[I].markerSize||0<_.markerSize)){var we=_.getMarkerProperties(I,m,P,l);C.push(we),Ie=Fe(Ie),te&&C.push({x:m,y:P,ctx:d,type:we.type,size:we.size,color:Ie,borderColor:Ie,borderThickness:we.borderThickness})}(T[I].indexLabel||_.indexLabel||T[I].indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:T[I],dataSeries:_,point:{x:m,y:P},direction:0>T[I].y===o.axisY.reversed?1:-1,color:Z}),P=!1}f(),Qt.drawMarkers(C)}}return te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(D.x1,D.y1,D.width,D.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderStepArea=function(o){var f,h;function l(){se&&(0<m.lineThickness&&v.stroke(),o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?ie=Z:0>o.axisY.viewportMaximum?ie=D.y1:0<o.axisY.viewportMinimum&&(ie=Z),v.lineTo(U,ie),v.lineTo(se.x,ie),v.closePath(),v.globalAlpha=m.fillOpacity,v.fill(),v.globalAlpha=1,te&&(C.lineTo(U,ie),C.lineTo(se.x,ie),C.closePath(),C.fill()),v.beginPath(),v.moveTo(U,N),C.beginPath(),C.moveTo(U,N),se={x:U,y:N})}var d=o.targetCanvasCtx||this.plotArea.ctx,v=te?this._preRenderCtx:d;if(!(0>=o.dataSeriesIndexes.length)){var _,C=this._eventManager.ghostCtx,D=o.axisY.lineCoordinates,k=[],S=this.plotArea;v.save(),te&&C.save(),v.beginPath(),v.rect(S.x1,S.y1,S.width,S.height),v.clip(),te&&(C.beginPath(),C.rect(S.x1,S.y1,S.width,S.height),C.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var I=o.dataSeriesIndexes[T],m=this.data[I],P=m.dataPoints;this._eventManager.objectMap[k=m.id]={objectType:"dataSeries",dataSeriesIndex:I},k=Fe(k),C.fillStyle=k,k=[],f=!0;var U,N,$,ie,z=0,Z=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),se=null;if(h=!1,0<P.length){var ee=m._colorSet[z%m._colorSet.length],Ne=m.lineColor=m.options.lineColor||ee,et=Ne;v.fillStyle=ee,v.strokeStyle=Ne,v.lineWidth=m.lineThickness;var Ie="solid";if(v.setLineDash){var we=lt(m.nullDataLineDashType,m.lineThickness),ke=lt(Ie=m.lineDashType,m.lineThickness);v.setLineDash(ke)}for(;z<P.length;z++)if(!(($=P[z].x.getTime?P[z].x.getTime():P[z].x)<o.axisX.dataInfo.viewPortMin||$>o.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!h))){var _e=N;"number"!=typeof P[z].y?(m.connectNullData||h||f||l(),h=!0):(U=o.axisX.convertValueToPixel($),N=o.axisY.convertValueToPixel(P[z].y),f||h?(!f&&m.connectNullData?(v.setLineDash&&(m.options.nullDataLineDashType||Ie===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(f=U,h=N,U=_.x,N=_.y,l(),v.moveTo(_.x,_.y),U=f,N=h,se=_,Ie=m.nullDataLineDashType,v.setLineDash(we)),v.lineTo(U,_e),v.lineTo(U,N),te&&(C.lineTo(U,_e),C.lineTo(U,N))):(v.beginPath(),v.moveTo(U,N),te&&(C.beginPath(),C.moveTo(U,N)),se={x:U,y:N}),h=f=!1):(v.lineTo(U,_e),te&&C.lineTo(U,_e),v.lineTo(U,N),te&&C.lineTo(U,N),z%250==0&&l()),_={x:U,y:N},z<P.length-1&&(et!==(P[z].lineColor||Ne)||Ie!==(P[z].lineDashType||m.lineDashType))&&(l(),v.strokeStyle=et=P[z].lineColor||Ne,v.setLineDash&&(P[z].lineDashType?v.setLineDash(lt(Ie=P[z].lineDashType,m.lineThickness)):(Ie=m.lineDashType,v.setLineDash(ke)))),this._eventManager.objectMap[$=m.dataPointIds[z]]={id:$,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:z,x1:U,y1:N},0!==P[z].markerSize&&(0<P[z].markerSize||0<m.markerSize)&&(_e=m.getMarkerProperties(z,U,N,v),k.push(_e),$=Fe($),te&&k.push({x:U,y:N,ctx:C,type:_e.type,size:_e.size,color:$,borderColor:$,borderThickness:_e.borderThickness})),(P[z].indexLabel||m.indexLabel||P[z].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:P[z],dataSeries:m,point:{x:U,y:N},direction:0>P[z].y===o.axisY.reversed?1:-1,color:ee}))}l(),Qt.drawMarkers(k)}}return te&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),v.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&v.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&v.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),v.clearRect(S.x1,S.y1,S.width,S.height),this._eventManager.ghostCtx.restore()),v.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderStackedArea=function(o){function f(){if(!(1>S.length)){for(0<ee.lineThickness&&l.stroke();0<S.length;){var xe=S.pop();l.lineTo(xe.x,xe.y),te&&U.lineTo(xe.x,xe.y)}l.closePath(),l.globalAlpha=ee.fillOpacity,l.fill(),l.globalAlpha=1,l.beginPath(),te&&(U.closePath(),U.fill(),U.beginPath()),S=[]}}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var m,P,N,$,Z,d=null,v=null,C=[],D=this.plotArea,k=[],S=[],_=[],T=[],I=0,z=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),U=this._eventManager.ghostCtx;te&&U.beginPath(),l.save(),te&&U.save(),l.beginPath(),l.rect(D.x1,D.y1,D.width,D.height),l.clip(),te&&(U.beginPath(),U.rect(D.x1,D.y1,D.width,D.height),U.clip()),d=[];for(var ie=0;ie<o.dataSeriesIndexes.length;ie++){var se=o.dataSeriesIndexes[ie],ee=this.data[se],Ne=ee.dataPoints;for(ee.dataPointIndexes=[],I=0;I<Ne.length;I++)se=Ne[I].x.getTime?Ne[I].x.getTime():Ne[I].x,ee.dataPointIndexes[se]=I,d[se]||(_.push(se),d[se]=!0);_.sort(Je)}for(ie=0;ie<o.dataSeriesIndexes.length;ie++){if(Ne=(ee=this.data[se=o.dataSeriesIndexes[ie]]).dataPoints,$=!0,S=[],this._eventManager.objectMap[I=ee.id]={objectType:"dataSeries",dataSeriesIndex:se},I=Fe(I),U.fillStyle=I,0<_.length){d=ee._colorSet[0];var et=ee.lineColor=ee.options.lineColor||d,Ie=et;if(l.fillStyle=d,l.strokeStyle=et,l.lineWidth=ee.lineThickness,Z="solid",l.setLineDash){var we=lt(ee.nullDataLineDashType,ee.lineThickness),ke=lt(Z=ee.lineDashType,ee.lineThickness);l.setLineDash(ke)}var _e=!0;for(I=0;I<_.length;I++){var ce=0<=ee.dataPointIndexes[v=_[I]]?Ne[ee.dataPointIndexes[v]]:{x:v,y:null};if(!(v<o.axisX.dataInfo.viewPortMin||v>o.axisX.dataInfo.viewPortMax&&(!ee.connectNullData||!_e)))if("number"!=typeof ce.y)ee.connectNullData||_e||$||f(),_e=!0;else{m=o.axisX.convertValueToPixel(v);var Ge=k[v]?k[v]:0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length){if(T[v]=ce.y+(T[v]?T[v]:0),0>=T[v]&&o.axisY.logarithmic)continue;P=o.axisY.convertValueToPixel(T[v])}else P=o.axisY.convertValueToPixel(ce.y),P-=Ge;if(S.push({x:m,y:z-Ge}),k[v]=z-P,$||_e?(!$&&ee.connectNullData?(l.setLineDash&&(ee.options.nullDataLineDashType||Z===ee.lineDashType&&ee.lineDashType!==ee.nullDataLineDashType)&&($=S.pop(),Z=S[S.length-1],f(),l.moveTo(N.x,N.y),S.push(Z),S.push($),Z=ee.nullDataLineDashType,l.setLineDash(we)),l.lineTo(m,P),te&&U.lineTo(m,P)):(l.beginPath(),l.moveTo(m,P),te&&(U.beginPath(),U.moveTo(m,P))),_e=$=!1):(l.lineTo(m,P),te&&U.lineTo(m,P),I%250==0&&(f(),l.moveTo(m,P),te&&U.moveTo(m,P),S.push({x:m,y:z-Ge}))),N={x:m,y:P},I<Ne.length-1&&(Ie!==(Ne[I].lineColor||et)||Z!==(Ne[I].lineDashType||ee.lineDashType))&&(f(),l.beginPath(),l.moveTo(m,P),S.push({x:m,y:z-Ge}),l.strokeStyle=Ie=Ne[I].lineColor||et,l.setLineDash&&(Ne[I].lineDashType?l.setLineDash(lt(Z=Ne[I].lineDashType,ee.lineThickness)):(Z=ee.lineDashType,l.setLineDash(ke)))),0<=ee.dataPointIndexes[v]){var $e=ee.dataPointIds[ee.dataPointIndexes[v]];this._eventManager.objectMap[$e]={id:$e,objectType:"dataPoint",dataSeriesIndex:se,dataPointIndex:ee.dataPointIndexes[v],x1:m,y1:P}}0<=ee.dataPointIndexes[v]&&0!==ce.markerSize&&(0<ce.markerSize||0<ee.markerSize)&&(Ge=ee.getMarkerProperties(ee.dataPointIndexes[v],m,P,l),C.push(Ge),v=Fe($e),te&&C.push({x:m,y:P,ctx:U,type:Ge.type,size:Ge.size,color:v,borderColor:v,borderThickness:Ge.borderThickness})),(ce.indexLabel||ee.indexLabel||ce.indexLabelFormatter||ee.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:ce,dataSeries:ee,point:{x:m,y:P},direction:0>Ne[I].y===o.axisY.reversed?1:-1,color:d})}}f(),l.moveTo(m,P),te&&U.moveTo(m,P)}delete ee.dataPointIndexes}return Qt.drawMarkers(C),te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(D.x1,D.y1,D.width,D.height),U.restore()),l.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderStackedArea100=function(o){function f(){for(0<ee.lineThickness&&l.stroke();0<S.length;){var gn=S.pop();l.lineTo(gn.x,gn.y),te&&Z.lineTo(gn.x,gn.y)}l.closePath(),l.globalAlpha=ee.fillOpacity,l.fill(),l.globalAlpha=1,l.beginPath(),te&&(Z.closePath(),Z.fill(),Z.beginPath()),S=[]}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var m,P,z,U,N,d=null,v=null,C=this.plotArea,D=[],k=[],S=[],_=[],T=[],I=0,$=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),Z=this._eventManager.ghostCtx;l.save(),te&&Z.save(),l.beginPath(),l.rect(C.x1,C.y1,C.width,C.height),l.clip(),te&&(Z.beginPath(),Z.rect(C.x1,C.y1,C.width,C.height),Z.clip()),d=[];for(var ie=0;ie<o.dataSeriesIndexes.length;ie++){var se=o.dataSeriesIndexes[ie],ee=this.data[se],Ne=ee.dataPoints;for(ee.dataPointIndexes=[],I=0;I<Ne.length;I++)se=Ne[I].x.getTime?Ne[I].x.getTime():Ne[I].x,ee.dataPointIndexes[se]=I,d[se]||(_.push(se),d[se]=!0);_.sort(Je)}for(ie=0;ie<o.dataSeriesIndexes.length;ie++){if(Ne=(ee=this.data[se=o.dataSeriesIndexes[ie]]).dataPoints,U=!0,this._eventManager.objectMap[d=ee.id]={objectType:"dataSeries",dataSeriesIndex:se},d=Fe(d),Z.fillStyle=d,S=[],0<_.length){d=ee._colorSet[I%ee._colorSet.length];var et=ee.lineColor=ee.options.lineColor||d,Ie=et;if(l.fillStyle=d,l.strokeStyle=et,l.lineWidth=ee.lineThickness,N="solid",l.setLineDash){var we=lt(ee.nullDataLineDashType,ee.lineThickness),ke=lt(N=ee.lineDashType,ee.lineThickness);l.setLineDash(ke)}var _e=!0;for(I=0;I<_.length;I++){var ce=0<=ee.dataPointIndexes[v=_[I]]?Ne[ee.dataPointIndexes[v]]:{x:v,y:null};if(!(v<o.axisX.dataInfo.viewPortMin||v>o.axisX.dataInfo.viewPortMax&&(!ee.connectNullData||!_e)))if("number"!=typeof ce.y)ee.connectNullData||_e||U||f(),_e=!0;else{var Ge;Ge=0!==o.dataPointYSums[v]?ce.y/o.dataPointYSums[v]*100:0,m=o.axisX.convertValueToPixel(v);var $e=k[v]?k[v]:0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length){if(T[v]=Ge+(T[v]?T[v]:0),0>=T[v]&&o.axisY.logarithmic)continue;P=o.axisY.convertValueToPixel(T[v])}else P=o.axisY.convertValueToPixel(Ge),P-=$e;if(S.push({x:m,y:$-$e}),k[v]=$-P,U||_e?(!U&&ee.connectNullData?(l.setLineDash&&(ee.options.nullDataLineDashType||N===ee.lineDashType&&ee.lineDashType!==ee.nullDataLineDashType)&&(U=S.pop(),N=S[S.length-1],f(),l.moveTo(z.x,z.y),S.push(N),S.push(U),N=ee.nullDataLineDashType,l.setLineDash(we)),l.lineTo(m,P),te&&Z.lineTo(m,P)):(l.beginPath(),l.moveTo(m,P),te&&(Z.beginPath(),Z.moveTo(m,P))),_e=U=!1):(l.lineTo(m,P),te&&Z.lineTo(m,P),I%250==0&&(f(),l.moveTo(m,P),te&&Z.moveTo(m,P),S.push({x:m,y:$-$e}))),z={x:m,y:P},I<Ne.length-1&&(Ie!==(Ne[I].lineColor||et)||N!==(Ne[I].lineDashType||ee.lineDashType))&&(f(),l.beginPath(),l.moveTo(m,P),S.push({x:m,y:$-$e}),l.strokeStyle=Ie=Ne[I].lineColor||et,l.setLineDash&&(Ne[I].lineDashType?l.setLineDash(lt(N=Ne[I].lineDashType,ee.lineThickness)):(N=ee.lineDashType,l.setLineDash(ke)))),0<=ee.dataPointIndexes[v]){var xe=ee.dataPointIds[ee.dataPointIndexes[v]];this._eventManager.objectMap[xe]={id:xe,objectType:"dataPoint",dataSeriesIndex:se,dataPointIndex:ee.dataPointIndexes[v],x1:m,y1:P}}0<=ee.dataPointIndexes[v]&&0!==ce.markerSize&&(0<ce.markerSize||0<ee.markerSize)&&($e=ee.getMarkerProperties(I,m,P,l),D.push($e),v=Fe(xe),te&&D.push({x:m,y:P,ctx:Z,type:$e.type,size:$e.size,color:v,borderColor:v,borderThickness:$e.borderThickness})),(ce.indexLabel||ee.indexLabel||ce.indexLabelFormatter||ee.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:ce,dataSeries:ee,point:{x:m,y:P},direction:0>Ne[I].y===o.axisY.reversed?1:-1,color:d})}}f(),l.moveTo(m,P),te&&Z.moveTo(m,P)}delete ee.dataPointIndexes}return Qt.drawMarkers(D),te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(C.x1,C.y1,C.width,C.height),Z.restore()),l.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderBubble=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,l=this.plotArea,d=0;h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(l.x1,l.y1,l.width,l.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var D=-1/0,k=1/0,S=0;S<o.dataSeriesIndexes.length;S++){var _=o.dataSeriesIndexes[S],T=this.data[_],I=T.dataPoints,m=0;for(d=0;d<I.length;d++)(v=v=I[d].getTime?I[d].x.getTime():I[d].x)<o.axisX.dataInfo.viewPortMin||v>o.axisX.dataInfo.viewPortMax||typeof I[d].z>"u"||((m=I[d].z)>D&&(D=m),m<k&&(k=m))}var P=25*Math.PI,z=Math.max(Math.pow(.25*Math.min(l.height,l.width)/2,2)*Math.PI,P);for(S=0;S<o.dataSeriesIndexes.length;S++)if(0<(I=(T=this.data[_=o.dataSeriesIndexes[S]]).dataPoints).length)for(h.strokeStyle="#4572A7 ",d=0;d<I.length;d++)if(!((v=v=I[d].getTime?I[d].x.getTime():I[d].x)<o.axisX.dataInfo.viewPortMin||v>o.axisX.dataInfo.viewPortMax)&&"number"==typeof I[d].y){v=o.axisX.convertValueToPixel(v),C=o.axisY.convertValueToPixel(I[d].y),m=I[d].z;var U=2*Math.max(Math.sqrt((D===k?z/2:P+(z-P)/(D-k)*(m-k))/Math.PI)<<0,1);(m=T.getMarkerProperties(d,h)).size=U,h.globalAlpha=T.fillOpacity,Qt.drawMarker(v,C,h,m.type,m.size,m.color,m.borderColor,m.borderThickness),h.globalAlpha=1;var N=T.dataPointIds[d];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:d,x1:v,y1:C,size:U},U=Fe(N),te&&Qt.drawMarker(v,C,this._eventManager.ghostCtx,m.type,m.size,U,U,m.borderThickness),(I[d].indexLabel||T.indexLabel||I[d].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:I[d],dataSeries:T,point:{x:v,y:C},direction:1,bounds:{x1:v-m.size/2,y1:C-m.size/2,x2:v+m.size/2,y2:C+m.size/2},color:null})}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderScatter=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,l=this.plotArea,d=0;h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(l.x1,l.y1,l.width,l.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var D=0;D<o.dataSeriesIndexes.length;D++){var k=o.dataSeriesIndexes[D],S=this.data[k],_=S.dataPoints;if(0<_.length){h.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(l.height,l.width)/2,2);var T=0,I=0;for(d=0;d<_.length;d++)if(!((v=v=_[d].getTime?_[d].x.getTime():_[d].x)<o.axisX.dataInfo.viewPortMin||v>o.axisX.dataInfo.viewPortMax)&&"number"==typeof _[d].y){v=o.axisX.convertValueToPixel(v),C=o.axisY.convertValueToPixel(_[d].y);var m=S.getMarkerProperties(d,v,C,h);h.globalAlpha=S.fillOpacity,Qt.drawMarker(m.x,m.y,m.ctx,m.type,m.size,m.color,m.borderColor,m.borderThickness),h.globalAlpha=1,Math.sqrt((T-v)*(T-v)+(I-C)*(I-C))<Math.min(m.size,5)&&_.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[T=S.dataPointIds[d]]={id:T,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:d,x1:v,y1:C},T=Fe(T),te&&Qt.drawMarker(m.x,m.y,this._eventManager.ghostCtx,m.type,m.size,T,T,m.borderThickness),(_[d].indexLabel||S.indexLabel||_[d].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:_[d],dataSeries:S,point:{x:v,y:C},direction:1,bounds:{x1:v-m.size/2,y1:C-m.size/2,x2:v+m.size/2,y2:C+m.size/2},color:null}),T=v,I=C)}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderCandlestick=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f,l=this._eventManager.ghostCtx;if(!(0>=o.dataSeriesIndexes.length)){var C,D,k,S,_,T,I=null,m=null,d=this.plotArea,v=0,P=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,o.axisX.dataInfo.minDiff);isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:.7*d.width*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&l.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(l.beginPath(),l.rect(d.x1,d.y1,d.width,d.height),l.clip());for(var z=0;z<o.dataSeriesIndexes.length;z++){var U=o.dataSeriesIndexes[z],N=this.data[U],$=N.dataPoints;if(0<$.length){var Z=!!(5<P&&N.bevelEnabled);for(v=0;v<$.length;v++)if(!((T=$[v].getTime?$[v].x.getTime():$[v].x)<o.axisX.dataInfo.viewPortMin||T>o.axisX.dataInfo.viewPortMax)&&!H($[v].y)&&$[v].y.length&&"number"==typeof $[v].y[0]&&"number"==typeof $[v].y[1]&&"number"==typeof $[v].y[2]&&"number"==typeof $[v].y[3]){C=o.axisX.convertValueToPixel(T),D=o.axisY.convertValueToPixel($[v].y[0]),k=o.axisY.convertValueToPixel($[v].y[1]),S=o.axisY.convertValueToPixel($[v].y[2]),_=o.axisY.convertValueToPixel($[v].y[3]);var ie=C-P/2<<0,se=ie+P<<0,ee=(m=N.options.fallingColor?N.fallingColor:N._colorSet[0],I=$[v].color?$[v].color:N._colorSet[0],Math.round(Math.max(1,.15*P))),Ne=ee%2==0?0:.5,et=N.dataPointIds[v];this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:U,dataPointIndex:v,x1:ie,y1:D,x2:se,y2:k,x3:C,y3:S,x4:C,y4:_,borderThickness:ee,color:I},h.strokeStyle=I,h.beginPath(),h.lineWidth=ee,l.lineWidth=Math.max(ee,4),"candlestick"===N.type?(h.moveTo(C-Ne,k),h.lineTo(C-Ne,Math.min(D,_)),h.stroke(),h.moveTo(C-Ne,Math.max(D,_)),h.lineTo(C-Ne,S),h.stroke(),bn(h,ie,Math.min(D,_),se,Math.max(D,_),$[v].y[0]<=$[v].y[3]?N.risingColor:m,ee,I,Z,Z,!1,!1,N.fillOpacity),te&&(I=Fe(et),l.strokeStyle=I,l.moveTo(C-Ne,k),l.lineTo(C-Ne,Math.min(D,_)),l.stroke(),l.moveTo(C-Ne,Math.max(D,_)),l.lineTo(C-Ne,S),l.stroke(),bn(l,ie,Math.min(D,_),se,Math.max(D,_),I,0,null,!1,!1,!1,!1))):"ohlc"===N.type&&(h.moveTo(C-Ne,k),h.lineTo(C-Ne,S),h.stroke(),h.beginPath(),h.moveTo(C,D),h.lineTo(ie,D),h.stroke(),h.beginPath(),h.moveTo(C,_),h.lineTo(se,_),h.stroke(),te&&(I=Fe(et),l.strokeStyle=I,l.moveTo(C-Ne,k),l.lineTo(C-Ne,S),l.stroke(),l.beginPath(),l.moveTo(C,D),l.lineTo(ie,D),l.stroke(),l.beginPath(),l.moveTo(C,_),l.lineTo(se,_),l.stroke())),($[v].indexLabel||N.indexLabel||$[v].indexLabelFormatter||N.indexLabelFormatter)&&this._indexLabels.push({chartType:N.type,dataPoint:$[v],dataSeries:N,point:{x:ie+(se-ie)/2,y:o.axisY.reversed?S:k},direction:1,bounds:{x1:ie,y1:Math.min(k,S),x2:se,y2:Math.max(k,S)},color:I})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),l.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderBoxAndWhisker=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f,l=this._eventManager.ghostCtx;if(!(0>=o.dataSeriesIndexes.length)){var v,C,D,k,S,_,T,I=null,d=this.plotArea,m=0,P=(I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,o.axisX.dataInfo.minDiff);isFinite(P)||(P=.3*Math.abs(o.axisX.range)),P=this.options.dataPointWidth?this.dataPointWidth:.7*d.width*(o.axisX.logarithmic?Math.log(P)/Math.log(o.axisX.range):Math.abs(P)/Math.abs(o.axisX.range))<<0,this.dataPointMaxWidth&&I>m&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<I&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),P<I&&(P=I),P>m&&(P=m),h.save(),te&&l.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(l.beginPath(),l.rect(d.x1,d.y1,d.width,d.height),l.clip());for(var z=!!o.axisY.reversed,U=0;U<o.dataSeriesIndexes.length;U++){var N=o.dataSeriesIndexes[U],$=this.data[N],Z=$.dataPoints;if(0<Z.length){var ie=!!(5<P&&$.bevelEnabled);for(m=0;m<Z.length;m++)if(!((T=Z[m].getTime?Z[m].x.getTime():Z[m].x)<o.axisX.dataInfo.viewPortMin||T>o.axisX.dataInfo.viewPortMax)&&!H(Z[m].y)&&Z[m].y.length&&"number"==typeof Z[m].y[0]&&"number"==typeof Z[m].y[1]&&"number"==typeof Z[m].y[2]&&"number"==typeof Z[m].y[3]&&"number"==typeof Z[m].y[4]&&5===Z[m].y.length){v=o.axisX.convertValueToPixel(T),C=o.axisY.convertValueToPixel(Z[m].y[0]),D=o.axisY.convertValueToPixel(Z[m].y[1]),k=o.axisY.convertValueToPixel(Z[m].y[2]),S=o.axisY.convertValueToPixel(Z[m].y[3]),_=o.axisY.convertValueToPixel(Z[m].y[4]);var se=v-P/2<<0,ee=v+P/2<<0,Ne=(I=Z[m].color?Z[m].color:$._colorSet[0],Math.round(Math.max(1,.15*P))),et=Ne%2==0?0:.5,Ie=Z[m].whiskerColor?Z[m].whiskerColor:Z[m].color?$.whiskerColor?$.whiskerColor:Z[m].color:$.whiskerColor?$.whiskerColor:I,we="number"==typeof Z[m].whiskerThickness?Z[m].whiskerThickness:"number"==typeof $.options.whiskerThickness?$.whiskerThickness:Ne,ke=Z[m].whiskerDashType?Z[m].whiskerDashType:$.whiskerDashType,_e="number"==typeof(_e=H(Z[m].whiskerLength)?H($.options.whiskerLength)?P:$.whiskerLength:Z[m].whiskerLength)?0>=_e?0:_e>=P?P:_e:"string"==typeof _e?parseInt(_e)*P/100>P?P:parseInt(_e)*P/100:P,ce=Math.round(we)%2==1?.5:0,Ge=Z[m].stemColor?Z[m].stemColor:Z[m].color?$.stemColor?$.stemColor:Z[m].color:$.stemColor?$.stemColor:I,$e="number"==typeof Z[m].stemThickness?Z[m].stemThickness:"number"==typeof $.options.stemThickness?$.stemThickness:Ne,xe=Math.round($e)%2==1?.5:0,gn=Z[m].stemDashType?Z[m].stemDashType:$.stemDashType,Tn=Z[m].lineColor?Z[m].lineColor:Z[m].color?$.lineColor?$.lineColor:Z[m].color:$.lineColor?$.lineColor:I,On="number"==typeof Z[m].lineThickness?Z[m].lineThickness:"number"==typeof $.options.lineThickness?$.lineThickness:Ne,mn=Z[m].lineDashType?Z[m].lineDashType:$.lineDashType,Yt=Math.round(On)%2==1?.5:0,Xn=$.upperBoxColor,fn=$.lowerBoxColor,dn=H($.options.fillOpacity)?1:$.fillOpacity,Zt=$.dataPointIds[m];this._eventManager.objectMap[Zt]={id:Zt,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:m,x1:se,y1:C,x2:ee,y2:D,x3:v,y3:k,x4:v,y4:S,y5:_,borderThickness:Ne,color:I,stemThickness:$e,stemColor:Ge,whiskerThickness:we,whiskerLength:_e,whiskerColor:Ie,lineThickness:On,lineColor:Tn},h.save(),0<$e&&(h.beginPath(),h.strokeStyle=Ge,h.lineWidth=$e,h.setLineDash&&h.setLineDash(lt(gn,$e)),h.moveTo(v-xe,D),h.lineTo(v-xe,C),h.stroke(),h.moveTo(v-xe,S),h.lineTo(v-xe,k),h.stroke()),h.restore(),l.lineWidth=Math.max(Ne,4),h.beginPath(),bn(h,se,Math.min(_,D),ee,Math.max(D,_),fn,0,I,!!z&&ie,!z&&ie,!1,!1,dn),h.beginPath(),bn(h,se,Math.min(k,_),ee,Math.max(_,k),Xn,0,I,!z&&ie,!!z&&ie,!1,!1,dn),h.beginPath(),h.lineWidth=Ne,h.strokeStyle=I,h.rect(se-et,Math.min(D,k)-et,ee-se+2*et,Math.max(D,k)-Math.min(D,k)+2*et),h.stroke(),h.save(),0<On&&(h.beginPath(),h.globalAlpha=1,h.setLineDash&&h.setLineDash(lt(mn,On)),h.strokeStyle=Tn,h.lineWidth=On,h.moveTo(se,_-Yt),h.lineTo(ee,_-Yt),h.stroke()),h.restore(),h.save(),0<we&&(h.beginPath(),h.setLineDash&&h.setLineDash(lt(ke,we)),h.strokeStyle=Ie,h.lineWidth=we,h.moveTo(v-_e/2<<0,S-ce),h.lineTo(v+_e/2<<0,S-ce),h.stroke(),h.moveTo(v-_e/2<<0,C+ce),h.lineTo(v+_e/2<<0,C+ce),h.stroke()),h.restore(),te&&(I=Fe(Zt),l.strokeStyle=I,l.lineWidth=$e,0<$e&&(l.moveTo(v-et-xe,D),l.lineTo(v-et-xe,Math.max(C,S)),l.stroke(),l.moveTo(v-et-xe,Math.min(C,S)),l.lineTo(v-et-xe,k),l.stroke()),bn(l,se,Math.max(D,k),ee,Math.min(D,k),I,0,null,!1,!1,!1,!1),0<we&&(l.beginPath(),l.lineWidth=we,l.moveTo(v+_e/2,S-ce),l.lineTo(v-_e/2,S-ce),l.stroke(),l.moveTo(v+_e/2,C+ce),l.lineTo(v-_e/2,C+ce),l.stroke())),(Z[m].indexLabel||$.indexLabel||Z[m].indexLabelFormatter||$.indexLabelFormatter)&&this._indexLabels.push({chartType:$.type,dataPoint:Z[m],dataSeries:$,point:{x:se+(ee-se)/2,y:o.axisY.reversed?C:S},direction:1,bounds:{x1:se,y1:Math.min(C,S),x2:ee,y2:Math.max(C,S)},color:I})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),l.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeColumn=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,D,l=null,d=this.plotArea,k=0;k=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var S=o.axisX.dataInfo.minDiff;isFinite(S)||(S=.3*Math.abs(o.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:d.width*(o.axisX.logarithmic?Math.log(S)/Math.log(o.axisX.range):Math.abs(S)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&k>v&&(k=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,v)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&v<k&&(v=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,k)),S<k&&(S=k),S>v&&(S=v),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var _=0;_<o.dataSeriesIndexes.length;_++){var T=o.dataSeriesIndexes[_],I=this.data[T],m=I.dataPoints;if(0<m.length){var P=!!(5<S&&I.bevelEnabled);for(k=0;k<m.length;k++)if(!((D=m[k].getTime?m[k].x.getTime():m[k].x)<o.axisX.dataInfo.viewPortMin||D>o.axisX.dataInfo.viewPortMax)&&!H(m[k].y)&&m[k].y.length&&"number"==typeof m[k].y[0]&&"number"==typeof m[k].y[1]){l=o.axisX.convertValueToPixel(D),v=o.axisY.convertValueToPixel(m[k].y[0]),C=o.axisY.convertValueToPixel(m[k].y[1]);var z=o.axisX.reversed?l+o.plotType.totalDataSeries*S/2-(o.previousDataSeriesCount+_)*S<<0:l-o.plotType.totalDataSeries*S/2+(o.previousDataSeriesCount+_)*S<<0,U=o.axisX.reversed?z-S<<0:z+S<<0;if(l=m[k].color?m[k].color:I._colorSet[k%I._colorSet.length],v>C){var N=v;v=C,C=N}this._eventManager.objectMap[N=I.dataPointIds[k]]={id:N,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:k,x1:z,y1:v,x2:U,y2:C},bn(h,o.axisX.reversed?U:z,v,o.axisX.reversed?z:U,C,l,0,l,P,P,!1,!1,I.fillOpacity),l=Fe(N),te&&bn(this._eventManager.ghostCtx,o.axisX.reversed?U:z,v,o.axisX.reversed?z:U,C,l,0,null,!1,!1,!1,!1),(m[k].indexLabel||I.indexLabel||m[k].indexLabelFormatter||I.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[k],dataSeries:I,indexKeyword:0,point:{x:z+(U-z)/2,y:m[k].y[1]>=m[k].y[0]?C:v},direction:m[k].y[1]>=m[k].y[0]?-1:1,bounds:{x1:z,y1:Math.min(v,C),x2:U,y2:Math.max(v,C)},color:l}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[k],dataSeries:I,indexKeyword:1,point:{x:z+(U-z)/2,y:m[k].y[1]>=m[k].y[0]?v:C},direction:m[k].y[1]>=m[k].y[0]?1:-1,bounds:{x1:z,y1:Math.min(v,C),x2:U,y2:Math.max(v,C)},color:l}))}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderError=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f,l=!!o.axisY._position&&!("left"===o.axisY._position||"right"===o.axisY._position);if(!(0>=o.dataSeriesIndexes.length)){var k,S,_,T,I,m,P,d=null,v=!1,C=this.plotArea,D=0,z=o.axisX.dataInfo.minDiff;isFinite(z)||(z=.3*Math.abs(o.axisX.range)),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(C.x1,C.y1,C.width,C.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(C.x1,C.y1,C.width,C.height),this._eventManager.ghostCtx.clip());for(var U=0,N=0;N<this.data.length;N++)!this.data[N].type.match(/(bar|column)/gi)||!this.data[N].visible||this.data[N].type.match(/(stacked)/gi)&&U||U++;for(var $=0;$<o.dataSeriesIndexes.length;$++){var Z=o.dataSeriesIndexes[$],ie=this.data[Z],se=ie.dataPoints,ee=!H(ie._linkedSeries)&&!(!ie._linkedSeries.type.match(/(bar|column)/gi)||!ie._linkedSeries.visible),Ne=0;if(ee)for(d=ie._linkedSeries.id,N=0;N<d;N++)!this.data[N].type.match(/(bar|column)/gi)||!this.data[N].visible||this.data[N].type.match(/(stacked)/gi)&&Ne||(this.data[N].type.match(/(range)/gi)&&(v=!0),Ne++);if(d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,D=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:l?Math.min(.15*this.height,this.plotArea.height/(ee?U:1)*.9)<<0:.3*this.width,v&&(D=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:l?Math.min(.15*this.height,this.plotArea.height/(ee?U:1)*.9)<<0:.03*this.width),N=this.options.dataPointWidth?this.dataPointWidth:(l?C.height:C.width)*(o.axisX.logarithmic?Math.log(z)/Math.log(o.axisX.range):Math.abs(z)/Math.abs(o.axisX.range))/(ee?U:1)*.9<<0,this.dataPointMaxWidth&&d>D&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,D)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&D<d&&(D=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),N<d&&(N=d),N>D&&(N=D),0<se.length){var et=ie._colorSet;for(D=0;D<se.length;D++){d=ie.lineColor=ie.options.color?ie.options.color:et[0];var Ie={color:se[D].whiskerColor?se[D].whiskerColor:se[D].color?ie.whiskerColor?ie.whiskerColor:se[D].color:ie.whiskerColor?ie.whiskerColor:d,thickness:H(se[D].whiskerThickness)?ie.whiskerThickness:se[D].whiskerThickness,dashType:se[D].whiskerDashType?se[D].whiskerDashType:ie.whiskerDashType,length:H(se[D].whiskerLength)?H(ie.options.whiskerLength)?N:ie.options.whiskerLength:se[D].whiskerLength,trimLength:H(se[D].whiskerLength)&&H(ie.options.whiskerLength)?50:0};Ie.length="number"==typeof Ie.length?0>=Ie.length?0:Ie.length>=N?N:Ie.length:"string"==typeof Ie.length?parseInt(Ie.length)*N/100>N?N:parseInt(Ie.length)*N/100>N:N,Ie.thickness="number"==typeof Ie.thickness?0>Ie.thickness?0:Math.round(Ie.thickness):2;var we={color:se[D].stemColor?se[D].stemColor:se[D].color?ie.stemColor?ie.stemColor:se[D].color:ie.stemColor?ie.stemColor:d,thickness:se[D].stemThickness?se[D].stemThickness:ie.stemThickness,dashType:se[D].stemDashType?se[D].stemDashType:ie.stemDashType};if(we.thickness="number"==typeof we.thickness?0>we.thickness?0:Math.round(we.thickness):2,!((P=se[D].getTime?se[D].x.getTime():se[D].x)<o.axisX.dataInfo.viewPortMin||P>o.axisX.dataInfo.viewPortMax)&&!H(se[D].y)&&se[D].y.length&&"number"==typeof se[D].y[0]&&"number"==typeof se[D].y[1]){var ke=o.axisX.convertValueToPixel(P);l?S=ke:k=ke,ke=o.axisY.convertValueToPixel(se[D].y[0]),l?_=ke:I=ke,ke=o.axisY.convertValueToPixel(se[D].y[1]),l?T=ke:m=ke,l?(I=o.axisX.reversed?S+(ee?U:1)*N/2-(ee?Ne-1:0)*N<<0:S-(ee?U:1)*N/2+(ee?Ne-1:0)*N<<0,m=o.axisX.reversed?I-N<<0:I+N<<0):(_=o.axisX.reversed?k+(ee?U:1)*N/2-(ee?Ne-1:0)*N<<0:k-(ee?U:1)*N/2+(ee?Ne-1:0)*N<<0,T=o.axisX.reversed?_-N<<0:_+N<<0),!l&&I>m&&(ke=I,I=m,m=ke),l&&_>T&&(ke=_,_=T,T=ke),this._eventManager.objectMap[ke=ie.dataPointIds[D]]={id:ke,objectType:"dataPoint",dataSeriesIndex:Z,dataPointIndex:D,x1:Math.min(_,T),y1:Math.min(I,m),x2:Math.max(T,_),y2:Math.max(m,I),isXYSwapped:l,stemProperties:we,whiskerProperties:Ie},Ce(h,Math.min(_,T),Math.min(I,m),Math.max(T,_),Math.max(m,I),d,Ie,we,l),te&&Ce(this._eventManager.ghostCtx,_,I,T,m,d,Ie,we,l),(se[D].indexLabel||ie.indexLabel||se[D].indexLabelFormatter||ie.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:se[D],dataSeries:ie,indexKeyword:0,point:{x:l?se[D].y[1]>=se[D].y[0]?_:T:_+(T-_)/2,y:l?I+(m-I)/2:se[D].y[1]>=se[D].y[0]?m:I},direction:se[D].y[1]>=se[D].y[0]?-1:1,bounds:{x1:l?Math.min(_,T):_,y1:l?I:Math.min(I,m),x2:l?Math.max(_,T):T,y2:l?m:Math.max(I,m)},color:d,axisSwapped:l}),this._indexLabels.push({chartType:"error",dataPoint:se[D],dataSeries:ie,indexKeyword:1,point:{x:l?se[D].y[1]>=se[D].y[0]?T:_:_+(T-_)/2,y:l?I+(m-I)/2:se[D].y[1]>=se[D].y[0]?I:m},direction:se[D].y[1]>=se[D].y[0]?1:-1,bounds:{x1:l?Math.min(_,T):_,y1:l?I:Math.min(I,m),x2:l?Math.max(_,T):T,y2:l?m:Math.max(I,m)},color:d,axisSwapped:l}))}}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(C.x1,C.y1,C.width,C.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeBar=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var v,C,D,k,l=null,d=this.plotArea,S=0;S=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/o.plotType.totalDataSeries*.9)<<0;var _=o.axisX.dataInfo.minDiff;isFinite(_)||(_=.3*Math.abs(o.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:d.height*(o.axisX.logarithmic?Math.log(_)/Math.log(o.axisX.range):Math.abs(_)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&S>v&&(S=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,v)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&v<S&&(v=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,S)),_<S&&(_=S),_>v&&(_=v),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var I=o.dataSeriesIndexes[T],m=this.data[I],P=m.dataPoints;if(0<P.length){var z=!!(5<_&&m.bevelEnabled);for(h.strokeStyle="#4572A7 ",S=0;S<P.length;S++)if(!((k=P[S].getTime?P[S].x.getTime():P[S].x)<o.axisX.dataInfo.viewPortMin||k>o.axisX.dataInfo.viewPortMax)&&!H(P[S].y)&&P[S].y.length&&"number"==typeof P[S].y[0]&&"number"==typeof P[S].y[1]){v=o.axisY.convertValueToPixel(P[S].y[0]),C=o.axisY.convertValueToPixel(P[S].y[1]),D=o.axisX.convertValueToPixel(k),D=o.axisX.reversed?D+o.plotType.totalDataSeries*_/2-(o.previousDataSeriesCount+T)*_<<0:D-o.plotType.totalDataSeries*_/2+(o.previousDataSeriesCount+T)*_<<0;var U=o.axisX.reversed?D-_<<0:D+_<<0;v>C&&(l=v,v=C,C=l),bn(h,v,o.axisX.reversed?U:D,C,o.axisX.reversed?D:U,l=P[S].color?P[S].color:m._colorSet[S%m._colorSet.length],0,null,z,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[l=m.dataPointIds[S]]={id:l,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:S,x1:v,y1:D,x2:C,y2:U},l=Fe(l),te&&bn(this._eventManager.ghostCtx,v,o.axisX.reversed?U:D,C,o.axisX.reversed?D:U,l,0,null,!1,!1,!1,!1),(P[S].indexLabel||m.indexLabel||P[S].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:P[S],dataSeries:m,indexKeyword:0,point:{x:P[S].y[1]>=P[S].y[0]?v:C,y:D+(U-D)/2},direction:P[S].y[1]>=P[S].y[0]?-1:1,bounds:{x1:Math.min(v,C),y1:D,x2:Math.max(v,C),y2:U},color:l}),this._indexLabels.push({chartType:"rangeBar",dataPoint:P[S],dataSeries:m,indexKeyword:1,point:{x:P[S].y[1]>=P[S].y[0]?C:v,y:D+(U-D)/2},direction:P[S].y[1]>=P[S].y[0]?1:-1,bounds:{x1:Math.min(v,C),y1:D,x2:Math.max(v,C),y2:U},color:l}))}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeArea=function(o){function f(){if($){for(var _e=null,ce=k.length-1;0<=ce;ce--)l.lineTo((_e=k[ce]).x,_e.y2),d.lineTo(_e.x,_e.y2);if(l.closePath(),l.globalAlpha=_.fillOpacity,l.fill(),l.globalAlpha=1,d.fill(),0<_.lineThickness){for(l.beginPath(),l.moveTo(_e.x,_e.y2),ce=0;ce<k.length;ce++)l.lineTo((_e=k[ce]).x,_e.y2);for(l.moveTo(k[0].x,k[0].y1),ce=0;ce<k.length;ce++)l.lineTo((_e=k[ce]).x,_e.y1);l.stroke()}l.beginPath(),l.moveTo(P,z),d.beginPath(),d.moveTo(P,z),$={x:P,y:z},(k=[]).push({x:P,y1:z,y2:U})}}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,v=[],C=this.plotArea;l.save(),te&&d.save(),l.beginPath(),l.rect(C.x1,C.y1,C.width,C.height),l.clip(),te&&(d.beginPath(),d.rect(C.x1,C.y1,C.width,C.height),d.clip());for(var D=0;D<o.dataSeriesIndexes.length;D++){var k=[],S=o.dataSeriesIndexes[D],_=this.data[S],T=_.dataPoints;this._eventManager.objectMap[v=_.id]={objectType:"dataSeries",dataSeriesIndex:S},v=Fe(v),d.fillStyle=v,v=[];var P,z,U,N,I=!0,m=0,$=null;if(0<T.length){var Z=_._colorSet[m%_._colorSet.length],ie=_.lineColor=_.options.lineColor||Z,se=ie;l.fillStyle=Z,l.strokeStyle=ie,l.lineWidth=_.lineThickness;var ee="solid";if(l.setLineDash){var Ne=lt(_.nullDataLineDashType,_.lineThickness),et=lt(ee=_.lineDashType,_.lineThickness);l.setLineDash(et)}for(var Ie=!0;m<T.length;m++)if(!((N=T[m].x.getTime?T[m].x.getTime():T[m].x)<o.axisX.dataInfo.viewPortMin||N>o.axisX.dataInfo.viewPortMax&&(!_.connectNullData||!Ie)))if(null!==T[m].y&&T[m].y.length&&"number"==typeof T[m].y[0]&&"number"==typeof T[m].y[1]){if(P=o.axisX.convertValueToPixel(N),z=o.axisY.convertValueToPixel(T[m].y[0]),U=o.axisY.convertValueToPixel(T[m].y[1]),I||Ie?(_.connectNullData&&!I?(l.setLineDash&&(_.options.nullDataLineDashType||ee===_.lineDashType&&_.lineDashType!==_.nullDataLineDashType)&&(k[k.length-1].newLineDashArray=et,ee=_.nullDataLineDashType,l.setLineDash(Ne)),l.lineTo(P,z),te&&d.lineTo(P,z),k.push({x:P,y1:z,y2:U})):(l.beginPath(),l.moveTo(P,z),$={x:P,y:z},(k=[]).push({x:P,y1:z,y2:U}),te&&(d.beginPath(),d.moveTo(P,z))),Ie=I=!1):(l.lineTo(P,z),k.push({x:P,y1:z,y2:U}),te&&d.lineTo(P,z),m%250==0&&f()),this._eventManager.objectMap[N=_.dataPointIds[m]]={id:N,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:m,x1:P,y1:z,y2:U},m<T.length-1&&(se!==(T[m].lineColor||ie)||ee!==(T[m].lineDashType||_.lineDashType))&&(f(),k[k.length-1].newStrokeStyle=se=T[m].lineColor||ie,l.strokeStyle=se,l.setLineDash&&(T[m].lineDashType?(k[k.length-1].newLineDashArray=lt(ee=T[m].lineDashType,_.lineThickness),l.setLineDash(k[k.length-1].newLineDashArray)):(ee=_.lineDashType,k[k.length-1].newLineDashArray=et,l.setLineDash(et)))),0!==T[m].markerSize&&(0<T[m].markerSize||0<_.markerSize)){var we=_.getMarkerProperties(m,P,U,l);v.push(we);var ke=Fe(N);te&&v.push({x:P,y:U,ctx:d,type:we.type,size:we.size,color:ke,borderColor:ke,borderThickness:we.borderThickness}),we=_.getMarkerProperties(m,P,z,l),v.push(we),ke=Fe(N),te&&v.push({x:P,y:z,ctx:d,type:we.type,size:we.size,color:ke,borderColor:ke,borderThickness:we.borderThickness})}(T[m].indexLabel||_.indexLabel||T[m].indexLabelFormatter||_.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:T[m],dataSeries:_,indexKeyword:0,point:{x:P,y:z},direction:T[m].y[0]>T[m].y[1]===o.axisY.reversed?-1:1,color:Z}),this._indexLabels.push({chartType:"rangeArea",dataPoint:T[m],dataSeries:_,indexKeyword:1,point:{x:P,y:U},direction:T[m].y[0]>T[m].y[1]===o.axisY.reversed?1:-1,color:Z}))}else Ie||I||f(),Ie=!0;f(),Qt.drawMarkers(v)}}return te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(C.x1,C.y1,C.width,C.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderRangeSplineArea=function(o){function f(we,ke){var _e=Y(z,2);if(0<_e.length){if(0<S.lineThickness){l.strokeStyle=ke,l.setLineDash&&l.setLineDash(we),l.beginPath(),l.moveTo(_e[0].x,_e[0].y);for(var ce=0;ce<_e.length-3;ce+=3)(_e[ce].newStrokeStyle||_e[ce].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(_e[ce].x,_e[ce].y),_e[ce].newStrokeStyle&&(l.strokeStyle=_e[ce].newStrokeStyle),_e[ce].newLineDashArray&&l.setLineDash(_e[ce].newLineDashArray)),l.bezierCurveTo(_e[ce+1].x,_e[ce+1].y,_e[ce+2].x,_e[ce+2].y,_e[ce+3].x,_e[ce+3].y)}for(l.beginPath(),l.moveTo(_e[0].x,_e[0].y),te&&(d.beginPath(),d.moveTo(_e[0].x,_e[0].y)),ce=0;ce<_e.length-3;ce+=3)l.bezierCurveTo(_e[ce+1].x,_e[ce+1].y,_e[ce+2].x,_e[ce+2].y,_e[ce+3].x,_e[ce+3].y),te&&d.bezierCurveTo(_e[ce+1].x,_e[ce+1].y,_e[ce+2].x,_e[ce+2].y,_e[ce+3].x,_e[ce+3].y);for(_e=Y(U,2),l.lineTo(U[U.length-1].x,U[U.length-1].y),ce=_e.length-1;2<ce;ce-=3)l.bezierCurveTo(_e[ce-1].x,_e[ce-1].y,_e[ce-2].x,_e[ce-2].y,_e[ce-3].x,_e[ce-3].y),te&&d.bezierCurveTo(_e[ce-1].x,_e[ce-1].y,_e[ce-2].x,_e[ce-2].y,_e[ce-3].x,_e[ce-3].y);if(l.closePath(),l.globalAlpha=S.fillOpacity,l.fill(),te&&(d.closePath(),d.fill()),l.globalAlpha=1,0<S.lineThickness){l.strokeStyle=ke,l.setLineDash&&l.setLineDash(we),l.beginPath(),l.moveTo(_e[0].x,_e[0].y);for(var Ge=ce=0;ce<_e.length-3;ce+=3,Ge++)(z[Ge].newStrokeStyle||z[Ge].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(_e[ce].x,_e[ce].y),z[Ge].newStrokeStyle&&(l.strokeStyle=z[Ge].newStrokeStyle),z[Ge].newLineDashArray&&l.setLineDash(z[Ge].newLineDashArray)),l.bezierCurveTo(_e[ce+1].x,_e[ce+1].y,_e[ce+2].x,_e[ce+2].y,_e[ce+3].x,_e[ce+3].y);for(_e=Y(z,2),l.moveTo(_e[0].x,_e[0].y),Ge=ce=0;ce<_e.length-3;ce+=3,Ge++)(z[Ge].newStrokeStyle||z[Ge].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(_e[ce].x,_e[ce].y),z[Ge].newStrokeStyle&&(l.strokeStyle=z[Ge].newStrokeStyle),z[Ge].newLineDashArray&&l.setLineDash(z[Ge].newLineDashArray)),l.bezierCurveTo(_e[ce+1].x,_e[ce+1].y,_e[ce+2].x,_e[ce+2].y,_e[ce+3].x,_e[ce+3].y);l.stroke()}l.beginPath()}}var h=o.targetCanvasCtx||this.plotArea.ctx,l=te?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,v=[],C=this.plotArea;l.save(),te&&d.save(),l.beginPath(),l.rect(C.x1,C.y1,C.width,C.height),l.clip(),te&&(d.beginPath(),d.rect(C.x1,C.y1,C.width,C.height),d.clip());for(var D=0;D<o.dataSeriesIndexes.length;D++){var k=o.dataSeriesIndexes[D],S=this.data[k],_=S.dataPoints;this._eventManager.objectMap[v=S.id]={objectType:"dataSeries",dataSeriesIndex:k},v=Fe(v),d.fillStyle=v,v=[];var I,m,P,T=0,z=[],U=[];if(0<_.length){var N=S._colorSet[T%S._colorSet.length],$=S.lineColor=S.options.lineColor||N,Z=$;l.fillStyle=N,l.lineWidth=S.lineThickness;var se,ie="solid";if(l.setLineDash){var ee=lt(S.nullDataLineDashType,S.lineThickness);se=lt(ie=S.lineDashType,S.lineThickness)}for(m=!1;T<_.length;T++)if(!((I=_[T].x.getTime?_[T].x.getTime():_[T].x)<o.axisX.dataInfo.viewPortMin||I>o.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!m)))if(null!==_[T].y&&_[T].y.length&&"number"==typeof _[T].y[0]&&"number"==typeof _[T].y[1]){I=o.axisX.convertValueToPixel(I),m=o.axisY.convertValueToPixel(_[T].y[0]),P=o.axisY.convertValueToPixel(_[T].y[1]);var Ne=S.dataPointIds[T];if(this._eventManager.objectMap[Ne]={id:Ne,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:T,x1:I,y1:m,y2:P},z[z.length]={x:I,y:m},U[U.length]={x:I,y:P},T<_.length-1&&(Z!==(_[T].lineColor||$)||ie!==(_[T].lineDashType||S.lineDashType))&&(z[z.length-1].newStrokeStyle=Z=_[T].lineColor||$,l.setLineDash&&(_[T].lineDashType?z[z.length-1].newLineDashArray=lt(ie=_[T].lineDashType,S.lineThickness):(ie=S.lineDashType,z[z.length-1].newLineDashArray=se))),0!==_[T].markerSize&&(0<_[T].markerSize||0<S.markerSize)){var et=S.getMarkerProperties(T,I,m,l);v.push(et);var Ie=Fe(Ne);te&&v.push({x:I,y:m,ctx:d,type:et.type,size:et.size,color:Ie,borderColor:Ie,borderThickness:et.borderThickness}),et=S.getMarkerProperties(T,I,P,l),v.push(et),Ie=Fe(Ne),te&&v.push({x:I,y:P,ctx:d,type:et.type,size:et.size,color:Ie,borderColor:Ie,borderThickness:et.borderThickness})}(_[T].indexLabel||S.indexLabel||_[T].indexLabelFormatter||S.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:_[T],dataSeries:S,indexKeyword:0,point:{x:I,y:m},direction:_[T].y[0]<=_[T].y[1]?-1:1,color:N}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:_[T],dataSeries:S,indexKeyword:1,point:{x:I,y:P},direction:_[T].y[0]<=_[T].y[1]?1:-1,color:N})),m=!1}else 0<T&&!m&&(S.connectNullData?l.setLineDash&&0<z.length&&(S.options.nullDataLineDashType||!_[T-1].lineDashType)&&(z[z.length-1].newLineDashArray=ee,ie=S.nullDataLineDashType):(f(se,$),z=[],U=[])),m=!0;f(se,$),Qt.drawMarkers(v)}}return te&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&l.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&l.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(C.x1,C.y1,C.width,C.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Xe.xClipAnimation,easingFunction:Xe.easing.linear,animationBase:0}}},B.prototype.renderWaterfall=function(o){var f=o.targetCanvasCtx||this.plotArea.ctx,h=te?this._preRenderCtx:f;if(!(0>=o.dataSeriesIndexes.length)){var C,D,k,S,l=this._eventManager.ghostCtx,d=null,v=this.plotArea,T=0,_=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0);T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,D=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/o.plotType.totalDataSeries*.9)<<0;var I=o.axisX.dataInfo.minDiff;isFinite(I)||(I=.3*Math.abs(o.axisX.range)),I=this.options.dataPointWidth?this.dataPointWidth:v.width*(o.axisX.logarithmic?Math.log(I)/Math.log(o.axisX.range):Math.abs(I)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&T>D&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,D)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&D<T&&(D=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T)),I<T&&(I=T),I>D&&(I=D),h.save(),te&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(v.x1,v.y1,v.width,v.height),h.clip(),te&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.clip());for(var m=0;m<o.dataSeriesIndexes.length;m++){var P=o.dataSeriesIndexes[m],z=this.data[P],U=z.dataPoints;d=z._colorSet[0],z.risingColor=z.options.risingColor?z.options.risingColor:d,z.fallingColor=z.options.fallingColor?z.options.fallingColor:"#e40a0a";var N="number"==typeof z.options.lineThickness?Math.round(z.lineThickness):1,$=Math.round(N)%2==1?-.5:0;if(0<U.length){var Z=!!(5<I&&z.bevelEnabled),ie=!1,se=null,ee=null;for(T=0;T<U.length;T++)if(S=U[T].getTime?U[T].x.getTime():U[T].x,"number"!=typeof U[T].y){if(0<T&&!ie&&z.connectNullData)var Ne=z.options.nullDataLineDashType||!U[T-1].lineDashType?z.nullDataLineDashType:U[T-1].lineDashType;ie=!0}else{C=o.axisX.convertValueToPixel(S),D=0===z.dataPointEOs[T].cumulativeSum?_:o.axisY.convertValueToPixel(z.dataPointEOs[T].cumulativeSum),k=0===z.dataPointEOs[T].cumulativeSumYStartValue?_:o.axisY.convertValueToPixel(z.dataPointEOs[T].cumulativeSumYStartValue),C=o.axisX.reversed?C+o.plotType.totalDataSeries*I/2-(o.previousDataSeriesCount+m)*I<<0:C-o.plotType.totalDataSeries*I/2+(o.previousDataSeriesCount+m)*I<<0;var et=o.axisX.reversed?C-I<<0:C+I<<0;D>k&&(d=D,D=k,k=d),o.axisY.reversed&&(d=D,D=k,k=d),this._eventManager.objectMap[d=z.dataPointIds[T]]={id:d,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:T,x1:C,y1:D,x2:et,y2:k},bn(h,o.axisX.reversed?et:C,o.axisY.reversed?k:D,o.axisX.reversed?C:et,o.axisY.reversed?D:k,we=U[T].color?U[T].color:0<U[T].y?z.risingColor:z.fallingColor,0,we,Z,Z,!1,!1,z.fillOpacity),d=Fe(d),te&&bn(this._eventManager.ghostCtx,o.axisX.reversed?et:C,D,o.axisX.reversed?C:et,k,d,0,null,!1,!1,!1,!1);var Ie,we=C;Ie=typeof U[T].isIntermediateSum<"u"&&!0===U[T].isIntermediateSum||typeof U[T].isCumulativeSum<"u"&&!0===U[T].isCumulativeSum?0<U[T].y?D:k:0<U[T].y?k:D,0<T&&se&&(!ie||z.connectNullData)&&(ie&&h.setLineDash&&h.setLineDash(lt(Ne,N)),h.beginPath(),h.moveTo(se,ee-$),h.lineTo(we,Ie-$),0<N&&h.stroke(),te&&(l.beginPath(),l.moveTo(se,ee-$),l.lineTo(we,Ie-$),0<N&&l.stroke())),ie=!1,se=et,ee=0<U[T].y?D:k,we=U[T].lineDashType?U[T].lineDashType:z.options.lineDashType?z.options.lineDashType:"shortDash",h.strokeStyle=U[T].lineColor?U[T].lineColor:z.options.lineColor?z.options.lineColor:"#9e9e9e",h.lineWidth=N,h.setLineDash&&(we=lt(we,N),h.setLineDash(we)),(U[T].indexLabel||z.indexLabel||U[T].indexLabelFormatter||z.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:U[T],dataSeries:z,point:{x:C+(et-C)/2,y:0<=U[T].y?D:k},direction:0>U[T].y===o.axisY.reversed?1:-1,bounds:{x1:C,y1:Math.min(D,k),x2:et,y2:Math.max(D,k)},color:d})}}}return te&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:Xe.fadeInAnimation,easingFunction:Xe.easing.easeInQuad,animationBase:0}}};var ft=function(o,f,h,l,d,v,C,D,k){if(!(0>h)){if(typeof D>"u"&&(D=1),!te){var S=Number((C%(2*Math.PI)).toFixed(8));Number((v%(2*Math.PI)).toFixed(8))===S&&(C-=1e-4)}o.save(),o.globalAlpha=D,"pie"===d?(o.beginPath(),o.moveTo(f.x,f.y),o.arc(f.x,f.y,h,v,C,!1),o.fillStyle=l,o.strokeStyle="white",o.lineWidth=2,o.closePath(),o.fill()):"doughnut"===d&&(o.beginPath(),o.arc(f.x,f.y,h,v,C,!1),0<=k&&o.arc(f.x,f.y,k*h,C,v,!0),o.closePath(),o.fillStyle=l,o.strokeStyle="white",o.lineWidth=2,o.fill()),o.globalAlpha=1,o.restore()}};B.prototype.renderPie=function(o){function h(Ie){var we=k.plotArea.ctx;for(we.clearRect(I.x1,I.y1,I.width,I.height),we.fillStyle=k.backgroundColor,we.fillRect(I.x1,I.y1,I.width,I.height),we=0;we<_.length;we++){var ke=m[we].startAngle,_e=m[we].endAngle;if(_e>ke){var ce=.07*ee*Math.cos(m[we].midAngle),Ge=.07*ee*Math.sin(m[we].midAngle),$e=!1;_[we].exploded?(1e-9<Math.abs(m[we].center.x-(Z.x+ce))||1e-9<Math.abs(m[we].center.y-(Z.y+Ge)))&&(m[we].center.x=Z.x+ce*Ie,m[we].center.y=Z.y+Ge*Ie,$e=!0):(0<Math.abs(m[we].center.x-Z.x)||0<Math.abs(m[we].center.y-Z.y))&&(m[we].center.x=Z.x+ce*(1-Ie),m[we].center.y=Z.y+Ge*(1-Ie),$e=!0),$e&&((ce={}).dataSeries=S,ce.dataPoint=S.dataPoints[we],ce.index=we,k.toolTip.highlightObjects([ce])),ft(k.plotArea.ctx,m[we].center,m[we].radius,_[we].color?_[we].color:S._colorSet[we%S._colorSet.length],S.type,ke,_e,S.fillOpacity,m[we].percentInnerRadius)}}for((Ie=k.plotArea.ctx).save(),Ie.fillStyle="black",Ie.strokeStyle="grey",Ie.textBaseline="middle",Ie.lineJoin="round",we=we=0;we<_.length;we++)(ke=m[we]).indexLabelText&&(ke.indexLabelTextBlock.y-=ke.indexLabelTextBlock.height/2,_e=0,ke.indexLabelTextBlock.x+=_e="left"===ke.hemisphere?"inside"!==S.indexLabelPlacement?-(ke.indexLabelTextBlock.width+T):-ke.indexLabelTextBlock.width/2:"inside"!==S.indexLabelPlacement?T:-ke.indexLabelTextBlock.width/2,ke.indexLabelTextBlock.render(!0),ke.indexLabelTextBlock.x-=_e,ke.indexLabelTextBlock.y+=ke.indexLabelTextBlock.height/2,"inside"!==ke.indexLabelPlacement&&0<ke.indexLabelLineThickness&&(_e=ke.center.x+ee*Math.cos(ke.midAngle),ce=ke.center.y+ee*Math.sin(ke.midAngle),Ie.strokeStyle=ke.indexLabelLineColor,Ie.lineWidth=ke.indexLabelLineThickness,Ie.setLineDash&&Ie.setLineDash(lt(ke.indexLabelLineDashType,ke.indexLabelLineThickness)),Ie.beginPath(),Ie.moveTo(_e,ce),Ie.lineTo(ke.indexLabelTextBlock.x,ke.indexLabelTextBlock.y),Ie.lineTo(ke.indexLabelTextBlock.x+("left"===ke.hemisphere?-T:T),ke.indexLabelTextBlock.y),Ie.stroke()),Ie.lineJoin="miter");Ie.save()}function l(Ie,we){return we.indexLabelTextBlock.y>Ie.indexLabelTextBlock.y?we.indexLabelTextBlock.y-we.indexLabelTextBlock.height/2-(Ie.indexLabelTextBlock.y+Ie.indexLabelTextBlock.height/2):Ie.indexLabelTextBlock.y-Ie.indexLabelTextBlock.height/2-(we.indexLabelTextBlock.y+we.indexLabelTextBlock.height/2)}function d(Ie){for(var we=null,ke=1;ke<_.length;ke++){if(m[we=(Ie+ke+m.length)%m.length].hemisphere!==m[Ie].hemisphere){we=null;break}if(m[we].indexLabelText&&we!==Ie&&(0>l(m[we],m[Ie])||("right"===m[Ie].hemisphere?m[we].indexLabelTextBlock.y>=m[Ie].indexLabelTextBlock.y:m[we].indexLabelTextBlock.y<=m[Ie].indexLabelTextBlock.y)))break;we=null}return we}function v(Ie,we,ke){if(1e3<(ke=(ke||0)+1))return 0;we=we||0;var _e=0,ce=Z.y-1*z,Ge=Z.y+1*z;if(0<=Ie&&Ie<_.length){var $e=m[Ie];if(0>we&&$e.indexLabelTextBlock.y<ce||0<we&&$e.indexLabelTextBlock.y>Ge)return 0;var xe=0,gn=0;for(gn=xe=xe=0,0>we?$e.indexLabelTextBlock.y-$e.indexLabelTextBlock.height/2>ce&&$e.indexLabelTextBlock.y-$e.indexLabelTextBlock.height/2+we<ce&&(we=-(ce-($e.indexLabelTextBlock.y-$e.indexLabelTextBlock.height/2+we))):$e.indexLabelTextBlock.y+$e.indexLabelTextBlock.height/2<ce&&$e.indexLabelTextBlock.y+$e.indexLabelTextBlock.height/2+we>Ge&&(we=$e.indexLabelTextBlock.y+$e.indexLabelTextBlock.height/2+we-Ge),we=$e.indexLabelTextBlock.y+we,ce=0,ce="right"===$e.hemisphere?Z.x+Math.sqrt(Math.pow(z,2)-Math.pow(we-Z.y,2)):Z.x-Math.sqrt(Math.pow(z,2)-Math.pow(we-Z.y,2)),gn=Z.x+ee*Math.cos($e.midAngle),xe=Z.y+ee*Math.sin($e.midAngle),xe=Math.sqrt(Math.pow(ce-gn,2)+Math.pow(we-xe,2)),gn=Math.acos(ee/z),we=(xe=Math.acos((z*z+ee*ee-xe*xe)/(2*ee*z)))<gn?we-$e.indexLabelTextBlock.y:0,ce=null,Ge=1;Ge<_.length;Ge++){if(m[ce=(Ie-Ge+m.length)%m.length].hemisphere!==m[Ie].hemisphere){ce=null;break}if(m[ce].indexLabelText&&m[ce].hemisphere===m[Ie].hemisphere&&ce!==Ie&&(0>l(m[ce],m[Ie])||("right"===m[Ie].hemisphere?m[ce].indexLabelTextBlock.y<=m[Ie].indexLabelTextBlock.y:m[ce].indexLabelTextBlock.y>=m[Ie].indexLabelTextBlock.y)))break;ce=null}gn=ce,xe=d(Ie),Ge=ce=0,0>we?(_e=we,null!==(Ge="right"===$e.hemisphere?gn:xe)&&(gn=-we,(we=$e.indexLabelTextBlock.y-$e.indexLabelTextBlock.height/2-(m[Ge].indexLabelTextBlock.y+m[Ge].indexLabelTextBlock.height/2))-gn<P&&+(Ge=v(Ge,ce=-gn,ke+1)).toFixed($)>+ce.toFixed($)&&(_e=we>P?-(we-P):-(gn-(Ge-ce))))):0<we&&(_e=we,null!==(Ge="right"===$e.hemisphere?xe:gn)&&(gn=we,(we=m[Ge].indexLabelTextBlock.y-m[Ge].indexLabelTextBlock.height/2-($e.indexLabelTextBlock.y+$e.indexLabelTextBlock.height/2))-gn<P&&+(Ge=v(Ge,ce=gn,ke+1)).toFixed($)<+ce.toFixed($)&&(_e=we>P?we-P:gn-(ce-Ge)))),_e&&(ke=$e.indexLabelTextBlock.y+_e,we=0,we="right"===$e.hemisphere?Z.x+Math.sqrt(Math.pow(z,2)-Math.pow(ke-Z.y,2)):Z.x-Math.sqrt(Math.pow(z,2)-Math.pow(ke-Z.y,2)),$e.midAngle>Math.PI/2-N&&$e.midAngle<Math.PI/2+N?(ce=m[ce=(Ie-1+m.length)%m.length],Ie=m[(Ie+1+m.length)%m.length],"left"===$e.hemisphere&&"right"===ce.hemisphere&&we>ce.indexLabelTextBlock.x?we=ce.indexLabelTextBlock.x-15:"right"===$e.hemisphere&&"left"===Ie.hemisphere&&we<Ie.indexLabelTextBlock.x&&(we=Ie.indexLabelTextBlock.x+15)):$e.midAngle>3*Math.PI/2-N&&$e.midAngle<3*Math.PI/2+N&&(ce=m[ce=(Ie-1+m.length)%m.length],Ie=m[(Ie+1+m.length)%m.length],"right"===$e.hemisphere&&"left"===ce.hemisphere&&we<ce.indexLabelTextBlock.x?we=ce.indexLabelTextBlock.x+15:"left"===$e.hemisphere&&"right"===Ie.hemisphere&&we>Ie.indexLabelTextBlock.x&&(we=Ie.indexLabelTextBlock.x-15)),$e.indexLabelTextBlock.y=ke,$e.indexLabelTextBlock.x=we,$e.indexLabelAngle=Math.atan2($e.indexLabelTextBlock.y-Z.y,$e.indexLabelTextBlock.x-Z.x))}return _e}function C(){(Ie=k.plotArea.ctx).fillStyle="grey",Ie.strokeStyle="grey",Ie.font="16px Arial",Ie.textBaseline="middle";var _e=Ie=0,we=0,ke=!0;for(_e=0;10>_e&&(1>_e||0<we);_e++){if((S.radius||!S.radius&&typeof S.innerRadius<"u"&&null!==S.innerRadius&&ee-we<=Ne)&&(ke=!1),ke&&(ee-=we),we=0,"inside"!==S.indexLabelPlacement){for(z=ee*U,Ie=0;Ie<_.length;Ie++)(ce=m[Ie]).indexLabelTextBlock.x=Z.x+z*Math.cos(ce.midAngle),ce.indexLabelTextBlock.y=Z.y+z*Math.sin(ce.midAngle),ce.indexLabelAngle=ce.midAngle,ce.radius=ee,ce.percentInnerRadius=et;for(var Ge,$e,Ie=0;Ie<_.length;Ie++){var ce=m[Ie],xe=d(Ie);if(null!==xe){var gn=0;if(0>(gn=l(Ge=m[Ie],$e=m[xe])-P)){for(var On=$e=0,Tn=0;Tn<_.length;Tn++)Tn!==Ie&&m[Tn].hemisphere===ce.hemisphere&&(m[Tn].indexLabelTextBlock.y<ce.indexLabelTextBlock.y?$e++:On++);On=-1*(gn-($e=gn/($e+On||1)*On));var mn=Tn=0;"right"===ce.hemisphere?(Tn=v(Ie,$e),+(mn=v(xe,On=-1*(gn-Tn))).toFixed($)<+On.toFixed($)&&+Tn.toFixed($)<=+$e.toFixed($)&&v(Ie,-(On-mn))):(Tn=v(xe,$e),+(mn=v(Ie,On=-1*(gn-Tn))).toFixed($)<+On.toFixed($)&&+Tn.toFixed($)<=+$e.toFixed($)&&v(xe,-(On-mn)))}}}}else for(Ie=0;Ie<_.length;Ie++)ce=m[Ie],xe=Z.x+(z="pie"===S.type?.7*ee:.8*ee)*Math.cos(ce.midAngle),$e=Z.y+z*Math.sin(ce.midAngle),ce.indexLabelTextBlock.x=xe,ce.indexLabelTextBlock.y=$e;for(Ie=0;Ie<_.length;Ie++)0!==(xe=(ce=m[Ie]).indexLabelTextBlock.measureText()).height&&0!==xe.width&&(xe=xe=0,"right"===ce.hemisphere?(xe=I.x2-(ce.indexLabelTextBlock.x+ce.indexLabelTextBlock.width+T),xe*=-1):xe=I.x1-(ce.indexLabelTextBlock.x-ce.indexLabelTextBlock.width-T),0<xe&&(!ke&&ce.indexLabelText&&(.3*ce.indexLabelTextBlock.maxWidth>($e="right"===ce.hemisphere?I.x2-ce.indexLabelTextBlock.x:ce.indexLabelTextBlock.x-I.x1)?ce.indexLabelText="":ce.indexLabelTextBlock.maxWidth=.85*$e,.3*ce.indexLabelTextBlock.maxWidth<$e&&(ce.indexLabelTextBlock.x-="right"===ce.hemisphere?2:-2)),Math.abs(ce.indexLabelTextBlock.y-ce.indexLabelTextBlock.height/2-Z.y)<ee||Math.abs(ce.indexLabelTextBlock.y+ce.indexLabelTextBlock.height/2-Z.y)<ee)&&(9<(xe/=Math.abs(Math.cos(ce.indexLabelAngle)))&&(xe*=.3),xe>we&&(we=xe)),xe=xe=0,0<ce.indexLabelAngle&&ce.indexLabelAngle<Math.PI?(xe=I.y2-(ce.indexLabelTextBlock.y+ce.indexLabelTextBlock.height/2+5),xe*=-1):xe=I.y1-(ce.indexLabelTextBlock.y-ce.indexLabelTextBlock.height/2-5),0<xe&&(!ke&&ce.indexLabelText&&0===v(Ie,xe*($e=0<ce.indexLabelAngle&&ce.indexLabelAngle<Math.PI?-1:1))&&v(Ie,2*$e),Math.abs(ce.indexLabelTextBlock.x-Z.x)<ee&&(9<(xe/=Math.abs(Math.sin(ce.indexLabelAngle)))&&(xe*=.3),xe>we&&(we=xe))));var Yt=function(Xn,fn,dn){for(var Zt=[],xn=0;Zt.push(m[fn]),fn!==dn;fn=(fn+1+_.length)%_.length);for(Zt.sort(function(ei,Ci){return ei.y-Ci.y}),fn=0;fn<Zt.length&&(dn=Zt[fn],xn<.7*Xn);fn++)xn+=dn.indexLabelTextBlock.height,dn.indexLabelTextBlock.text="",dn.indexLabelText="",dn.indexLabelTextBlock.measureText()};!function(){for(var Xn=-1,fn=-1,dn=0,Zt=!1,xn=0;xn<_.length;xn++)if(Zt=!1,(Ge=m[xn]).indexLabelText){var ei=d(xn);if(null!==ei){var ir,Ci=m[ei];gn=0,(ir=0>(gn=l(Ge,Ci)))&&(ir=Ge.indexLabelTextBlock.x,ir=!(Ge.indexLabelTextBlock.x+Ge.indexLabelTextBlock.width<Ci.indexLabelTextBlock.x-T||ir>Ci.indexLabelTextBlock.x+Ci.indexLabelTextBlock.width+T||Ge.indexLabelTextBlock.y-Ge.indexLabelTextBlock.height/2>Ci.indexLabelTextBlock.y+Ci.indexLabelTextBlock.height/2+T||Ge.indexLabelTextBlock.y+Ge.indexLabelTextBlock.height/2<Ci.indexLabelTextBlock.y-Ci.indexLabelTextBlock.height/2-T)),ir?(0>Xn&&(Xn=xn),ei!==Xn&&(fn=ei,dn+=-gn),xn%Math.max(_.length/10,3)==0&&(Zt=!0)):Zt=!0,Zt&&0<dn&&0<=Xn&&0<=fn&&(Yt(dn,Xn,fn),fn=Xn=-1,dn=0)}}0<dn&&Yt(dn,Xn,fn)}()}}function D(){if(k.plotArea.layoutManager.reset(),k.title&&(k.title.dockInsidePlotArea||"center"===k.title.horizontalAlign&&"center"===k.title.verticalAlign)&&k.title.render(),k.subtitles)for(var Ie=0;Ie<k.subtitles.length;Ie++){var we=k.subtitles[Ie];(we.dockInsidePlotArea||"center"===we.horizontalAlign&&"center"===we.verticalAlign)&&we.render()}k.legend&&(k.legend.dockInsidePlotArea||"center"===k.legend.horizontalAlign&&"center"===k.legend.verticalAlign)&&(k.legend.setLayout(),k.legend.render())}var k=this;if(!(0>=o.dataSeriesIndexes.length)){var z,S=this.data[o.dataSeriesIndexes[0]],_=S.dataPoints,T=10,I=this.plotArea,m=S.dataPointEOs,P=2,U=1.3,N=20/180*Math.PI,$=6,Z={x:(I.x2+I.x1)/2,y:(I.y2+I.y1)/2},ie=0;o=!1;for(var se=0;se<_.length;se++)ie+=Math.abs(_[se].y),!o&&typeof _[se].indexLabel<"u"&&null!==_[se].indexLabel&&0<_[se].indexLabel.toString().length&&(o=!0),!o&&typeof _[se].label<"u"&&null!==_[se].label&&0<_[se].label.toString().length&&(o=!0);if(0!==ie){o=o||typeof S.indexLabel<"u"&&null!==S.indexLabel&&0<S.indexLabel.toString().length;var ee="inside"!==S.indexLabelPlacement&&o?.75*Math.min(I.width,I.height)/2:.92*Math.min(I.width,I.height)/2;S.radius&&(ee=ot(S.radius,ee));var Ne=typeof S.innerRadius<"u"&&null!==S.innerRadius?ot(S.innerRadius,ee):.7*ee;S.radius=ee,"doughnut"===S.type&&(S.innerRadius=Ne);var et=Math.min(Ne/ee,(ee-1)/ee);this.pieDoughnutClickHandler=function(Ie){k.isAnimating||!H(Ie.dataSeries.explodeOnClick)&&!Ie.dataSeries.explodeOnClick||((Ie=Ie.dataPoint).exploded=!Ie.exploded,1<this.dataPoints.length&&k._animator.animate(0,500,function(we){h(we),D(),k.dispatchEvent("dataAnimationIterationEnd",{chart:k}),k.dispatchEvent("dataAnimationEnd",{chart:k})}))},function f(){if(S&&_){for(var Ie=0,we=0,ke=0,_e=0,ce=0;ce<_.length;ce++){var Ge=_[ce],$e=S.dataPointIds[ce];m[ce].id=$e,m[ce].objectType="dataPoint",m[ce].dataPointIndex=ce,m[ce].dataSeriesIndex=0;var xe=m[ce],Tn={percent:null,total:null},gn=null;Tn=k.getPercentAndTotal(S,Ge),(S.indexLabelFormatter||Ge.indexLabelFormatter)&&(gn={chart:k.options,dataSeries:S,dataPoint:Ge,total:Tn.total,percent:Tn.percent}),Tn=Ge.indexLabelFormatter?Ge.indexLabelFormatter(gn):Ge.indexLabel?k.replaceKeywordsWithValue(Ge.indexLabel,Ge,S,ce):S.indexLabelFormatter?S.indexLabelFormatter(gn):S.indexLabel?k.replaceKeywordsWithValue(S.indexLabel,Ge,S,ce):Ge.label?Ge.label:"",k._eventManager.objectMap[$e]=xe,xe.center={x:Z.x,y:Z.y},xe.y=Ge.y,xe.radius=ee,xe.percentInnerRadius=et,xe.indexLabelText=Tn,xe.indexLabelPlacement=S.indexLabelPlacement,xe.indexLabelLineColor=Ge.indexLabelLineColor?Ge.indexLabelLineColor:S.options.indexLabelLineColor?S.options.indexLabelLineColor:Ge.color?Ge.color:S._colorSet[ce%S._colorSet.length],xe.indexLabelLineThickness=H(Ge.indexLabelLineThickness)?S.indexLabelLineThickness:Ge.indexLabelLineThickness,xe.indexLabelLineDashType=Ge.indexLabelLineDashType?Ge.indexLabelLineDashType:S.indexLabelLineDashType,xe.indexLabelFontColor=Ge.indexLabelFontColor?Ge.indexLabelFontColor:S.indexLabelFontColor,xe.indexLabelFontStyle=Ge.indexLabelFontStyle?Ge.indexLabelFontStyle:S.indexLabelFontStyle,xe.indexLabelFontWeight=Ge.indexLabelFontWeight?Ge.indexLabelFontWeight:S.indexLabelFontWeight,xe.indexLabelFontSize=H(Ge.indexLabelFontSize)?S.indexLabelFontSize:Ge.indexLabelFontSize,xe.indexLabelFontFamily=Ge.indexLabelFontFamily?Ge.indexLabelFontFamily:S.indexLabelFontFamily,xe.indexLabelBackgroundColor=Ge.indexLabelBackgroundColor?Ge.indexLabelBackgroundColor:S.options.indexLabelBackgroundColor?S.options.indexLabelBackgroundColor:S.indexLabelBackgroundColor,xe.indexLabelMaxWidth=Ge.indexLabelMaxWidth?Ge.indexLabelMaxWidth:S.indexLabelMaxWidth?S.indexLabelMaxWidth:.33*I.width,xe.indexLabelWrap=typeof Ge.indexLabelWrap<"u"?Ge.indexLabelWrap:S.indexLabelWrap,xe.indexLabelTextAlign=Ge.indexLabelTextAlign?Ge.indexLabelTextAlign:S.indexLabelTextAlign?S.indexLabelTextAlign:"left",xe.startAngle=0===ce?S.startAngle?S.startAngle/180*Math.PI:0:m[ce-1].endAngle,xe.startAngle=(xe.startAngle+2*Math.PI)%(2*Math.PI),xe.endAngle=xe.startAngle+2*Math.PI/ie*Math.abs(Ge.y),Ge=((Ge=(xe.endAngle+xe.startAngle)/2)+2*Math.PI)%(2*Math.PI),xe.midAngle=Ge,xe.midAngle>Math.PI/2-N&&xe.midAngle<Math.PI/2+N?((0===Ie||m[ke].midAngle>xe.midAngle)&&(ke=ce),Ie++):xe.midAngle>3*Math.PI/2-N&&xe.midAngle<3*Math.PI/2+N&&((0===we||m[_e].midAngle>xe.midAngle)&&(_e=ce),we++),xe.hemisphere=Ge>Math.PI/2&&Ge<=3*Math.PI/2?"left":"right",xe.indexLabelTextBlock=new Ot(k.plotArea.ctx,{fontSize:xe.indexLabelFontSize,fontFamily:xe.indexLabelFontFamily,fontColor:xe.indexLabelFontColor,fontStyle:xe.indexLabelFontStyle,fontWeight:xe.indexLabelFontWeight,textAlign:xe.indexLabelTextAlign,backgroundColor:xe.indexLabelBackgroundColor,maxWidth:xe.indexLabelMaxWidth,maxHeight:xe.indexLabelWrap?5*xe.indexLabelFontSize:1.5*xe.indexLabelFontSize,text:xe.indexLabelText,padding:0,textBaseline:"top"}),xe.indexLabelTextBlock.measureText()}for($e=Ge=0,Tn=!1,ce=0;ce<_.length;ce++)xe=m[(ke+ce)%_.length],1<Ie&&xe.midAngle>Math.PI/2-N&&xe.midAngle<Math.PI/2+N&&(Ge<=Ie/2&&!Tn?(xe.hemisphere="right",Ge++):(xe.hemisphere="left",Tn=!0));for(Tn=!1,ce=0;ce<_.length;ce++)xe=m[(_e+ce)%_.length],1<we&&xe.midAngle>3*Math.PI/2-N&&xe.midAngle<3*Math.PI/2+N&&($e<=we/2&&!Tn?(xe.hemisphere="left",$e++):(xe.hemisphere="right",Tn=!0))}}(),C(),C(),C(),C(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(Ie){(we=k.plotArea.ctx).clearRect(I.x1,I.y1,I.width,I.height),we.fillStyle=k.backgroundColor,we.fillRect(I.x1,I.y1,I.width,I.height);for(var we=m[0].startAngle+2*Math.PI*Ie,ke=0;ke<_.length;ke++){var _e=0===ke?m[ke].startAngle:ce,ce=_e+(m[ke].endAngle-m[ke].startAngle),Ge=!1;if(ce>we&&(ce=we,Ge=!0),ce>_e&&ft(k.plotArea.ctx,m[ke].center,m[ke].radius,_[ke].color?_[ke].color:S._colorSet[ke%S._colorSet.length],S.type,_e,ce,S.fillOpacity,m[ke].percentInnerRadius),Ge)break}D(),k.dispatchEvent("dataAnimationIterationEnd",{chart:k}),1<=Ie&&k.dispatchEvent("dataAnimationEnd",{chart:k})},function(){k.disableToolTip=!1,k._animator.animate(0,k.animatedRender?500:0,function(Ie){h(Ie),D(),k.dispatchEvent("dataAnimationIterationEnd",{chart:k})}),k.dispatchEvent("dataAnimationEnd",{chart:k})})}}};var jt=function(o,f,h,l){typeof h>"u"&&(h=1),0>=Math.round(f.y4-f.y1)||(o.save(),o.globalAlpha=h,o.beginPath(),o.moveTo(Math.round(f.x1),Math.round(f.y1)),o.lineTo(Math.round(f.x2),Math.round(f.y2)),o.lineTo(Math.round(f.x3),Math.round(f.y3)),o.lineTo(Math.round(f.x4),Math.round(f.y4)),"undefined"!==f.x5&&(o.lineTo(Math.round(f.x5),Math.round(f.y5)),o.lineTo(Math.round(f.x6),Math.round(f.y6))),o.closePath(),o.fillStyle=l||f.color,o.fill(),o.globalAplha=1,o.restore())};B.prototype.renderFunnel=function(o){function v(){var dt,pt,Lt,Ln;if("inside"!==N.indexLabelPlacement)for(var Nt=0;Nt<Zt.length;Nt++)0==gt[Nt].textBlock.text.length?gt[Nt].isDirty=!0:(Lt=typeof(dt=Zt[Nt]).x5<"u"?(dt.y2+dt.y4)/2:(dt.y2+dt.y3)/2,pt=N.reversed?typeof dt.x5<"u"&&Lt>fn?m(Lt).x2+1:(dt.x2+dt.x3)/2+1:typeof dt.x5<"u"?Lt<fn?m(Lt).x2+1:(dt.x4+dt.x3)/2+1:(dt.x2+dt.x3)/2+1,gt[Nt].textBlock.x=pt+gn,gt[Nt].textBlock.y=Lt-gt[Nt].height/2,N.reversed?(gt[Nt].textBlock.y+gt[Nt].height>mn+ie&&(gt[Nt].textBlock.y=mn+ie-gt[Nt].height),gt[Nt].textBlock.y<dn-ie&&(gt[Nt].textBlock.y=dn-ie)):(gt[Nt].textBlock.y<mn-ie&&(gt[Nt].textBlock.y=mn-ie),gt[Nt].textBlock.y+gt[Nt].height>dn+ie&&(gt[Nt].textBlock.y=dn+ie-gt[Nt].height)));else for(Nt=0;Nt<Zt.length;Nt++)0==gt[Nt].textBlock.text.length?gt[Nt].isDirty=!0:(Ln=gt[Nt].width,(pt=(dt=Zt[Nt]).height)>=(Lt=gt[Nt].height)?(Lt=Nt!=ei?(dt.y1+dt.y3)/2-Lt/2:(dt.y1+dt.y4)/2-Lt/2,gt[Nt].textBlock.x=pt=Nt!=ei?(dt.x4+dt.x3)/2-Ln/2:(dt.x5+dt.x4)/2-Ln/2,gt[Nt].textBlock.y=Lt):gt[Nt].isDirty=!0)}function D(dt,pt){return(pt<Zt.length?gt[pt].textBlock.y:N.reversed?mn+ie:dn+ie)-(0>dt?N.reversed?dn-ie:mn-ie:gt[dt].textBlock.y+gt[dt].height+Ki)}function k(dt,pt,Lt){var Ln,Nt,on,Ri=[],Jn=ie,Kt=[];if(-1!==pt&&(0<=Un.indexOf(pt)?(Nt=Un.indexOf(pt),Un.splice(Nt,1)):(Un.push(pt),Un=Un.sort(function(ti,cn){return ti-cn}))),0===Un.length)Ri=es;else{Nt=ie*(1!=Un.length||0!=Un[0]&&Un[0]!=Zt.length-1?2:1)/function S(){for(var dt=0,pt=0;pt<Zt.length-1;pt++)(0<=Un.indexOf(pt)||0<=Un.indexOf(pt+1))&&dt++;return dt}();for(var qn=0;qn<Zt.length;qn++){if(1==Un.length&&0==Un[0]){if(0===qn){Ri.push(es[qn]),Ln=Jn;continue}}else 0===qn&&(Ln=-1*Jn);Ri.push(es[qn]+Ln),(0<=Un.indexOf(qn)||qn<Zt.length&&0<=Un.indexOf(qn+1))&&(Ln+=Nt)}}on=function(){for(var ti=[],cn=0;cn<Zt.length;cn++)ti.push(Ri[cn]-Zt[cn].y1);return ti}(),(new Date).getTime();dt._animator.animate(0,Lt,function(ti){var cn=dt.plotArea.ctx||dt.ctx;Cr=!0,cn.clearRect(Z.x1,Z.y1,Z.x2-Z.x1,Z.y2-Z.y1),cn.fillStyle=dt.backgroundColor,cn.fillRect(Z.x1,Z.y1,Z.width,Z.height),function(ti){for(var cn,wn,Jt=0;Jt<Zt.length;Jt++)cn=on[Jt],wn=Zt[Jt],cn*=ti,typeof Kt[Jt]>"u"&&(Kt[Jt]=0),0>Kt&&(Kt*=-1),wn.y1+=cn-Kt[Jt],wn.y2+=cn-Kt[Jt],wn.y3+=cn-Kt[Jt],wn.y4+=cn-Kt[Jt],wn.y5&&(wn.y5+=cn-Kt[Jt],wn.y6+=cn-Kt[Jt]),Kt[Jt]=cn}(ti);var wn={};for(wn.dataSeries=N,wn.dataPoint=N.reversed?N.dataPoints[$.length-1-pt]:N.dataPoints[pt],wn.index=N.reversed?$.length-1-pt:pt,dt.toolTip.highlightObjects([wn]),wn=0;wn<Zt.length;wn++)jt(cn,Zt[wn],N.fillOpacity);z(cn),Ie&&("inside"!==N.indexLabelPlacement?_(cn):v(),P(cn)),1<=ti&&(Cr=!1)},null,Xe.easing.easeOutQuart)}function _(dt){for(var pt,Lt,Ln,Nt,on=0;on<Zt.length;on++)pt=m(Lt=((Zt[on].y2+Zt[on].y4)/2<<0)+(Nt=gt[on].lineThickness%2==1?.5:0)).x2-1,Ln=gt[on].textBlock.x,Nt=(gt[on].textBlock.y+gt[on].height/2<<0)+Nt,gt[on].isDirty||0==gt[on].lineThickness||(dt.strokeStyle=gt[on].lineColor,dt.lineWidth=gt[on].lineThickness,dt.setLineDash&&dt.setLineDash(lt(gt[on].lineDashType,gt[on].lineThickness)),dt.beginPath(),dt.moveTo(pt,Lt),dt.lineTo(Ln,Nt),dt.stroke())}function T(dt){for(dt-=1;-1<=dt&&-1!=dt&&gt[dt].isDirty;dt--);return dt}function I(dt){for(dt+=1;dt<=Zt.length&&dt!=Zt.length&&gt[dt].isDirty;dt++);return dt}function m(dt){for(var pt,Lt=0;Lt<$.length;Lt++)if(Zt[Lt].y1<dt&&Zt[Lt].y4>dt){pt=Zt[Lt];break}return pt?{x1:dt=pt.y6&&dt>pt.y6?pt.x3+(pt.x4-pt.x3)/(pt.y4-pt.y3)*(dt-pt.y3):pt.x2+(pt.x3-pt.x2)/(pt.y3-pt.y2)*(dt-pt.y2),x2:dt}:-1}function P(dt){for(var pt=0;pt<Zt.length;pt++)gt[pt].isDirty||(dt&&(gt[pt].textBlock.ctx=dt),gt[pt].textBlock.render(!0))}function z(dt){if(U.plotArea.layoutManager.reset(),dt.roundRect||nt(dt),U.title&&(U.title.dockInsidePlotArea||"center"===U.title.horizontalAlign&&"center"===U.title.verticalAlign)&&(U.title.ctx=dt,U.title.render()),U.subtitles)for(var pt=0;pt<U.subtitles.length;pt++){var Lt=U.subtitles[pt];(Lt.dockInsidePlotArea||"center"===Lt.horizontalAlign&&"center"===Lt.verticalAlign)&&(U.subtitles.ctx=dt,Lt.render())}U.legend&&(U.legend.dockInsidePlotArea||"center"===U.legend.horizontalAlign&&"center"===U.legend.verticalAlign)&&(U.legend.ctx=dt,U.legend.setLayout(),U.legend.render()),ct.fNg&&ct.fNg(U)}var U=this;if(!(0>=o.dataSeriesIndexes.length)){for(var N=this.data[o.dataSeriesIndexes[0]],$=N.dataPoints,Z=this.plotArea,ie=.025*Z.width,se=.01*Z.width,ee=0,Ne=Z.height-2*ie,et=Math.min(Z.width-2*se,2.8*Z.height),Ie=!1,we=0;we<$.length;we++)!Ie&&typeof $[we].indexLabel<"u"&&null!==$[we].indexLabel&&0<$[we].indexLabel.toString().length&&(Ie=!0),!Ie&&typeof $[we].label<"u"&&null!==$[we].label&&0<$[we].label.toString().length&&(Ie=!0),(!Ie&&"function"==typeof N.indexLabelFormatter||"function"==typeof $[we].indexLabelFormatter)&&(Ie=!0);Ie=Ie||typeof N.indexLabel<"u"&&null!==N.indexLabel&&0<N.indexLabel.toString().length,"inside"!==N.indexLabelPlacement&&Ie||(se=(Z.width-.75*et)/2),we=Z.x1+se;var ke=Z.x2-se,_e=Z.y1+ie,ce=Z.y2-ie,Ge=o.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=N.length&&N.dataPoints&&N.visible&&0!==$.length){var $e,xe,gn=30*(ke-(o=75*et/100))/100;"funnel"===N.type?($e=H(N.options.neckHeight)?.35*Ne:N.neckHeight,xe=H(N.options.neckWidth)?.25*o:N.neckWidth,$e="string"==typeof $e&&$e.match(/%$/)?($e=parseInt($e))*Ne/100:parseInt($e),xe="string"==typeof xe&&xe.match(/%$/)?(xe=parseInt(xe))*o/100:parseInt(xe),$e>Ne?$e=Ne:0>=$e&&($e=0),xe>o?xe=o-.5:0>=xe&&(xe=0)):"pyramid"===N.type&&(xe=$e=0,N.reversed=!N.reversed);var Tn=we,On=we+o,mn=N.reversed?ce:_e,Yt=(se=we+o/2)-xe/2,Xn=se+xe/2,fn=N.reversed?_e+$e:ce-$e,dn=N.reversed?_e:ce;o=[],se=[];var ei,Zt=[],xn=(et=[],_e),Ci=(fn-mn)/(Yt-Tn),ir=-Ci;if(-1!==(we="area"===(N.valueRepresents?N.valueRepresents:"height")?function h(){var Nt,on,dt=Tn,pt=On,Lt=Yt,Ln=Xn;Nt=_e,on=ce-$e,Ln=Math.abs((on-Nt)*(pt-dt+(Ln-Lt))/2),Nt=on-Nt,on=(Lt=Xn-Yt)*(on-ce),on=Ln+(on=Math.abs(on)),Ln=[];for(var Ri=0,Jn=0;Jn<$.length;Jn++){if(typeof $[Jn].y>"u")return-1;$[Jn].y="number"==typeof $[Jn].y?$[Jn].y:0,Ri+=Math.abs($[Jn].y)}if(0===Ri)return-1;var qn,vi,ti=Ln[0]=0,Kt=0;for(pt-=dt,ti=!1,Jn=0;Jn<$.length;Jn++)dt=Math.abs($[Jn].y)*on/Ri,ti?qn=0==Number(Lt.toFixed(3))?0:dt/Lt:0>(vi=Ci*Ci*pt*pt-4*Math.abs(Ci)*dt)?(dt-=ti=(pt+(vi=Lt))*(Nt-Kt)/2,qn=Nt-Kt,Kt+=Nt-Kt,qn+=0==vi?0:dt/vi,Kt+=dt/vi,ti=!0):(vi=pt-2*(qn=(Math.abs(Ci)*pt-Math.sqrt(vi))/2)/Math.abs(Ci),(Kt+=qn)>Nt&&(ti=(pt+(vi=Lt))*(Nt-(Kt-=qn))/2,qn=Nt-Kt,Kt+=Nt-Kt,qn+=(dt-=ti)/vi,Kt+=dt/vi,ti=!0),pt=vi),Ln.push(qn);return Ln}():function f(){for(var dt=0,pt=[],Lt=0;Lt<$.length;Lt++){if(typeof $[Lt].y>"u")return-1;$[Lt].y="number"==typeof $[Lt].y?$[Lt].y:0,dt+=Math.abs($[Lt].y)}if(0===dt)return-1;for(Lt=pt[0]=0;Lt<$.length;Lt++)pt.push(Math.abs($[Lt].y)*Ne/dt);return pt}())){if(N.reversed)for(et.push(xn),xe=we.length-1;0<xe;xe--)et.push(xn+=we[xe]);else for(xe=0;xe<we.length;xe++)et.push(xn+=we[xe]);if(N.reversed)for(xe=0;xe<we.length;xe++)et[xe]<fn?(o.push(Yt),se.push(Xn),ei=xe):(o.push((et[xe]-mn+Ci*Tn)/Ci),se.push((et[xe]-mn+ir*On)/ir));else for(xe=0;xe<we.length;xe++)et[xe]<fn?(o.push((et[xe]-mn+Ci*Tn)/Ci),se.push((et[xe]-mn+ir*On)/ir),ei=xe):(o.push(Yt),se.push(Xn));for(xe=0;xe<we.length-1;xe++)xn=N.reversed?$[$.length-1-xe].color?$[$.length-1-xe].color:N._colorSet[($.length-1-xe)%N._colorSet.length]:$[xe].color?$[xe].color:N._colorSet[xe%N._colorSet.length],Zt.push(xe===ei?{x1:o[xe],y1:et[xe],x2:se[xe],y2:et[xe],x3:Xn,y3:fn,x4:se[xe+1],y4:et[xe+1],x5:o[xe+1],y5:et[xe+1],x6:Yt,y6:fn,id:xe,height:et[xe+1]-et[xe],color:xn}:{x1:o[xe],y1:et[xe],x2:se[xe],y2:et[xe],x3:se[xe+1],y3:et[xe+1],x4:o[xe+1],y4:et[xe+1],id:xe,height:et[xe+1]-et[xe],color:xn});var Ki=2,gt=[],Cr=!1,Un=[],es=[];for(we=!1,o=o=0,De(Un),xe=0;xe<$.length;xe++)$[xe].exploded&&(we=!0,Un.push(N.reversed?$.length-1-xe:xe));if(Ge.clearRect(Z.x1,Z.y1,Z.width,Z.height),Ge.fillStyle=U.backgroundColor,Ge.fillRect(Z.x1,Z.y1,Z.width,Z.height),Ie&&N.visible&&(function l(){if(N&&$){for(var dt,pt,Lt,Ln,Nt,on,Ri,Jn,Kt,qn,vi,ti,cn,wn,Jt,Fn=[],Oi=[],fi={percent:null,total:null},$i=null,_n=0;_n<$.length;_n++)Jt=m(Jt=typeof(Jt=Zt[_n]).x5<"u"?(Jt.y2+Jt.y4)/2:(Jt.y2+Jt.y3)/2).x2+1,Fn[_n]=ke-Jt-gn;Jt=.5*gn,_n=0;for(var Li=$.length-1;_n<$.length||0<=Li;_n++,Li--)dt=(pt=N.reversed?$[Li]:$[_n]).color?pt.color:N.reversed?N._colorSet[($.length-1-_n)%N._colorSet.length]:N._colorSet[_n%N._colorSet.length],Lt=pt.indexLabelPlacement||N.indexLabelPlacement||"outside",wn=pt.indexLabelTextAlign||N.indexLabelTextAlign||"left",Ln=pt.indexLabelBackgroundColor||N.indexLabelBackgroundColor||(te?"transparent":null),Nt=pt.indexLabelFontColor||N.indexLabelFontColor||"#979797",on=H(pt.indexLabelFontSize)?N.indexLabelFontSize:pt.indexLabelFontSize,Ri=pt.indexLabelFontStyle||N.indexLabelFontStyle||"normal",Jn=pt.indexLabelFontFamily||N.indexLabelFontFamily||"arial",Kt=pt.indexLabelFontWeight||N.indexLabelFontWeight||"normal",dt=pt.indexLabelLineColor||N.options.indexLabelLineColor||dt,qn="number"==typeof pt.indexLabelLineThickness?pt.indexLabelLineThickness:"number"==typeof N.indexLabelLineThickness?N.indexLabelLineThickness:2,vi=pt.indexLabelLineDashType||N.indexLabelLineDashType||"solid",ti=typeof pt.indexLabelWrap<"u"?pt.indexLabelWrap:!(typeof N.indexLabelWrap<"u")||N.indexLabelWrap,U._eventManager.objectMap[cn=N.dataPointIds[_n]]={id:cn,objectType:"dataPoint",dataPointIndex:_n,dataSeriesIndex:0,funnelSection:Zt[N.reversed?$.length-1-_n:_n]},"inside"===N.indexLabelPlacement&&(Fn[_n]=_n!==ei?N.reversed?Zt[_n].x2-Zt[_n].x1:Zt[_n].x3-Zt[_n].x4:Zt[_n].x3-Zt[_n].x6,20>Fn[_n]&&(Fn[_n]=_n!==ei&&N.reversed?Zt[_n].x3-Zt[_n].x4:Zt[_n].x2-Zt[_n].x1,Fn[_n]/=2)),((cn=pt.indexLabelMaxWidth?pt.indexLabelMaxWidth:N.options.indexLabelMaxWidth?N.indexLabelMaxWidth:Fn[_n])>Fn[_n]||0>cn)&&(cn=Fn[_n]),Oi[_n]="inside"===N.indexLabelPlacement&&Zt[_n].height,fi=U.getPercentAndTotal(N,pt),(N.indexLabelFormatter||pt.indexLabelFormatter)&&($i={chart:U.options,dataSeries:N,dataPoint:pt,total:fi.total,percent:fi.percent}),pt=pt.indexLabelFormatter?pt.indexLabelFormatter($i):pt.indexLabel?U.replaceKeywordsWithValue(pt.indexLabel,pt,N,_n):N.indexLabelFormatter?N.indexLabelFormatter($i):N.indexLabel?U.replaceKeywordsWithValue(N.indexLabel,pt,N,_n):pt.label?pt.label:"",0>=qn&&(qn=0),1e3>cn&&1e3-cn<Jt&&(cn+=1e3-cn),Ge.roundRect||nt(Ge),(Lt=new Ot(Ge,{fontSize:on,fontFamily:Jn,fontColor:Nt,fontStyle:Ri,fontWeight:Kt,horizontalAlign:Lt,textAlign:wn,backgroundColor:Ln,maxWidth:cn,maxHeight:!1===Oi[_n]?ti?4.28571429*on:1.5*on:Oi[_n],text:pt,padding:Ki})).measureText(),gt.push({textBlock:Lt,id:N.reversed?Li:_n,isDirty:!1,lineColor:dt,lineThickness:qn,lineDashType:vi,height:Lt.height<Lt.maxHeight?Lt.height:Lt.maxHeight,width:Lt.width<Lt.maxWidth?Lt.width:Lt.maxWidth})}}(),v(),function d(){var dt,pt,Lt,Ln,Nt,on=[];Nt=!1,Lt=0;for(var Ri,Jn=ke-On-gn/2,Kt=(Jn=N.options.indexLabelMaxWidth?N.indexLabelMaxWidth>Jn?Jn:N.indexLabelMaxWidth:Jn,gt.length-1);0<=Kt;Kt--)Ri=$[gt[Kt].id],Ln=(Lt=gt[Kt]).textBlock,pt=(dt=I(Kt)<Zt.length?gt[I(Kt)]:null)?dt.textBlock:null,Lt=Lt.height,dt&&Ln.y+Lt+Ki>pt.y&&(Nt=!0),((Lt=Ri.indexLabelMaxWidth||Jn)>Jn||0>Lt)&&(Lt=Jn),on.push(Lt);if(Nt)for(Kt=gt.length-1;0<=Kt;Kt--)dt=Zt[Kt],gt[Kt].textBlock.maxWidth=on[on.length-(Kt+1)],gt[Kt].textBlock.measureText(),gt[Kt].textBlock.x=ke-Jn,Nt=gt[Kt].textBlock.width<gt[Kt].textBlock.maxWidth?gt[Kt].textBlock.width:gt[Kt].textBlock.maxWidth,gt[Kt].height=Lt=gt[Kt].textBlock.height<gt[Kt].textBlock.maxHeight?gt[Kt].textBlock.height:gt[Kt].textBlock.maxHeight,gt[Kt].width=Nt,gt[Kt].textBlock.y=(Lt=typeof dt.x5<"u"?(dt.y2+dt.y4)/2:(dt.y2+dt.y3)/2)-gt[Kt].height/2,N.reversed?(gt[Kt].textBlock.y+gt[Kt].height>mn+ie&&(gt[Kt].textBlock.y=mn+ie-gt[Kt].height),gt[Kt].textBlock.y<dn-ie&&(gt[Kt].textBlock.y=dn-ie)):(gt[Kt].textBlock.y<mn-ie&&(gt[Kt].textBlock.y=mn-ie),gt[Kt].textBlock.y+gt[Kt].height>dn+ie&&(gt[Kt].textBlock.y=dn+ie-gt[Kt].height))}(),"inside"!==N.indexLabelPlacement)){for(function C(){function dt(cn,wn){var Jt;if(0>cn||cn>=gt.length)return 0;var Fn,Oi=gt[cn].textBlock;return 0>wn?(wn*=-1,(Jt=D(Fn=T(cn),cn))>=wn?(Oi.y-=wn,wn):0==cn?(0<Jt&&(Oi.y-=Jt),Jt):(0<(Jt+=dt(Fn,-(wn-Jt)))&&(Oi.y-=Jt),Jt)):(Jt=D(cn,Fn=I(cn)))>=wn?(Oi.y+=wn,wn):cn==Zt.length-1?(0<Jt&&(Oi.y+=Jt),Jt):(0<(Jt+=dt(Fn,wn-Jt))&&(Oi.y+=Jt),Jt)}function pt(){var cn,wn,Jt,Fn,fi,Oi=0;Fn=(ce-_e+2*ie)/qn,fi=qn;for(var $i,_n=1;_n<fi;_n++){Jt=_n*Fn;for(var Li=gt.length-1;0<=Li;Li--)!gt[Li].isDirty&&gt[Li].textBlock.y<Jt&&gt[Li].textBlock.y+gt[Li].height>Jt&&!(($i=I(Li))>=gt.length-1)&&gt[Li].textBlock.y+gt[Li].height+Ki>gt[$i].textBlock.y&&(gt[Li].textBlock.y=gt[Li].textBlock.y+gt[Li].height-Jt>Jt-gt[Li].textBlock.y?Jt+1:Jt-gt[Li].height-1)}for($i=Zt.length-1;0<$i;$i--)if(!gt[$i].isDirty){if(0>(Jt=T($i))&&gt[Jt=0].isDirty)break;if(gt[$i].textBlock.y<gt[Jt].textBlock.y+gt[Jt].height){for(wn=wn||$i,Fn=$i,fi=0;gt[Fn].textBlock.y<gt[Jt].textBlock.y+gt[Jt].height+Ki;){if(cn=cn||gt[Fn].textBlock.y+gt[Fn].height,fi+=gt[Fn].height,fi+=Ki,0>=(Fn=Jt)){fi+=gt[Fn=0].height;break}if(0>(Jt=T(Fn))){fi+=gt[Fn=0].height;break}}if(Fn!=$i){Oi=Lt(cn=fi-(cn-=Oi=gt[Fn].textBlock.y),wn,Fn);break}}}return Oi}function Lt(cn,wn,Jt){var Fn=[],Oi=0,fi=0;for(cn=Math.abs(cn);Jt<=wn;Jt++)Fn.push(Zt[Jt]);for(Fn.sort(function($i,_n){return $i.height-_n.height}),Jt=0;Jt<Fn.length&&(wn=Fn[Jt],Oi<cn);Jt++)fi++,Oi+=gt[wn.id].height+Ki,gt[wn.id].textBlock.text="",gt[wn.id].indexLabelText="",gt[wn.id].isDirty=!0,gt[wn.id].textBlock.measureText();return fi}for(var Ln,Nt,on,Ri,Jn,Kt,qn=1,vi=0;vi<2*qn;vi++){for(var ti=gt.length-1;0<=ti&&(0<=T(ti)&&T(ti),Ri=(on=gt[ti]).textBlock,Kt=(Jn=I(ti)<Zt.length?gt[I(ti)]:null)?Jn.textBlock:null,Ln=+on.height.toFixed(6),Nt=+Ri.y.toFixed(6),!(!on.isDirty&&Jn&&Nt+Ln+Ki>+Kt.y.toFixed(6)&&(Ln=Ri.y+Ln+Ki-Kt.y,Nt=dt(ti,-Ln),Nt<Ln&&(0<Nt&&(Ln-=Nt),Nt=dt(I(ti),Ln),Nt!=Ln))));ti--);pt()}}(),xe=0;xe<$.length;xe++)gt[xe].isDirty||(o=(ke-(o=gt[xe].textBlock.x+gt[xe].width))/2,0==xe&&(ee=o),ee>o&&(ee=o));for(xe=0;xe<Zt.length;xe++)Zt[xe].x1+=ee,Zt[xe].x2+=ee,Zt[xe].x3+=ee,Zt[xe].x4+=ee,Zt[xe].x5&&(Zt[xe].x5+=ee,Zt[xe].x6+=ee),gt[xe].textBlock.x+=ee}for(xe=0;xe<Zt.length;xe++)jt(Ge,ee=Zt[xe],N.fillOpacity),es.push(ee.y1);if(z(Ge),Ie&&N.visible&&("inside"===N.indexLabelPlacement||U.animationEnabled||_(Ge),U.animationEnabled||P()),!Ie)for(xe=0;xe<$.length;xe++)U._eventManager.objectMap[ee=N.dataPointIds[xe]]=o={id:ee,objectType:"dataPoint",dataPointIndex:xe,dataSeriesIndex:0,funnelSection:Zt[N.reversed?$.length-1-xe:xe]};return(!U.animationEnabled&&we||U.animationEnabled&&!U.animatedRender)&&k(U,-1,0),this.funnelPyramidClickHandler=function(Nt){var on=-1;!Cr&&!U.isAnimating&&(H(Nt.dataSeries.explodeOnClick)||Nt.dataSeries.explodeOnClick)&&0<=(on=N.reversed?$.length-1-Nt.dataPointIndex:Nt.dataPointIndex)&&(Nt=on,("funnel"===N.type||"pyramid"===N.type)&&(N.reversed?$[$.length-1-Nt].exploded=!$[$.length-1-Nt].exploded:$[Nt].exploded=!$[Nt].exploded),k(U,on,500))},{source:Ge,dest:this.plotArea.ctx,animationCallback:function(Nt,on){Xe.fadeInAnimation(Nt,on),1<=Nt&&(k(U,-1,500),z(U.plotArea.ctx||U.ctx))},easingFunction:Xe.easing.easeInQuad,animationBase:0}}}}},B.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)},B.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,B.prototype.set=function(o,f,h){h=typeof h>"u"||h,"options"===o?(this.options=f,h&&this.render()):B.base.set.call(this,o,f,h)},B.prototype.exportChart=function(o){var f=(o=typeof o>"u"?{}:o).format?o.format:"png",h=o.fileName?o.fileName:this.exportFileName;if(o.toDataURL)return this.canvas.toDataURL("image/"+f);if((l=this.canvas)&&f&&h){h=h+"."+f;var l=l.toDataURL(o="image/"+f),d=!1,v=document.createElement("a");if(v.download=h,v.href=l,typeof Blob<"u"&&new Blob){for(var C=l.replace(/^data:[a-z\/]*;base64,/,""),D=(C=atob(C),new ArrayBuffer(C.length)),k=(D=new Uint8Array(D),0);k<C.length;k++)D[k]=C.charCodeAt(k);f=new Blob([D.buffer],{type:"image/"+f});try{window.navigator.msSaveBlob(f,h),d=!0}catch{v.dataset.downloadurl=[o,v.download,v.href].join(":"),v.href=window.URL.createObjectURL(f)}}if(!d)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),v.dispatchEvent?v.dispatchEvent(event):v.fireEvent&&v.fireEvent("onclick")}catch{(f=window.open()).document.write("<img src='"+l+"'></img><div>Please right click on the image and save it to your device</div>"),f.document.close()}}},B.prototype.print=function(){var o=this.exportChart({toDataURL:!0}),f=document.createElement("iframe");f.setAttribute("class","canvasjs-chart-print-frame"),Ze(f,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),f.style.height=this.height+"px",this._canvasJSContainer.appendChild(f);var h=this,l=f.contentWindow||f.contentDocument.document||f.contentDocument;l.document.open(),l.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+o+'"/><body/></html>'),l.document.body&&l.document.body.style&&(l.document.body.style.margin="0px 0px 0px 0px",l.document.body.style.padding="0px 0px 0px 0px"),l.document.close(),setTimeout(function(){l.focus(),l.print(),setTimeout(function(){h._canvasJSContainer.removeChild(f)},1e3)},500)},B.prototype.getPercentAndTotal=function(o,f){var h=null,l=null,d=h=null;if(0<=o.type.indexOf("stacked"))l=0,(h=f.x.getTime?f.x.getTime():f.x)in o.plotUnit.yTotals&&(l=o.plotUnit.yTotals[h],h=o.plotUnit.yAbsTotals[h],d=isNaN(f.y)||0===h?0:f.y/h*100);else if("pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type){for(h=l=0;h<o.dataPoints.length;h++)isNaN(o.dataPoints[h].y)||(l+=o.dataPoints[h].y);d=isNaN(f.y)?0:f.y/l*100}return{percent:d,total:l}},B.prototype.replaceKeywordsWithValue=function(o,f,h,l,d){var v=this;if(d=typeof d>"u"?0:d,(0<=h.type.indexOf("stacked")||"pie"===h.type||"doughnut"===h.type||"funnel"===h.type||"pyramid"===h.type)&&(0<=o.indexOf("#percent")||0<=o.indexOf("#total"))){var k="#percent",D="#total",C=this.getPercentAndTotal(h,f);D=isNaN(C.total)?D:C.total,k=isNaN(C.percent)?k:C.percent;do{if(C="",h.percentFormatString)C=h.percentFormatString;else{C="#,##0.";var S=Math.max(Math.ceil(Math.log(1/Math.abs(k))/Math.LN10),2);(isNaN(S)||!isFinite(S))&&(S=2);for(var _=0;_<S;_++)C+="#";h.percentFormatString=C}o=(o=o.replace("#percent",$t(k,C,v._cultureInfo))).replace("#total",$t(D,h.yValueFormatString?h.yValueFormatString:"#,##0.########",v._cultureInfo))}while(0<=o.indexOf("#percent")||0<=o.indexOf("#total"))}return o.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(T){if('"'===T[0]&&'"'===T[T.length-1]||"'"===T[0]&&"'"===T[T.length-1])return T.slice(1,T.length-1);T=(T=Ye(T.slice(1,T.length-1))).replace("#index",d);var I=null;try{var m=T.match(/(.*?)\s*\[\s*(.*?)\s*\]/);m&&0<m.length&&(I=Ye(m[2]),T=Ye(m[1]))}catch{}if(m=null,"color"===T)return"waterfall"===h.type?f.color?f.color:0<f.y?h.risingColor:h.fallingColor:"error"===h.type?h.color?h.color:h._colorSet[I%h._colorSet.length]:f.color?f.color:h.color?h.color:h._colorSet[l%h._colorSet.length];if(f.hasOwnProperty(T))m=f;else{if(!h.hasOwnProperty(T))return"";m=h}return m=m[T],null!==I&&(m=m[I]),"x"!==T?"y"===T?$t(m,f.yValueFormatString?f.yValueFormatString:h.yValueFormatString?h.yValueFormatString:h.yValueFormatString="#,##0.########",v._cultureInfo):"z"===T?$t(m,f.zValueFormatString?f.zValueFormatString:h.zValueFormatString?h.zValueFormatString:h.zValueFormatString="#,##0.########",v._cultureInfo):m:h.axisX&&"dateTime"===h.axisX.valueType||"dateTime"===h.xValueType||f.x&&f.x.getTime?h.axisX.logarithmic?void 0:yi(m,f.xValueFormatString?f.xValueFormatString:h.xValueFormatString?h.xValueFormatString:h.xValueFormatString=v.axisX&&v.axisX.autoValueFormatString?v.axisX.autoValueFormatString:"DD MMM YY",v._cultureInfo):$t(m,f.xValueFormatString?f.xValueFormatString:h.xValueFormatString?h.xValueFormatString:h.xValueFormatString="#,##0.########",v._cultureInfo)})},he(He,It),He.prototype.setLayout=function(){var o=this.dockInsidePlotArea?this.chart.plotArea:this.chart,f=o.layoutManager.getFreeSpace(),h=null,l=0,d=0,v=0,C=0,D=this.markerMargin=this.chart.options.legend&&!H(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var k=[],S=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",h=this.verticalAlign,v=this.maxWidth=null!==this.maxWidth?this.maxWidth:f.width,C=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*f.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(h=this.horizontalAlign),v=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*f.width,C=this.maxHeight=null!==this.maxHeight?this.maxHeight:f.height),this.errorMarkerColor=[];for(var _=0;_<this.dataSeries.length;_++){var T=this.dataSeries[_];if(T.dataPoints&&T.dataPoints.length)if("pie"!==T.type&&"doughnut"!==T.type&&"funnel"!==T.type&&"pyramid"!==T.type){var I=T.legendMarkerType=T.legendMarkerType?T.legendMarkerType:"line"!==T.type&&"stepLine"!==T.type&&"spline"!==T.type&&"scatter"!==T.type&&"bubble"!==T.type||!T.markerType?"error"===T.type&&T._linkedSeries?T._linkedSeries.legendMarkerType?T._linkedSeries.legendMarkerType:tt.getDefaultLegendMarker(T._linkedSeries.type):tt.getDefaultLegendMarker(T.type):T.markerType,m=T.legendText?T.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:T,dataPoint:null}):T.name,P=T.legendMarkerColor=T.legendMarkerColor?T.legendMarkerColor:T.markerColor?T.markerColor:"error"===T.type?H(T.whiskerColor)?T._colorSet[0]:T.whiskerColor:T._colorSet[0],z=T.markerSize||"line"!==T.type&&"stepLine"!==T.type&&"spline"!==T.type?.75*this.lineHeight:0,U=T.legendMarkerBorderColor?T.legendMarkerBorderColor:T.markerBorderColor,N=T.legendMarkerBorderThickness?T.legendMarkerBorderThickness:T.markerBorderThickness?Math.max(1,Math.round(.2*z)):0;"error"===T.type&&this.errorMarkerColor.push(P),m=this.chart.replaceKeywordsWithValue(m,T.dataPoints[0],T,_),k.push(I={markerType:I,markerColor:P,text:m,textBlock:null,chartType:T.type,markerSize:z,lineColor:T._colorSet[0],dataSeriesIndex:T.index,dataPointIndex:null,markerBorderColor:U,markerBorderThickness:N})}else for(var $=0;$<T.dataPoints.length;$++){var Z=T.dataPoints[$];I=Z.legendMarkerType?Z.legendMarkerType:T.legendMarkerType?T.legendMarkerType:tt.getDefaultLegendMarker(T.type),m=Z.legendText?Z.legendText:T.legendText?T.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:T,dataPoint:Z}):Z.name?Z.name:"DataPoint: "+($+1),P=Z.legendMarkerColor?Z.legendMarkerColor:T.legendMarkerColor?T.legendMarkerColor:Z.color?Z.color:T.color?T.color:T._colorSet[$%T._colorSet.length],z=.75*this.lineHeight,U=Z.legendMarkerBorderColor?Z.legendMarkerBorderColor:T.legendMarkerBorderColor?T.legendMarkerBorderColor:Z.markerBorderColor?Z.markerBorderColor:T.markerBorderColor,N=Z.legendMarkerBorderThickness?Z.legendMarkerBorderThickness:T.legendMarkerBorderThickness?T.legendMarkerBorderThickness:Z.markerBorderThickness||T.markerBorderThickness?Math.max(1,Math.round(.2*z)):0,I={markerType:I,markerColor:P,text:m=this.chart.replaceKeywordsWithValue(m,Z,T,$),textBlock:null,chartType:T.type,markerSize:z,dataSeriesIndex:_,dataPointIndex:$,markerBorderColor:U,markerBorderThickness:N},(Z.showInLegend||T.showInLegend&&!1!==Z.showInLegend)&&k.push(I)}}if(!0===this.reversed&&k.reverse(),0<k.length){for(T=null,P=m=Z=$=0,Z=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,v):this.itemMaxWidth=Math.min(this.itemWidth,v):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,v):this.itemMaxWidth=v,Z-=(z=0===z?.75*this.lineHeight:z)+D,_=0;_<k.length;_++)U=Z,("line"===(I=k[_]).chartType||"spline"===I.chartType||"stepLine"===I.chartType)&&(U-=.2*this.lineHeight),0>=C||typeof C>"u"||0>=U||typeof U>"u"||("horizontal"===this.orientation?(I.textBlock=new Ot(this.ctx,{x:0,y:0,maxWidth:U,maxHeight:this.itemWrap?C:this.lineHeight,angle:0,text:I.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),I.textBlock.measureText(),null!==this.itemWidth&&(I.textBlock.width=this.itemWidth-(z+D+("line"===I.chartType||"spline"===I.chartType||"stepLine"===I.chartType?.2*this.lineHeight:0))),(!T||T.width+Math.round(I.textBlock.width+z+D+(0===T.width?0:this.horizontalSpacing)+("line"===I.chartType||"spline"===I.chartType||"stepLine"===I.chartType?.2*this.lineHeight:0))>v)&&(S.push(T={items:[],width:0}),this.height+=m,m=0),m=Math.max(m,I.textBlock.height)):(I.textBlock=new Ot(this.ctx,{x:0,y:0,maxWidth:Z,maxHeight:!0===this.itemWrap?C:1.5*this.fontSize,angle:0,text:I.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),I.textBlock.measureText(),null!==this.itemWidth&&(I.textBlock.width=this.itemWidth-(z+D+("line"===I.chartType||"spline"===I.chartType||"stepLine"===I.chartType?.2*this.lineHeight:0))),this.height<C-this.lineHeight?S.push(T={items:[],width:0}):(T=S[$],$=($+1)%S.length),this.height+=I.textBlock.height),I.textBlock.x=T.width,I.textBlock.y=0,T.width+=Math.round(I.textBlock.width+z+D+(0===T.width?0:this.horizontalSpacing)+("line"===I.chartType||"spline"===I.chartType||"stepLine"===I.chartType?.2*this.lineHeight:0)),T.items.push(I),this.width=Math.max(T.width,this.width),P=I.textBlock.width+(z+D+("line"===I.chartType||"spline"===I.chartType||"stepLine"===I.chartType?.2*this.lineHeight:0)));this.itemWidth=P,this.height=!1===this.itemWrap?S.length*this.lineHeight:this.height+m,this.height=Math.min(C,this.height),this.width=Math.min(v,this.width)}for("top"===this.verticalAlign?(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,l=f.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,l=f.y1+f.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,l=f.y2-this.height),this.items=k,_=0;_<this.items.length;_++)(I=k[_]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[I.id]={id:I.id,objectType:"legendItem",legendItemIndex:_,dataSeriesIndex:I.dataSeriesIndex,dataPointIndex:I.dataPointIndex};this.markerSize=z,this.rows=S,0<k.length&&o.layoutManager.registerSpace(h,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:d,y1:l,x2:d+this.width,y2:l+this.height}},He.prototype.render=function(){var o=this.bounds.x1,f=this.bounds.y1,h=this.markerMargin,l=this.maxWidth,d=this.maxHeight,v=this.markerSize,C=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(o,f,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var D=0,k=0;k<C.length;k++){for(var S=C[k],_=0,T=0;T<S.items.length;T++){var I=S.items[T],m=I.textBlock.x+o+(0===T?.2*v:this.horizontalSpacing),P=f+D,z=m;if(this.chart.data[I.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(o,f,l,Math.max(d-d%this.lineHeight,0)),this.ctx.clip(),("line"===I.chartType||"stepLine"===I.chartType||"spline"===I.chartType)&&(this.ctx.strokeStyle=I.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,P+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,P+this.lineHeight/2),this.ctx.stroke(),z-=.1*this.lineHeight),"error"===I.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=v/8,this.ctx.beginPath();var U=m-.08*this.lineHeight+.1*this.lineHeight,N=P+.15*this.lineHeight,$=.7*this.lineHeight,Z=$+.02*this.lineHeight;this.ctx.moveTo(U,N),this.ctx.lineTo(U+$,N),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(U+$/2,N),this.ctx.lineTo(U+$/2,N+Z),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(U,N+Z),this.ctx.lineTo(U+$,N+Z),this.ctx.stroke(),this.errorMarkerColor.shift()}Qt.drawMarker(m+v/2,P+this.lineHeight/2,this.ctx,I.markerType,"error"===I.chartType||"line"===I.chartType||"spline"===I.chartType?I.markerSize/2:I.markerSize,I.markerColor,I.markerBorderColor,I.markerBorderThickness),I.textBlock.x=m+h+v,("line"===I.chartType||"stepLine"===I.chartType||"spline"===I.chartType)&&(I.textBlock.x+=.1*this.lineHeight),I.textBlock.y=Math.round(P+this.lineHeight/2),I.textBlock.render(!0),this.ctx.restore(),_=0<T?Math.max(_,I.textBlock.height):I.textBlock.height,this.chart.data[I.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),m=Fe(I.id),this.ghostCtx.fillStyle=m,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(z,I.textBlock.y-this.lineHeight/2,I.textBlock.x+I.textBlock.width-z,I.textBlock.height),I.x1=this.chart._eventManager.objectMap[I.id].x1=z,I.y1=this.chart._eventManager.objectMap[I.id].y1=I.textBlock.y-this.lineHeight/2,I.x2=this.chart._eventManager.objectMap[I.id].x2=I.textBlock.x+I.textBlock.width,I.y2=this.chart._eventManager.objectMap[I.id].y2=I.textBlock.y+I.textBlock.height-this.lineHeight/2}D+=_}},he(tt,It),tt.prototype.getDefaultAxisPlacement=function(){var o=this.type;return"column"===o||"line"===o||"stepLine"===o||"spline"===o||"area"===o||"stepArea"===o||"splineArea"===o||"stackedColumn"===o||"stackedLine"===o||"bubble"===o||"scatter"===o||"stackedArea"===o||"stackedColumn100"===o||"stackedLine100"===o||"stackedArea100"===o||"candlestick"===o||"ohlc"===o||"rangeColumn"===o||"rangeArea"===o||"rangeSplineArea"===o||"boxAndWhisker"===o||"waterfall"===o?"normal":"bar"===o||"stackedBar"===o||"stackedBar100"===o||"rangeBar"===o?"xySwapped":"pie"===o||"doughnut"===o||"funnel"===o||"pyramid"===o?"none":("error"!==o&&window.console.log("Unknown Chart Type: "+o),null)},tt.getDefaultLegendMarker=function(o){return"column"===o||"stackedColumn"===o||"stackedLine"===o||"bar"===o||"stackedBar"===o||"stackedBar100"===o||"bubble"===o||"scatter"===o||"stackedColumn100"===o||"stackedLine100"===o||"stepArea"===o||"candlestick"===o||"ohlc"===o||"rangeColumn"===o||"rangeBar"===o||"rangeArea"===o||"rangeSplineArea"===o||"boxAndWhisker"===o||"waterfall"===o?"square":"line"===o||"stepLine"===o||"spline"===o||"pie"===o||"doughnut"===o?"circle":"area"===o||"splineArea"===o||"stackedArea"===o||"stackedArea100"===o||"funnel"===o||"pyramid"===o?"triangle":"error"===o?"none":(window.console.log("Unknown Chart Type: "+o),null)},tt.prototype.getDataPointAtX=function(o,f){if(!this.dataPoints||0===this.dataPoints.length)return null;var h={dataPoint:null,distance:1/0,index:NaN},l=null,d=0,v=0,C=1,D=1/0,k=0,S=0,_=0;for("none"!==this.chart.plotInfo.axisPlacement&&(_=this.axisX.logarithmic?1<(_=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/_*Math.log(o/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(_=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/_*(o-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(v=0<C?_+d:_-d)&&v<this.dataPoints.length){l=this.dataPoints[v];var T=this.axisX.logarithmic?l.x>o?l.x/o:o/l.x:Math.abs(l.x-o);if(T<h.distance&&(h.dataPoint=l,h.distance=T,h.index=v),(l=T)<=D?D=l:0<C?k++:S++,1e3<k&&1e3<S)break}else if(0>_-d&&_+d>=this.dataPoints.length)break;-1===C?(d++,C=1):C=-1}return f||(h.dataPoint.x.getTime?h.dataPoint.x.getTime():h.dataPoint.x)!==(o.getTime?o.getTime():o)?f&&null!==h.dataPoint?h:null:h},tt.prototype.getDataPointAtXY=function(o,f,h){if(!this.dataPoints||0===this.dataPoints.length||o<this.chart.plotArea.x1||o>this.chart.plotArea.x2||f<this.chart.plotArea.y1||f>this.chart.plotArea.y2)return null;h=h||!1;var l=[],d=0,v=0,C=1,D=!1,k=1/0,S=0,_=0,I=0;for("none"!==this.chart.plotInfo.axisPlacement&&(I=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:o,y:f}),I=this.axisX.logarithmic?1<(T=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/T*Math.log(I/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(T=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/T*(I-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(v=0<C?I+d:I-d)&&v<this.dataPoints.length){var T,m=this.dataPoints[v],P=null;if(T=this.chart._eventManager.objectMap[this.dataPointIds[v]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":o>=T.x1&&o<=T.x2&&f>=T.y1&&f<=T.y2&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y1-f),Math.abs(T.y2-f))}),D=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var z=Ke("markerSize",m,this)||4,U=h?20:z;(P=Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-f,2)))<=U&&l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:P}),(T=Math.abs(T.x1-o))<=k?k=T:0<C?S++:_++,P<=z/2&&(D=!0);break;case"rangeArea":case"rangeSplineArea":z=Ke("markerSize",m,this)||4,U=h?20:z,(P=Math.min(Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-f,2)),Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y2-f,2))))<=U&&l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:P}),(T=Math.abs(T.x1-o))<=k?k=T:0<C?S++:_++,P<=z/2&&(D=!0);break;case"bubble":z=T.size,(P=Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-f,2)))<=z/2&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:P}),D=!0);break;case"pie":case"doughnut":z=T.center,U="doughnut"===this.type?T.percentInnerRadius*T.radius:0,(P=Math.sqrt(Math.pow(z.x-o,2)+Math.pow(z.y-f,2)))<T.radius&&P>U&&(0>(P=Math.atan2(f-z.y,o-z.x))&&(P+=2*Math.PI),P=Number(((P/Math.PI*180%360+360)%360).toFixed(12)),z=Number(((T.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(U=Number(((T.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<T.endAngle&&(U=360),z>=U&&0!==m.y&&(U+=360,P<z&&(P+=360)),P>z&&P<U&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:0}),D=!0));break;case"funnel":case"pyramid":f>(P=T.funnelSection).y1&&f<P.y4&&(P.y6?f>P.y6?(v=P.x6+(P.x5-P.x6)/(P.y5-P.y6)*(f-P.y6),P=P.x3+(P.x4-P.x3)/(P.y4-P.y3)*(f-P.y3)):(v=P.x1+(P.x6-P.x1)/(P.y6-P.y1)*(f-P.y1),P=P.x2+(P.x3-P.x2)/(P.y3-P.y2)*(f-P.y2)):(v=P.x1+(P.x4-P.x1)/(P.y4-P.y1)*(f-P.y1),P=P.x2+(P.x3-P.x2)/(P.y3-P.y2)*(f-P.y2)),o>v&&o<P&&(l.push({dataPoint:m,dataPointIndex:T.dataPointIndex,dataSeries:this,distance:0}),D=!0));break;case"boxAndWhisker":(o>=T.x1-T.borderThickness/2&&o<=T.x2+T.borderThickness/2&&f>=T.y4-T.borderThickness/2&&f<=T.y1+T.borderThickness/2||Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&f>=T.y1&&f<=T.y4)&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-f),Math.abs(T.y3-f))}),D=!0);break;case"candlestick":(o>=T.x1-T.borderThickness/2&&o<=T.x2+T.borderThickness/2&&f>=T.y2-T.borderThickness/2&&f<=T.y3+T.borderThickness/2||Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&f>=T.y1&&f<=T.y4)&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-f),Math.abs(T.y3-f))}),D=!0);break;case"ohlc":(Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&f>=T.y2&&f<=T.y3||o>=T.x1&&o<=(T.x2+T.x1)/2&&f>=T.y1-T.borderThickness/2&&f<=T.y1+T.borderThickness/2||o>=(T.x1+T.x2)/2&&o<=T.x2&&f>=T.y4-T.borderThickness/2&&f<=T.y4+T.borderThickness/2)&&(l.push({dataPoint:m,dataPointIndex:v,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-f),Math.abs(T.y3-f))}),D=!0)}if(D||1e3<S&&1e3<_)break}}else if(0>I-d&&I+d>=this.dataPoints.length)break;-1===C?(d++,C=1):C=-1}for(o=null,f=0;f<l.length;f++)o?l[f].distance<=o.distance&&(o=l[f]):o=l[f];return o},tt.prototype.getMarkerProperties=function(o,f,h,l){var d=this.dataPoints;return{x:f,y:h,ctx:l,type:d[o].markerType?d[o].markerType:this.markerType,size:d[o].markerSize?d[o].markerSize:this.markerSize,color:d[o].markerColor?d[o].markerColor:this.markerColor?this.markerColor:d[o].color?d[o].color:this.color?this.color:this._colorSet[o%this._colorSet.length],borderColor:d[o].markerBorderColor?d[o].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:d[o].markerBorderThickness?d[o].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},he(Oe,It),Oe.prototype.createExtraLabelsForLog=function(o){if(!(5<(o=(o||0)+1))){var f=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(f/this.viewportMinimum)<this.noTicks-1){for(var h=Oe.getNiceNumber((f-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),l=Math.ceil(this.viewportMinimum/h)*h;l<f;l+=h)l<this.viewportMinimum||this.logLabelValues.push(l);this.logLabelValues.sort(Je),this.createExtraLabelsForLog(o)}}},Oe.prototype.createLabels=function(){var o,f,l,k,_,h=0,C=0,d=0,v=0,D=(C=0,C=this.interval,0),S=.6*this.chart.height;o=!1;var T=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],I=T.length?H(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(l=this.viewportMaximum,this.labels){o=Math.ceil(C);var m=!1;for(h=C=Math.ceil(this.intervalStartPosition);h<this.viewportMaximum;h+=o){if(!this.labels[h]){m=!1;break}m=!0}m&&(this.interval=o,this.intervalStartPosition=C)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),C=0,m=I;C<this.logLabelValues.length;C++)if((h=this.logLabelValues[C])<this.viewportMinimum)C++;else{for(;m<T.length&&h>T[m].endValue;m++);_=h,(o=m<T.length&&h>=T[m].startValue&&h<=T[m].endValue)||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:_,label:this.labels[_]?this.labels[_]:null}):"axisX"===this.type&&this.labels[_]?this.labels[_]:$t(_,this.valueFormatString,this.chart._cultureInfo),o=new Ot(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:v,angle:this.labelAngle,text:this.prefix+o+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:_,textBlock:o,effectiveHeight:null}))}for(m=I,h=this.intervalStartPosition;h<=l;h=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?h*Math.pow(this.logarithmBase,this.interval):h+this.interval:(this.logarithmic&&this.equidistantInterval?h*Math.pow(this.logarithmBase,this.interval):h+this.interval).toFixed(12))){for(;m<T.length&&h>T[m].endValue;m++);_=h,(o=m<T.length&&h>=T[m].startValue&&h<=T[m].endValue)||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:_,label:this.labels[_]?this.labels[_]:null}):"axisX"===this.type&&this.labels[_]?this.labels[_]:$t(_,this.valueFormatString,this.chart._cultureInfo),o=new Ot(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:v,angle:this.labelAngle,text:this.prefix+o+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:_,textBlock:o,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),l=We(new Date(this.viewportMaximum),this.interval,this.intervalType),m=I,h=this.intervalStartPosition;h<l;We(h,C,this.intervalType)){for(o=h.getTime();m<T.length&&o>T[m].endValue;m++);_=o,(o=m<T.length&&o>=T[m].startValue&&o<=T[m].endValue)||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(_),label:this.labels[_]?this.labels[_]:null}):"axisX"===this.type&&this.labels[_]?this.labels[_]:yi(_,this.valueFormatString,this.chart._cultureInfo),o=new Ot(this.ctx,{x:0,y:0,maxWidth:d,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:v,angle:this.labelAngle,text:this.prefix+o+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:_,textBlock:o,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(D=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Gt[this.intervalType+"Duration"]*this.interval,d=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(v=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(D=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Gt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(d=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),v=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),C=0;C<this._labels.length;C++){(o=this._labels[C].textBlock).maxWidth=d,o.maxHeight=v;var P=o.measureText();k=P.height}if(l=[],I=T=0,this.labelAutoFit||this.options.labelAutoFit)if(H(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(d=.9*D>>0,I=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,h=0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){var z;for(m=(o=this._labels[h].textBlock).text.split(" "),C=0;C<m.length;C++)_=m[C],this.ctx.font=o.fontStyle+" "+o.fontWeight+" "+o.fontSize+"px "+o.fontFamily,(_=this.ctx.measureText(_)).width>I&&(z=h,I=_.width)}for(h=0,h=this.intervalStartPosition<this.viewportMinimum?1:0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){for(P=(o=this._labels[h].textBlock).measureText(),m=h+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){f=(f=this._labels[m].textBlock).measureText();break}if(l.push(o.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,l),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),C=d*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(v-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),H(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?v:Math.min((C-d*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),C),_=(S-(k+o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),H(this.options.labelWrap)){if(H(this.options.labelWrap))if(H(this.options.labelMaxWidth)){if(!H(f))if(C=P.width+f.width>>0,m=this.labelFontSize,I<d)C-2*d>T&&(T=C-2*d,C>=2*d&&C<2.2*d?(this.sessionVariables.labelMaxWidth=d,H(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):C>=2.2*d&&C<2.8*d?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=_,this.sessionVariables.labelFontSize=m):C>=2.8*d&&C<3.2*d?(this.sessionVariables.labelMaxWidth=Math.max(d,I),this.sessionVariables.labelWrap=!0,H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):C>=3.2*d&&C<3.6*d?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=_,this.sessionVariables.labelFontSize=this.labelFontSize):C>3.6*d&&C<5*d?(H(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=_):C>5*d&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelAngle=this.labelAngle));else if(z===h&&(0===z&&I+this._labels[z+1].textBlock.measureText().width-2*d>T||z===this._labels.length-1&&I+this._labels[z-1].textBlock.measureText().width-2*d>T||0<z&&z<this._labels.length-1&&I+this._labels[z+1].textBlock.measureText().width-2*d>T&&I+this._labels[z-1].textBlock.measureText().width-2*d>T))T=0===z?I+this._labels[z+1].textBlock.measureText().width-2*d:I+this._labels[z-1].textBlock.measureText().width-2*d,this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=_;else if(0===T)for(this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,C=0;C<this._labels.length;C++)(o=this._labels[C].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,I),_),P=o.measureText(),C<this._labels.length-1&&((f=this._labels[m=C+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,I),_),f=f.measureText(),P.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<d?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=C):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=v)}else this.labelWrap?H(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,I),_),this.sessionVariables.labelWrap=this.labelWrap,f&&P.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>d?-25:this.sessionVariables.labelAngle):H(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelMaxWidth=d,f&&P.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=_)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>d?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?v:Math.min((C-d*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),C),_=0!=this.labelAngle?(S-(k+o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):d,this.sessionVariables.labelMaxHeight=this.labelWrap?(S-_*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,H(this.options.labelWrap)?H(this.options.labelWrap)&&(this.labelWrap&&!H(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:_,this.sessionVariables.labelMaxHeight=v):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=_,this.sessionVariables.labelMaxHeight=C<.9*D?.9*D:C,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:_):(H(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:_,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=v)}for(C=0;C<this._labels.length;C++)(o=this._labels[C].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,o.fontSize=this.sessionVariables.labelFontSize,o.angle=this.labelAngle=this.sessionVariables.labelAngle,o.wrap=this.labelWrap=this.sessionVariables.labelWrap,o.maxHeight=this.sessionVariables.labelMaxHeight,o.measureText()}else for(h=0;h<this._labels.length;h++)(o=this._labels[h].textBlock).maxWidth=this.labelMaxWidth=H(this.options.labelMaxWidth)?H(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=d:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,o.fontSize=this.labelFontSize=H(this.options.labelFontSize)?H(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,o.angle=this.labelAngle=H(this.options.labelAngle)?H(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,o.wrap=this.labelWrap=H(this.options.labelWrap)?H(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,o.maxHeight=H(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=v:this.sessionVariables.labelMaxHeight,o.measureText();else if("left"===this._position||"right"===this._position)if(d=H(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,v=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,h=0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){for(P=(o=this._labels[h].textBlock).measureText(),m=h+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){f=(f=this._labels[m].textBlock).measureText();break}l.push(o.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,l),C=d*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(v-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),H(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?H(this.options.labelWrap)?H(this.options.labelWrap)&&(H(this.options.labelMaxWidth)?H(f)||(D=P.height+f.height>>0)-2*v>I&&(I=D-2*v,D>=2*v&&D<2.4*v?(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):D>=2.4*v&&D<2.8*v?(this.sessionVariables.labelMaxHeight=C,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):D>=2.8*v&&D<3.2*v?(this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelWrap=!0,H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):D>=3.2*v&&D<3.6*v?(this.sessionVariables.labelMaxHeight=C,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):D>3.6*v&&D<10*v?(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):D>10*v&&D<50*v&&(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:d,this.sessionVariables.labelMaxHeight=v):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?d:Math.min((C-v*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),v),H(this.options.labelWrap)?H(this.options.labelWrap)&&(this.labelWrap&&!H(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=C):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:d,this.sessionVariables.labelMaxHeight=0===this.labelAngle?v:C,H(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?v:C,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=d):(this.sessionVariables.labelMaxHeight=v,H(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(C=0;C<this._labels.length;C++)(o=this._labels[C].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,o.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,o.angle=this.labelAngle=this.sessionVariables.labelAngle,o.wrap=this.labelWrap=this.sessionVariables.labelWrap,o.maxHeight=this.sessionVariables.labelMaxHeight,o.measureText()}else for(h=0;h<this._labels.length;h++)(o=this._labels[h].textBlock).maxWidth=this.labelMaxWidth=H(this.options.labelMaxWidth)?H(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=d:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,o.fontSize=this.labelFontSize=H(this.options.labelFontSize)?H(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,o.angle=this.labelAngle=H(this.options.labelAngle)?H(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,o.wrap=this.labelWrap=H(this.options.labelWrap)?H(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,o.maxHeight=H(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=v:this.sessionVariables.labelMaxHeight,o.measureText();for(h=0;h<this.stripLines.length;h++){var U;"outside"===(d=this.stripLines[h]).labelPlacement?(v=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(H(d.options.labelWrap)&&!H(this.sessionVariables.stripLineLabelMaxHeight)?U=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=U=d.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(H(d.options.labelWrap)&&!H(this.sessionVariables.stripLineLabelMaxHeight)?U=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=U=d.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),H(d.labelBackgroundColor)&&(d.labelBackgroundColor="#EEEEEE")):(v="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,U=H(d.options.labelWrap)||d.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,H(d.labelBackgroundColor)&&(d.labelBackgroundColor=H(d.startValue)&&0!==d.startValue?te?"transparent":null:"#EEEEEE")),o=new Ot(this.ctx,{x:0,y:0,backgroundColor:d.labelBackgroundColor,borderColor:d.labelBorderColor,borderThickness:d.labelBorderThickness,cornerRadius:d.labelCornerRadius,maxWidth:d.options.labelMaxWidth?d.options.labelMaxWidth:v,maxHeight:U,angle:this.labelAngle,text:d.labelFormatter?d.labelFormatter({chart:this.chart,axis:this,stripLine:d}):d.label,textAlign:this.labelTextAlign,fontSize:"outside"===d.labelPlacement?d.options.labelFontSize?d.labelFontSize:this.labelFontSize:d.labelFontSize,fontFamily:"outside"===d.labelPlacement?d.options.labelFontFamily?d.labelFontFamily:this.labelFontFamily:d.labelFontFamily,fontWeight:"outside"===d.labelPlacement?d.options.labelFontWeight?d.labelFontWeight:this.labelFontWeight:d.labelFontWeight,fontColor:d.labelFontColor||d.color,fontStyle:"outside"===d.labelPlacement?d.options.labelFontStyle?d.labelFontStyle:this.fontWeight:d.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:d.value,textBlock:o,effectiveHeight:null,stripLine:d})}},Oe.prototype.createLabelsAndCalculateWidth=function(){var o=0,f=0;this._labels=[],this._stripLineLabels=[];var h=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(f=0;f<this._labels.length;f++){var l=this._labels[f].textBlock,d=l.measureText(),v=0;o<(v=0===this.labelAngle?d.width:d.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d.height-l.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(o=v),this._labels[f].effectiveWidth=v}for(f=0;f<this._stripLineLabels.length;f++)"outside"===this._stripLineLabels[f].stripLine.labelPlacement&&this._stripLineLabels[f].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[f].stripLine.value<=this.viewportMaximum&&(d=(l=this._stripLineLabels[f].textBlock).measureText(),o<(v=0===this.labelAngle?d.width:d.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d.height-l.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(o=v),this._stripLineLabels[f].effectiveWidth=v)}return(this.title?this._titleTextBlock.measureText().height+2:0)+o+("inside"===this.tickPlacement?0:this.tickLength)+h},Oe.prototype.createLabelsAndCalculateHeight=function(){var o=0;this._labels=[],this._stripLineLabels=[];var f,h=0,l=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(h=0;h<this._labels.length;h++){var d=(f=this._labels[h].textBlock).measureText(),v=0;o<(v=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(o=v),this._labels[h].effectiveHeight=v}for(h=0;h<this._stripLineLabels.length;h++)"outside"===this._stripLineLabels[h].stripLine.labelPlacement&&this._stripLineLabels[h].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[h].stripLine.value<=this.viewportMaximum&&(d=(f=this._stripLineLabels[h].textBlock).measureText(),o<(v=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(o=v),this._stripLineLabels[h].effectiveHeight=v)}return(this.title?this._titleTextBlock.measureText().height+2:0)+o+("inside"===this.tickPlacement?0:this.tickLength)+l},Oe.setLayout=function(o,f,h,l,d,v){var C,D,k,S,_=o[0]?o[0].chart:f[0].chart,T=_.isNavigator?0:10,I=_._axes;if(o&&0<o.length)for(var m=0;m<o.length;m++)o[m]&&o[m].calculateAxisParameters();if(f&&0<f.length)for(m=0;m<f.length;m++)f[m].calculateAxisParameters();if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateAxisParameters();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].calculateAxisParameters();for(m=0;m<I.length;m++)if(I[m]&&I[m].scaleBreaks&&I[m].scaleBreaks._appliedBreaks.length)for(var P=I[m].scaleBreaks._appliedBreaks,z=0;z<P.length&&!(P[z].startValue>I[m].viewportMaximum);z++)P[z].endValue<I[m].viewportMinimum||(H(I[m].scaleBreaks.firstBreakIndex)&&(I[m].scaleBreaks.firstBreakIndex=z),P[z].startValue>=I[m].viewPortMinimum&&(I[m].scaleBreaks.lastBreakIndex=z));var ee,Ne,Ie,we,ke,U=z=0,N=0,$=0,Z=0,ie=0,se=0,et=D=0;for(P=Ie=we=ke=!1,m=0;m<I.length;m++)I[m]&&I[m].title&&(I[m]._titleTextBlock=new Ot(I[m].ctx,{text:I[m].title,horizontalAlign:"center",fontSize:I[m].titleFontSize,fontFamily:I[m].titleFontFamily,fontWeight:I[m].titleFontWeight,fontColor:I[m].titleFontColor,fontStyle:I[m].titleFontStyle,borderColor:I[m].titleBorderColor,borderThickness:I[m].titleBorderThickness,backgroundColor:I[m].titleBackgroundColor,cornerRadius:I[m].titleCornerRadius,textBaseline:"top"}));for(m=0;m<I.length;m++)if(I[m].title)switch(I[m]._position){case"left":I[m]._titleTextBlock.maxWidth=I[m].titleMaxWidth||v.height,I[m]._titleTextBlock.maxHeight=I[m].titleWrap?.8*v.width:1.5*I[m].titleFontSize,I[m]._titleTextBlock.angle=-90;break;case"right":I[m]._titleTextBlock.maxWidth=I[m].titleMaxWidth||v.height,I[m]._titleTextBlock.maxHeight=I[m].titleWrap?.8*v.width:1.5*I[m].titleFontSize,I[m]._titleTextBlock.angle=90;break;default:I[m]._titleTextBlock.maxWidth=I[m].titleMaxWidth||v.width,I[m]._titleTextBlock.maxHeight=I[m].titleWrap?.8*v.height:1.5*I[m].titleFontSize,I[m]._titleTextBlock.angle=0}if("normal"===d){$=[],Z=[],ie=[],se=[];for(var _e=[],ce=[],Ge=[],$e=[];4>z;){var xe=0,gn=0,Tn=0,On=0,mn=d=0,Yt=0,Xn=0,fn=0,dn=0,Zt=0,xn=0;if(h&&0<h.length)for(ie=[],m=Zt=0;m<h.length;m++)ie.push(Math.ceil(h[m]?h[m].createLabelsAndCalculateWidth():0)),Zt+=ie[m],Yt+=h[m]&&!_.isNavigator?h[m].margin:0;else ie.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateWidth():0));if(Ge.push(ie),l&&0<l.length)for(se=[],m=xn=0;m<l.length;m++)se.push(Math.ceil(l[m]?l[m].createLabelsAndCalculateWidth():0)),xn+=se[m],Xn+=l[m]?l[m].margin:0;else se.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateWidth():0));if($e.push(se),C=Math.round(v.x1+Zt+Yt),k=Math.round(v.x2-xn-Xn>_.width-T?_.width-T:v.x2-xn-Xn),o&&0<o.length)for($=[],m=fn=0;m<o.length;m++)o[m]&&(o[m].lineCoordinates={}),o[m].lineCoordinates.width=Math.abs(k-C),o[m].title&&(o[m]._titleTextBlock.maxWidth=0<o[m].titleMaxWidth&&o[m].titleMaxWidth<o[m].lineCoordinates.width?o[m].titleMaxWidth:o[m].lineCoordinates.width),$.push(Math.ceil(o[m]?o[m].createLabelsAndCalculateHeight():0)),fn+=$[m],d+=o[m]&&!_.isNavigator?o[m].margin:0;else $.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(_e.push($),f&&0<f.length)for(Z=[],m=dn=0;m<f.length;m++)f[m]&&(f[m].lineCoordinates={}),f[m].lineCoordinates.width=Math.abs(k-C),f[m].title&&(f[m]._titleTextBlock.maxWidth=0<f[m].titleMaxWidth&&f[m].titleMaxWidth<f[m].lineCoordinates.width?f[m].titleMaxWidth:f[m].lineCoordinates.width),Z.push(Math.ceil(f[m]?f[m].createLabelsAndCalculateHeight():0)),dn+=Z[m],mn+=f[m]&&!_.isNavigator?f[m].margin:0;else Z.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateHeight():0));if(ce.push(Z),o&&0<o.length)for(m=0;m<o.length;m++)o[m]&&(o[m].lineCoordinates.x1=C,k=Math.round(v.x2-xn-Xn>_.width-T?_.width-T:v.x2-xn-Xn),o[m]._labels&&1<o[m]._labels.length&&(D=S=0,D="dateTime"===o[m].valueType?o[m]._labels[o[m]._labels.length-2]:o[m]._labels[o[m]._labels.length-1],U=(S=o[m]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(S.textBlock.angle))+(S.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(S.textBlock.angle)),N=D.textBlock.width*Math.cos(Math.PI/180*Math.abs(D.textBlock.angle))+(D.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(D.textBlock.angle))),!o[m]||!o[m].labelAutoFit||H(ee)||H(Ne)||_.isNavigator||_.stockChart||(D=0,0<o[m].labelAngle?Ne+N>k&&(D+=0<o[m].labelAngle?Ne+N-k-xn:0):0>o[m].labelAngle?ee-U<C&&ee-U<o[m].viewportMinimum&&(et=C-(Yt+o[m].tickLength+ie+ee-U+o[m].labelFontSize/2)):0===o[m].labelAngle&&(Ne+N>k&&(D=Ne+N/2-k-xn),ee-U<C&&ee-U<o[m].viewportMinimum&&(et=C-Yt-o[m].tickLength-ie-ee+U/2)),o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&0<o[m].labelAngle&&0<D?k-=D:o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&0>o[m].labelAngle&&0<et?C+=et:o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&0===o[m].labelAngle&&(0<et&&(C+=et),0<D&&(k-=D))),_.panEnabled?fn=H(_.sessionVariables.axisX.height)?_.sessionVariables.axisX.height=fn:_.sessionVariables.axisX.height:_.sessionVariables.axisX.height=fn,D=Math.round(v.y2-fn-d+xe),S=Math.round(v.y2),o[m].lineCoordinates.x2=k,o[m].lineCoordinates.width=k-C,o[m].lineCoordinates.y1=D,o[m].lineCoordinates.y2=D+o[m].lineThickness/2,"inside"===o[m].labelPlacement&&0<m&&(o[m].lineCoordinates.y1=o[m].lineCoordinates.y1+$[m]-(o[m]._titleTextBlock?o[m]._titleTextBlock.height:0)-("inside"===o[m].tickPlacement?o[m].tickLength:0),o[m].lineCoordinates.y2=o[m].lineCoordinates.y1+o[m].lineThickness/2),o[m].bounds={x1:C,y1:D,x2:k,y2:S-(fn+d-$[m]-xe),width:k-C,height:S-D}),xe+=$[m]+o[m].margin;if(f&&0<f.length)for(m=0;m<f.length;m++)f[m].lineCoordinates.x1=Math.round(v.x1+Zt+Yt),f[m].lineCoordinates.x2=Math.round(v.x2-xn-Xn>_.width-T?_.width-T:v.x2-xn-Xn),f[m].lineCoordinates.width=Math.abs(k-C),f[m]._labels&&1<f[m]._labels.length&&(D="dateTime"===f[m].valueType?f[m]._labels[f[m]._labels.length-2]:f[m]._labels[f[m]._labels.length-1],U=(S=f[m]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(S.textBlock.angle))+(S.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(S.textBlock.angle)),N=D.textBlock.width*Math.cos(Math.PI/180*Math.abs(D.textBlock.angle))+(D.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(D.textBlock.angle))),_.panEnabled?dn=H(_.sessionVariables.axisX2.height)?_.sessionVariables.axisX2.height=dn:_.sessionVariables.axisX2.height:_.sessionVariables.axisX2.height=dn,D=Math.round(v.y1),S=Math.round(v.y2+f[m].margin),f[m].lineCoordinates.y1=D+dn+mn-gn,f[m].lineCoordinates.y2=D,"inside"===f[m].labelPlacement&&0<m&&(f[m].lineCoordinates.y1=f[m-1].bounds.y1-Z[m]+(f[m]._titleTextBlock?f[m]._titleTextBlock.height:0)),f[m].bounds={x1:C,y1:D+(dn+mn-Z[m]-gn),x2:k,y2:S,width:k-C,height:S-D},gn+=Z[m]+f[m].margin;if(h&&0<h.length)for(m=0;m<h.length;m++)Yt=_.isNavigator?0:10,h[m]&&(C=Math.round(o[0]?o[0].lineCoordinates.x1:f[0].lineCoordinates.x1),Yt=h[m]._labels&&0<h[m]._labels.length?h[m]._labels[h[m]._labels.length-1].textBlock.height/2:T,D=Math.round(v.y1+dn+mn<Math.max(Yt,T)?Math.max(Yt,T):v.y1+dn+mn),k=Math.round(o[0]?o[0].lineCoordinates.x1:f[0].lineCoordinates.x1),Yt=0<o.length?0:h[m]._labels&&0<h[m]._labels.length?h[m]._labels[0].textBlock.height/2:T,S=Math.round(v.y2-fn-d-Yt),h[m].lineCoordinates={x1:C-Tn,y1:D,x2:k-Tn,y2:S,height:Math.abs(S-D)},"inside"===h[m].labelPlacement&&0<m&&(h[m].lineCoordinates.x1=h[m].lineCoordinates.x1-(ie[m]-(h[m]._titleTextBlock?h[m]._titleTextBlock.height:0))+("outside"===h[m].tickPlacement?h[m].tickLength:0),h[m].lineCoordinates.x2=h[m].lineCoordinates.x1+h[m].lineThickness/2),h[m].bounds={x1:C-(ie[m]+Tn),y1:D,x2:k,y2:S,width:k-C,height:S-D},h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.height?h[m].titleMaxWidth:h[m].lineCoordinates.height),Tn+=ie[m]+h[m].margin);if(l&&0<l.length)for(m=0;m<l.length;m++)l[m]&&(C=Math.round(o[0]?o[0].lineCoordinates.x2:f[0].lineCoordinates.x2),k=Math.round(C),Yt=l[m]._labels&&0<l[m]._labels.length?l[m]._labels[l[m]._labels.length-1].textBlock.height/2:0,D=Math.round(v.y1+dn+mn<Math.max(Yt,T)?Math.max(Yt,T):v.y1+dn+mn),Yt=0<o.length?0:l[m]._labels&&0<l[m]._labels.length?l[m]._labels[0].textBlock.height/2:0,S=Math.round(v.y2-(fn+d+Yt)),l[m].lineCoordinates={x1:C+On,y1:D,x2:C+On,y2:S,height:Math.abs(S-D)},"inside"===l[m].labelPlacement&&0<m&&(l[m].lineCoordinates.x1=l[m].lineCoordinates.x1+(se[m]-(l[m]._titleTextBlock?l[m]._titleTextBlock.height:0))-("outside"===l[m].tickPlacement?l[m].tickLength:0)-2,l[m].lineCoordinates.x2=l[m].lineCoordinates.x1+l[m].lineThickness/2),l[m].bounds={x1:C,y1:D,x2:k+(se[m]+On),y2:S,width:k-C,height:S-D},l[m].title&&(l[m]._titleTextBlock.maxWidth=0<l[m].titleMaxWidth&&l[m].titleMaxWidth<l[m].lineCoordinates.height?l[m].titleMaxWidth:l[m].lineCoordinates.height),On+=se[m]+l[m].margin);if(o&&0<o.length)for(m=0;m<o.length;m++)o[m]&&(o[m].calculateValueToPixelConversionParameters(),o[m].calculateBreaksSizeInValues(),o[m]._labels&&1<o[m]._labels.length&&(ee=(o[m].logarithmic?Math.log(o[m]._labels[1].position/o[m].viewportMinimum)/o[m].conversionParameters.lnLogarithmBase:o[m]._labels[1].position-o[m].viewportMinimum)*Math.abs(o[m].conversionParameters.pixelPerUnit)+o[m].lineCoordinates.x1,C=o[m].getApparentDifference(o[m].viewportMinimum,C=o[m]._labels[o[m]._labels.length-("dateTime"===o[m].valueType?2:1)].position),Ne=o[m].logarithmic?(1<C?Math.log(C)/o[m].conversionParameters.lnLogarithmBase*Math.abs(o[m].conversionParameters.pixelPerUnit):0)+o[m].lineCoordinates.x1:(0<C?C*Math.abs(o[m].conversionParameters.pixelPerUnit):0)+o[m].lineCoordinates.x1));if(f&&0<f.length)for(m=0;m<f.length;m++)f[m].calculateValueToPixelConversionParameters(),f[m].calculateBreaksSizeInValues(),f[m]._labels&&1<f[m]._labels.length&&(ee=(f[m].logarithmic?Math.log(f[m]._labels[1].position/f[m].viewportMinimum)/f[m].conversionParameters.lnLogarithmBase:f[m]._labels[1].position-f[m].viewportMinimum)*Math.abs(f[m].conversionParameters.pixelPerUnit)+f[m].lineCoordinates.x1,C=f[m].getApparentDifference(f[m].viewportMinimum,C=f[m]._labels[f[m]._labels.length-("dateTime"===f[m].valueType?2:1)].position),Ne=f[m].logarithmic?(1<C?Math.log(C)/f[m].conversionParameters.lnLogarithmBase*Math.abs(f[m].conversionParameters.pixelPerUnit):0)+f[m].lineCoordinates.x1:(0<C?C*Math.abs(f[m].conversionParameters.pixelPerUnit):0)+f[m].lineCoordinates.x1);for(m=0;m<I.length;m++)"axisY"===I[m].type&&(I[m].calculateValueToPixelConversionParameters(),I[m].calculateBreaksSizeInValues());if(0<z){if(o&&0<o.length)for(m=0;m<o.length;m++)P=_e[z-1][m]===_e[z][m];else P=!0;if(f&&0<f.length)for(m=0;m<f.length;m++)Ie=ce[z-1][m]===ce[z][m];else Ie=!0;if(h&&0<h.length)for(m=0;m<h.length;m++)we=Ge[z-1][m]===Ge[z][m];else we=!0;if(l&&0<l.length)for(m=0;m<l.length;m++)ke=$e[z-1][m]===$e[z][m];else ke=!0}if(P&&Ie&&we&&ke)break;z++}if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].calculateStripLinesThicknessInValues(),o[m].calculateBreaksInPixels();if(f&&0<f.length)for(m=0;m<f.length;m++)f[m].calculateStripLinesThicknessInValues(),f[m].calculateBreaksInPixels();if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateStripLinesThicknessInValues(),h[m].calculateBreaksInPixels();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].calculateStripLinesThicknessInValues(),l[m].calculateBreaksInPixels()}else{for(T=[],ee=[],et=[],U=[],Ne=[],N=[],_e=[],ce=[];4>z;){if(fn=On=gn=Tn=Xn=Yt=mn=d=$e=Ge=xe=dn=0,o&&0<o.length)for(et=[],m=On=0;m<o.length;m++)et.push(Math.ceil(o[m]?o[m].createLabelsAndCalculateWidth():0)),On+=et[m],d+=o[m]&&!_.isNavigator?o[m].margin:0;else et.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(_e.push(et),f&&0<f.length)for(U=[],m=fn=0;m<f.length;m++)U.push(Math.ceil(f[m]?f[m].createLabelsAndCalculateWidth():0)),fn+=U[m],mn+=f[m]?f[m].margin:0;else U.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateWidth():0));if(ce.push(U),h&&0<h.length)for(m=0;m<h.length;m++)h[m].lineCoordinates={},C=Math.round(v.x1+On+d),k=Math.round(v.x2-fn-mn>_.width-10?_.width-10:v.x2-fn-mn),h[m].labelAutoFit&&!H($)&&(0<!o.length&&(C=0>h[m].labelAngle?Math.max(C,$):0===h[m].labelAngle?Math.max(C,$/2):C),0<!f.length&&(k=0<h[m].labelAngle||0===h[m].labelAngle?k-Z/2:k)),h[m].lineCoordinates.x1=C,h[m].lineCoordinates.x2=k,h[m].lineCoordinates.width=Math.abs(k-C),h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.width?h[m].titleMaxWidth:h[m].lineCoordinates.width);if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].lineCoordinates={},C=Math.round(v.x1+On+d),k=Math.round(v.x2-fn-mn>l[m].chart.width-10?l[m].chart.width-10:v.x2-fn-mn),l[m]&&l[m].labelAutoFit&&!H(ie)&&(0<!o.length&&(C=0<l[m].labelAngle?Math.max(C,ie):0===l[m].labelAngle?Math.max(C,ie/2):C),0<!f.length&&(k-=se/2)),l[m].lineCoordinates.x1=C,l[m].lineCoordinates.x2=k,l[m].lineCoordinates.width=Math.abs(k-C),l[m].title&&(l[m]._titleTextBlock.maxWidth=0<l[m].titleMaxWidth&&l[m].titleMaxWidth<l[m].lineCoordinates.width?l[m].titleMaxWidth:l[m].lineCoordinates.width);if(h&&0<h.length)for(T=[],m=Tn=0;m<h.length;m++)T.push(Math.ceil(h[m]?h[m].createLabelsAndCalculateHeight():0)),Tn+=T[m]+h[m].margin,Yt+=h[m].margin;else T.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateHeight():0));if(Ne.push(T),l&&0<l.length)for(ee=[],m=gn=0;m<l.length;m++)ee.push(Math.ceil(l[m]?l[m].createLabelsAndCalculateHeight():0)),gn+=ee[m],Xn+=l[m].margin;else ee.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateHeight():0));if(N.push(ee),h&&0<h.length)for(m=0;m<h.length;m++)0<h[m]._labels.length&&(D=h[m]._labels[h[m]._labels.length-1],$=(S=h[m]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(S.textBlock.angle))+(S.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(S.textBlock.angle)),Z=D.textBlock.width*Math.cos(Math.PI/180*Math.abs(D.textBlock.angle))+(D.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(D.textBlock.angle)));if(l&&0<l.length)for(m=0;m<l.length;m++)l[m]&&0<l[m]._labels.length&&(D=l[m]._labels[l[m]._labels.length-1],ie=(S=l[m]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(S.textBlock.angle))+(S.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(S.textBlock.angle)),se=D.textBlock.width*Math.cos(Math.PI/180*Math.abs(D.textBlock.angle))+(D.textBlock.height-D.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(D.textBlock.angle)));if(_.panEnabled)for(m=0;m<h.length;m++)T[m]=H(_.sessionVariables.axisY.height)?_.sessionVariables.axisY.height=T[m]:_.sessionVariables.axisY.height;else for(m=0;m<h.length;m++)_.sessionVariables.axisY.height=T[m];if(h&&0<h.length)for(m=h.length-1;0<=m;m--)D=Math.round(v.y2),S=Math.round(v.y2>h[m].chart.height?h[m].chart.height:v.y2),h[m].lineCoordinates.y1=D-(T[m]+h[m].margin+dn),h[m].lineCoordinates.y2=D-(T[m]+h[m].margin+dn),"inside"===h[m].labelPlacement&&0<m&&(h[m].lineCoordinates.y1=h[m].lineCoordinates.y1+T[m]-(h[m]._titleTextBlock?h[m]._titleTextBlock.height:0)-("inside"===h[m].tickPlacement?h[m].tickLength:0),h[m].lineCoordinates.y2=h[m].lineCoordinates.y1+h[m].lineThickness/2),h[m].bounds={x1:C,y1:D-(T[m]+dn+h[m].margin),x2:k,y2:S-(dn+h[m].margin),width:k-C,height:T[m]},h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.width?h[m].titleMaxWidth:h[m].lineCoordinates.width),dn+=T[m]+h[m].margin;if(l&&0<l.length)for(m=l.length-1;0<=m;m--)l[m]&&(D=Math.round(v.y1),S=Math.round(v.y1+(ee[m]+l[m].margin+xe)),l[m].lineCoordinates.y1=S,l[m].lineCoordinates.y2=S,"inside"===l[m].labelPlacement&&0<m&&(l[m].lineCoordinates.y1=S-ee[m]+(l[m]._titleTextBlock?l[m]._titleTextBlock.height:0)),l[m].bounds={x1:C,y1:D+(l[m].margin+xe),x2:k,y2:S,width:k-C,height:gn},l[m].title&&(l[m]._titleTextBlock.maxWidth=0<l[m].titleMaxWidth&&l[m].titleMaxWidth<l[m].lineCoordinates.width?l[m].titleMaxWidth:l[m].lineCoordinates.width),xe+=ee[m]+l[m].margin);if(o&&0<o.length)for(m=0;m<o.length;m++){if(Yt=o[m]._labels&&0<o[m]._labels.length?o[m]._labels[0].textBlock.fontSize/2:0,C=Math.round(v.x1+d),D=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y2:v.y1<Math.max(Yt,10)?Math.max(Yt,10):v.y1):v.y1<Math.max(Yt,10)?Math.max(Yt,10):v.y1,k=Math.round(v.x1+On+d),S=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y1:v.y2-Tn>_.height-Math.max(Yt,10)?_.height-Math.max(Yt,10):v.y2-Tn):v.y2>_.height-Math.max(Yt,10)?_.height-Math.max(Yt,10):v.y2,h&&0<h.length)for(Yt=0;Yt<h.length;Yt++)h[Yt]&&h[Yt].labelAutoFit&&(k=0>h[Yt].labelAngle?Math.max(k,$):0===h[Yt].labelAngle?Math.max(k,$/2):k,C=0>h[Yt].labelAngle||0===h[Yt].labelAngle?k-On:C);if(l&&0<l.length)for(Yt=0;Yt<l.length;Yt++)l[Yt]&&l[Yt].labelAutoFit&&(C=(k=l[Yt].lineCoordinates.x1)-On);o[m].lineCoordinates={x1:k-Ge,y1:D,x2:k-Ge,y2:S,height:Math.abs(S-D)},"inside"===o[m].labelPlacement&&0<m&&(o[m].lineCoordinates.x1=o[m].lineCoordinates.x1-(et[m]-(o[m]._titleTextBlock?o[m]._titleTextBlock.height:0))+("outside"===o[m].tickPlacement?o[m].tickLength:0),o[m].lineCoordinates.x2=o[m].lineCoordinates.x1+o[m].lineThickness/2),o[m].bounds={x1:k-(et[m]+Ge),y1:D,x2:k,y2:S,width:k-C,height:S-D},o[m].title&&(o[m]._titleTextBlock.maxWidth=0<o[m].titleMaxWidth&&o[m].titleMaxWidth<o[m].lineCoordinates.height?o[m].titleMaxWidth:o[m].lineCoordinates.height),o[m].calculateValueToPixelConversionParameters(),o[m].calculateBreaksSizeInValues(),Ge+=et[m]+o[m].margin}if(f&&0<f.length)for(m=0;m<f.length;m++){if(Yt=f[m]._labels&&0<f[m]._labels.length?f[m]._labels[0].textBlock.fontSize/2:0,C=Math.round(v.x1-d),D=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y2:v.y1<Math.max(Yt,10)?Math.max(Yt,10):v.y1):v.y1<Math.max(Yt,10)?Math.max(Yt,10):v.y1,k=Math.round(v.x2-fn-mn),S=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y1:v.y2-Tn>_.height-Math.max(Yt,10)?_.height-Math.max(Yt,10):v.y2-Tn):v.y2>_.height-Math.max(Yt,10)?_.height-Math.max(Yt,10):v.y2,h&&0<h.length)for(Yt=0;Yt<h.length;Yt++)h[Yt]&&h[Yt].labelAutoFit&&(k=0>h[Yt].labelAngle?Math.max(k,$):0===h[Yt].labelAngle?Math.max(k,$/2):k,C=0>h[Yt].labelAngle||0===h[Yt].labelAngle?k-fn:C);if(l&&0<l.length)for(Yt=0;Yt<l.length;Yt++)l[Yt]&&l[Yt].labelAutoFit&&(C=(k=l[Yt].lineCoordinates.x2)-fn);f[m].lineCoordinates={x1:k+$e,y1:D,x2:k+$e,y2:S,height:Math.abs(S-D)},"inside"===f[m].labelPlacement&&0<m&&(f[m].lineCoordinates.x1=f[m].lineCoordinates.x1+(U[m]-(f[m]._titleTextBlock?f[m]._titleTextBlock.height:0)-2)-("outside"===f[m].tickPlacement?f[m].tickLength:0),f[m].lineCoordinates.x2=f[m].lineCoordinates.x1+f[m].lineThickness/2),f[m].bounds={x1:f[m].lineCoordinates.x1,y1:D,x2:k+U[m]+$e,y2:S,width:k-C,height:S-D},f[m].title&&(f[m]._titleTextBlock.maxWidth=0<f[m].titleMaxWidth&&f[m].titleMaxWidth<f[m].lineCoordinates.height?f[m].titleMaxWidth:f[m].lineCoordinates.height),f[m].calculateValueToPixelConversionParameters(),f[m].calculateBreaksSizeInValues(),$e+=U[m]+f[m].margin}for(m=0;m<I.length;m++)"axisY"===I[m].type&&(I[m].calculateValueToPixelConversionParameters(),I[m].calculateBreaksSizeInValues());if(0<z){if(o&&0<o.length)for(m=0;m<o.length;m++)P=_e[z-1][m]===_e[z][m];else P=!0;if(f&&0<f.length)for(m=0;m<f.length;m++)Ie=ce[z-1][m]===ce[z][m];else Ie=!0;if(h&&0<h.length)for(m=0;m<h.length;m++)we=Ne[z-1][m]===Ne[z][m];else we=!0;if(l&&0<l.length)for(m=0;m<l.length;m++)ke=N[z-1][m]===N[z][m];else ke=!0}if(P&&Ie&&we&&ke)break;z++}if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateStripLinesThicknessInValues(),h[m].calculateBreaksInPixels();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].calculateStripLinesThicknessInValues(),l[m].calculateBreaksInPixels();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].calculateStripLinesThicknessInValues(),o[m].calculateBreaksInPixels();if(f&&0<f.length)for(m=0;m<f.length;m++)f[m].calculateStripLinesThicknessInValues(),f[m].calculateBreaksInPixels()}},Oe.render=function(o,f,h,l,d){var v=o[0]?o[0].chart:f[0].chart;if(d=v.ctx,v.alignVerticalAxes&&v.alignVerticalAxes(),d.save(),d.beginPath(),o[0]&&d.rect(5,o[0].bounds.y1,o[0].chart.width-10,o[0].bounds.height),f[0]&&d.rect(5,f[f.length-1].bounds.y1,f[0].chart.width-10,f[0].bounds.height),d.clip(),o&&0<o.length)for(var C=0;C<o.length;C++)o[C].renderLabelsTicksAndTitle();if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderLabelsTicksAndTitle();if(d.restore(),h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderLabelsTicksAndTitle();if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderLabelsTicksAndTitle();if(v.preparePlotArea(),v=v.plotArea,d.save(),d.beginPath(),d.rect(v.x1,v.y1,Math.abs(v.x2-v.x1),Math.abs(v.y2-v.y1)),d.clip(),o&&0<o.length)for(C=0;C<o.length;C++)o[C].renderStripLinesOfThicknessType("value");if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderStripLinesOfThicknessType("value");if(h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderStripLinesOfThicknessType("value");if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(C=0;C<o.length;C++)o[C].renderInterlacedColors();if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderInterlacedColors();if(h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderInterlacedColors();if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderInterlacedColors();if(d.restore(),o&&0<o.length)for(C=0;C<o.length;C++)o[C].renderGrid(),te&&(o[C].createMask(),o[C].renderBreaksBackground());if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderGrid(),te&&(f[C].createMask(),f[C].renderBreaksBackground());if(h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderGrid(),te&&(h[C].createMask(),h[C].renderBreaksBackground());if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderGrid(),te&&(l[C].createMask(),l[C].renderBreaksBackground());if(o&&0<o.length)for(C=0;C<o.length;C++)o[C].renderAxisLine();if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderAxisLine();if(h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderAxisLine();if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderAxisLine();if(o&&0<o.length)for(C=0;C<o.length;C++)o[C].renderStripLinesOfThicknessType("pixel");if(f&&0<f.length)for(C=0;C<f.length;C++)f[C].renderStripLinesOfThicknessType("pixel");if(h&&0<h.length)for(C=0;C<h.length;C++)h[C].renderStripLinesOfThicknessType("pixel");if(l&&0<l.length)for(C=0;C<l.length;C++)l[C].renderStripLinesOfThicknessType("pixel")},Oe.prototype.calculateStripLinesThicknessInValues=function(){for(var o=0;o<this.stripLines.length;o++)if(null!==this.stripLines[o].startValue&&null!==this.stripLines[o].endValue){var h=Math.min(this.stripLines[o].startValue,this.stripLines[o].endValue),f=Math.max(this.stripLines[o].startValue,this.stripLines[o].endValue);h=this.getApparentDifference(h,f),this.stripLines[o].value=this.logarithmic?this.stripLines[o].value*Math.sqrt(Math.log(Math.max(this.stripLines[o].startValue,this.stripLines[o].endValue)/Math.min(this.stripLines[o].startValue,this.stripLines[o].endValue))/Math.log(h)):this.stripLines[o].value+(Math.abs(this.stripLines[o].endValue-this.stripLines[o].startValue)-h)/2,this.stripLines[o].thickness=h,this.stripLines[o]._thicknessType="value"}},Oe.prototype.calculateBreaksSizeInValues=function(){for(var d,o="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,f=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],h=this.conversionParameters.pixelPerUnit||o/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),l=this.scaleBreaks&&!H(this.scaleBreaks.options.spacing),v=0;v<f.length;v++)d=l||!H(f[v].options.spacing),f[v].spacing=ot(f[v].spacing,o,8,d?.1*o:8,d?0:3)<<0,f[v].size=0>f[v].spacing?0:Math.abs(f[v].spacing/h),this.logarithmic&&(f[v].size=Math.pow(this.logarithmBase,f[v].size))},Oe.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];o.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var f=0;f<o.length&&!(o[f].startValue>this.conversionParameters.maximum);f++)o[f].endValue<this.conversionParameters.minimum||(H(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=f),o[f].startValue>=this.conversionParameters.minimum&&(o[f].startPixel=this.convertValueToPixel(o[f].startValue),this.scaleBreaks.lastBreakIndex=f),o[f].endValue<=this.conversionParameters.maximum&&(o[f].endPixel=this.convertValueToPixel(o[f].endValue)))}},Oe.prototype.renderLabelsTicksAndTitle=function(){var T,I,o=this,f=!1,h=0,l=0,d=1,v=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(d=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){h=[],d=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var C,D=this.viewportMaximum,k=this.lineCoordinates.width/Math.log(this.range),_=this._labels.length-1;0<=_&&!((T=this._labels[_]).position<this.viewportMinimum);_--)T.position>this.viewportMaximum||!(_===this._labels.length-1||C<Math.log(D/T.position)*k/d)||(h.push(T),D=T.position,C=T.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=h}else{for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||(h+=C=T.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));h>this.lineCoordinates.width*d&&this.labelAutoFit&&(f=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var S;for(h=[],D=this.viewportMaximum,k=this.lineCoordinates.height/Math.log(this.range),_=this._labels.length-1;0<=_&&!((T=this._labels[_]).position<this.viewportMinimum);_--)T.position>this.viewportMaximum||!(_===this._labels.length-1||S<Math.log(D/T.position)*k)||(h.push(T),D=T.position,S=T.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=h}else{for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||(l+=S=T.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));l>this.lineCoordinates.height*d&&this.labelAutoFit&&(f=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(m,P){return m.position-P.position}),_=0,"bottom"===this._position){for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||T.position>this.viewportMaximum||(I=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,l=this.ctx.lineWidth%2==1?.5+(I.x<<0):I.x<<0,this.ctx.beginPath(),this.ctx.moveTo(l,I.y<<0),this.ctx.lineTo(l,I.y+this.tickLength<<0),this.ctx.stroke()),f&&v++%2!=0&&this.labelAutoFit||(0===T.textBlock.angle?(I.x-=T.textBlock.width/2,I.y="inside"===this.labelPlacement?I.y-(("inside"===this.tickPlacement?this.tickLength:0)+T.textBlock.height-T.textBlock.fontSize/2):I.y+("inside"===this.tickPlacement?0:this.tickLength)+T.textBlock.fontSize/2+5):(I.x="inside"===this.labelPlacement?0>this.labelAngle?I.x:I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):I.x-(0>this.labelAngle?T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),I.y="inside"===this.labelPlacement?0>this.labelAngle?I.y-("inside"===this.tickPlacement?this.tickLength:0)-5:I.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):I.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),T.textBlock.x=I.x,T.textBlock.y=I.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(_=0;_<o._labels.length;_++)if(!((T=o._labels[_]).position<o.viewportMinimum||T.position>o.viewportMaximum)&&(I=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2==1?.5+(I.x<<0):I.x<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(m,I.y<<0),o.ctx.lineTo(m,I.y-o.tickLength<<0),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||T.position>this.viewportMaximum||(I=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,l=this.ctx.lineWidth%2==1?.5+(I.x<<0):I.x<<0,this.ctx.beginPath(),this.ctx.moveTo(l,I.y<<0),this.ctx.lineTo(l,I.y-this.tickLength<<0),this.ctx.stroke()),f&&v++%2!=0&&this.labelAutoFit||(0===T.textBlock.angle?(I.x-=T.textBlock.width/2,I.y="inside"===this.labelPlacement?I.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:I.y-(("inside"===this.tickPlacement?0:this.tickLength)+T.textBlock.height-T.textBlock.fontSize/2)):(I.x="inside"===this.labelPlacement?0<this.labelAngle?I.x:I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):I.x+(T.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),I.y="inside"===this.labelPlacement?0<this.labelAngle?I.y+("inside"===this.tickPlacement?this.tickLength:0)+5:I.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:I.y-(("inside"===this.tickPlacement?0:this.tickLength)+((T.textBlock.height-T.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),T.textBlock.x=I.x,T.textBlock.y=I.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(_=0;_<o._labels.length;_++)if(!((T=o._labels[_]).position<o.viewportMinimum||T.position>o.viewportMaximum)&&(I=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2==1?.5+(I.x<<0):I.x<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(m,I.y<<0),o.ctx.lineTo(m,I.y+o.tickLength<<0),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||T.position>this.viewportMaximum||(I=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,l=this.ctx.lineWidth%2==1?.5+(I.y<<0):I.y<<0,this.ctx.beginPath(),this.ctx.moveTo(I.x<<0,l),this.ctx.lineTo(I.x-this.tickLength<<0,l),this.ctx.stroke()),f&&v++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(T.textBlock.y=I.y,T.textBlock.x="inside"===this.labelPlacement?I.x+("inside"===this.tickPlacement?this.tickLength:0)+5:I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(T.textBlock.y="inside"===this.labelPlacement?I.y:I.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),T.textBlock.x="inside"===this.labelPlacement?I.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(T.textBlock.height-T.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(_=0;_<o._labels.length;_++)if(!((T=o._labels[_]).position<o.viewportMinimum||T.position>o.viewportMaximum)&&(I=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2==1?.5+(I.y<<0):I.y<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(I.x<<0,m),o.ctx.lineTo(I.x+o.tickLength<<0,m),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||T.position>this.viewportMaximum||(I=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,l=this.ctx.lineWidth%2==1?.5+(I.y<<0):I.y<<0,this.ctx.beginPath(),this.ctx.moveTo(I.x<<0,l),this.ctx.lineTo(I.x+this.tickLength<<0,l),this.ctx.stroke()),f&&v++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(T.textBlock.y=I.y,T.textBlock.x="inside"===this.labelPlacement?I.x-T.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:I.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(T.textBlock.y="inside"===this.labelPlacement?I.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?I.y:I.y-(T.textBlock.height-T.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),T.textBlock.x="inside"===this.labelPlacement?I.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?I.x+(T.textBlock.height-T.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):I.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(_=0;_<o._labels.length;_++)if(!((T=o._labels[_]).position<o.viewportMinimum||T.position>o.viewportMaximum)&&(I=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2==1?.5+(I.y<<0):I.y<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(I.x<<0,m),o.ctx.lineTo(I.x-o.tickLength<<0,m),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(v=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationEnd",function(){for(_=0;_<o._labels.length;_++)(T=o._labels[_]).position<o.viewportMinimum||T.position>o.viewportMaximum||f&&v++%2!=0&&o.labelAutoFit||(o.ctx.save(),o.ctx.beginPath(),T.textBlock.render(!0),o.ctx.restore())},this);else for(_=0;_<this._labels.length;_++)(T=this._labels[_]).position<this.viewportMinimum||T.position>this.viewportMaximum||f&&v++%2!=0&&this.labelAutoFit||T.textBlock.render(!0)},Oe.prototype.renderInterlacedColors=function(){var f,h,o=this.chart.plotArea.ctx,l=this.chart.plotArea,d=0;if(f=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(o.fillStyle=this.interlacedColor,d=0;d<this._labels.length;d++)f?(h=this.getPixelCoordinatesOnAxis(this._labels[d].position),f=this.getPixelCoordinatesOnAxis(d+1>this._labels.length-1?this.viewportMaximum:this._labels[d+1].position),o.fillRect(l.x1,Math.min(h.y,f.y),Math.abs(l.x1-l.x2),Math.abs(f.y-h.y)),f=!1):f=!0}else for(o.fillStyle=this.interlacedColor,d=0;d<this._labels.length;d++)f?(f=this.getPixelCoordinatesOnAxis(this._labels[d].position),h=this.getPixelCoordinatesOnAxis(d+1>this._labels.length-1?this.viewportMaximum:this._labels[d+1].position),o.fillRect(Math.min(h.x,f.x),l.y1,Math.abs(h.x-f.x),Math.abs(l.y1-l.y2)),f=!1):f=!0;o.beginPath()},Oe.prototype.renderStripLinesOfThicknessType=function(o){if(this.stripLines&&0<this.stripLines.length&&o){var h,f=this,k=0,l=0,d=!1,D=!1,v=[],C=[];for(D=!1,k=0;k<this.stripLines.length;k++){var S=this.stripLines[k];S._thicknessType===o&&("pixel"===o&&(S.value<this.viewportMinimum||S.value>this.viewportMaximum||H(S.value)||isNaN(this.range))||"value"===o&&(S.startValue<=this.viewportMinimum&&S.endValue<=this.viewportMinimum||S.startValue>=this.viewportMaximum&&S.endValue>=this.viewportMaximum||H(S.startValue)||H(S.endValue)||isNaN(this.range))||v.push(S))}for(k=0;k<this._stripLineLabels.length;k++)if(S=this.stripLines[k],!((h=this._stripLineLabels[k]).position<this.viewportMinimum||h.position>this.viewportMaximum||isNaN(this.range))){if(o=this.getPixelCoordinatesOnAxis(h.position),"outside"===h.stripLine.labelPlacement)if(S&&(this.ctx.strokeStyle=S.color,"pixel"===S._thicknessType&&(this.ctx.lineWidth=S.thickness)),"bottom"===this._position){var _=this.ctx.lineWidth%2==1?.5+(o.x<<0):o.x<<0;this.ctx.beginPath(),this.ctx.moveTo(_,o.y<<0),this.ctx.lineTo(_,o.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(o.x-=h.textBlock.width/2,o.y+=this.tickLength+h.textBlock.fontSize/2+5):(o.x-=0>this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,o.y+=this.tickLength+Math.abs(0>this.labelAngle?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(_=this.ctx.lineWidth%2==1?.5+(o.x<<0):o.x<<0,this.ctx.beginPath(),this.ctx.moveTo(_,o.y<<0),this.ctx.lineTo(_,o.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(o.x-=h.textBlock.width/2,o.y-=this.tickLength+h.textBlock.height-h.textBlock.fontSize/2):(o.x+=(h.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),o.y-=this.tickLength+(h.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(_=this.ctx.lineWidth%2==1?.5+(o.y<<0):o.y<<0,this.ctx.beginPath(),this.ctx.moveTo(o.x<<0,_),this.ctx.lineTo(o.x-this.tickLength<<0,_),this.ctx.stroke(),0===this.labelAngle?o.x=o.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(o.y-=h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),o.x=0<this.labelAngle?o.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:o.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(_=this.ctx.lineWidth%2==1?.5+(o.y<<0):o.y<<0,this.ctx.beginPath(),this.ctx.moveTo(o.x<<0,_),this.ctx.lineTo(o.x+this.tickLength<<0,_),this.ctx.stroke(),0===this.labelAngle?o.x=o.x+this.tickLength+5:(o.y=0>this.labelAngle?o.y:o.y-(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),o.x=0<this.labelAngle?o.x+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:o.x+this.tickLength+5));else h.textBlock.angle=-90,"bottom"===this._position?(h.textBlock.maxWidth=this.options.stripLines[k].labelMaxWidth?this.options.stripLines[k].labelMaxWidth:this.chart.plotArea.height-3,h.textBlock.measureText(),o.x-h.textBlock.height>this.chart.plotArea.x1?H(S.startValue)?o.x-=h.textBlock.height-h.textBlock.fontSize/2:o.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,H(S.startValue)?o.x+=h.textBlock.height-h.textBlock.fontSize/2:o.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),o.y=-90===h.textBlock.angle?"near"===h.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y1+h.textBlock.width+3:"near"===h.stripLine.labelAlign?this.chart.plotArea.y2-h.textBlock.width-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(h.textBlock.maxWidth=this.options.stripLines[k].labelMaxWidth?this.options.stripLines[k].labelMaxWidth:this.chart.plotArea.height-3,h.textBlock.measureText(),o.x-h.textBlock.height>this.chart.plotArea.x1?H(S.startValue)?o.x-=h.textBlock.height-h.textBlock.fontSize/2:o.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,H(S.startValue)?o.x+=h.textBlock.height-h.textBlock.fontSize/2:o.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),o.y=-90===h.textBlock.angle?"near"===h.stripLine.labelAlign?this.chart.plotArea.y1+h.textBlock.width+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===h.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y2-h.textBlock.width-3):"left"===this._position?(h.textBlock.maxWidth=this.options.stripLines[k].labelMaxWidth?this.options.stripLines[k].labelMaxWidth:this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),o.y-h.textBlock.height>this.chart.plotArea.y1?H(S.startValue)?o.y-=h.textBlock.height-h.textBlock.fontSize/2:o.y-=h.textBlock.height/2-h.textBlock.fontSize+3:o.y-h.textBlock.height<this.chart.plotArea.y2?o.y+=h.textBlock.fontSize/2+3:H(S.startValue)?o.y-=h.textBlock.height-h.textBlock.fontSize/2:o.y-=h.textBlock.height/2-h.textBlock.fontSize+3,o.x="near"===h.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x2-h.textBlock.width-3):"right"===this._position&&(h.textBlock.maxWidth=this.options.stripLines[k].labelMaxWidth?this.options.stripLines[k].labelMaxWidth:this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),o.y-+h.textBlock.height>this.chart.plotArea.y1?H(S.startValue)?o.y-=h.textBlock.height-h.textBlock.fontSize/2:o.y-=h.textBlock.height/2-h.textBlock.fontSize/2-3:o.y-h.textBlock.height<this.chart.plotArea.y2?o.y+=h.textBlock.fontSize/2+3:H(S.startValue)?o.y-=h.textBlock.height-h.textBlock.fontSize/2:o.y-=h.textBlock.height/2-h.textBlock.fontSize/2+3,o.x="near"===h.stripLine.labelAlign?this.chart.plotArea.x2-h.textBlock.width-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x1+3);h.textBlock.x=o.x,h.textBlock.y=o.y,C.push(h)}if(!D){for(D=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),k=0;k<v.length;k++)(S=v[k]).showOnTop?d||(d=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<v.length;l++)(S=v[l]).showOnTop&&S.render();this.ctx.restore()},S)):S.render();for(k=0;k<C.length;k++)(h=C[k]).stripLine.showOnTop?D||(D=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(l=0;l<C.length;l++)"inside"===(h=C[l]).stripLine.labelPlacement&&h.stripLine.showOnTop&&(f.ctx.save(),f.ctx.beginPath(),f.ctx.rect(f.chart.plotArea.x1,f.chart.plotArea.y1,f.chart.plotArea.width,f.chart.plotArea.height),f.ctx.clip(),h.textBlock.render(!0),f.ctx.restore())},h.textBlock)):"inside"===h.stripLine.labelPlacement&&h.textBlock.render(!0);this.ctx.restore(),D=!0}if(D)for(D=!1,k=0;k<C.length;k++)"outside"===(h=C[k]).stripLine.labelPlacement&&h.textBlock.render(!0)}},Oe.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},Oe.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var o=this.scaleBreaks._appliedBreaks;te?(this.maskCanvas=mt(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var f=0;f<o.length;f++)o[f].endValue<this.viewportMinimum||o[f].startValue>this.viewportMaximum||isNaN(this.range)||o[f].render(this.maskCtx);this.maskCtx.restore()}},Oe.prototype.renderCrosshair=function(o,f){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(o,f),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},Oe.prototype.showCrosshair=function(o){H(o)||o<this.viewportMinimum||o>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(o),null,o):this.crosshair.render(null,this.convertValueToPixel(o),o))},Oe.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var o=this.chart.ctx;o.save();var f,h=this.chart.plotArea;if(o.lineWidth=this.gridThickness,o.strokeStyle=this.gridColor,o.setLineDash&&o.setLineDash(lt(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(l=0;l<this._labels.length;l++)this._labels[l].position<this.viewportMinimum||this._labels[l].position>this.viewportMaximum||this._labels[l].breaksLabelType||(o.beginPath(),f=this.getPixelCoordinatesOnAxis(this._labels[l].position),o.moveTo(f=o.lineWidth%2==1?.5+(f.x<<0):f.x<<0,h.y1<<0),o.lineTo(f,h.y2<<0),o.stroke());else if("left"===this._position||"right"===this._position)for(var l=0;l<this._labels.length;l++)this._labels[l].position<this.viewportMinimum||this._labels[l].position>this.viewportMaximum||this._labels[l].breaksLabelType||(o.beginPath(),f=this.getPixelCoordinatesOnAxis(this._labels[l].position),o.moveTo(h.x1<<0,f=o.lineWidth%2==1?.5+(f.y<<0):f.y<<0),o.lineTo(h.x2<<0,f),o.stroke());o.restore()}},Oe.prototype.renderAxisLine=function(){var d,v,o=this.chart.ctx,f=te?this.chart._preRenderCtx:o,h=Math.ceil(this.tickThickness/(this.reversed?-2:2)),l=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(f.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(d=this.lineCoordinates.x2,v=this.lineCoordinates.x1):(d=this.lineCoordinates.x1,v=this.lineCoordinates.x2),f.lineWidth=this.lineThickness,f.strokeStyle=this.lineColor?this.lineColor:"black",f.setLineDash&&f.setLineDash(lt(this.lineDashType,this.lineThickness));var C=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(f.beginPath(),this.scaleBreaks&&!H(this.scaleBreaks.firstBreakIndex))if(H(this.scaleBreaks.lastBreakIndex))d=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+l;else for(var D=this.scaleBreaks.firstBreakIndex;D<=this.scaleBreaks.lastBreakIndex;D++)f.moveTo(d,C),f.lineTo(this.scaleBreaks._appliedBreaks[D].startPixel+h,C),d=this.scaleBreaks._appliedBreaks[D].endPixel+l;d&&(f.moveTo(d,C),f.lineTo(v,C)),f.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(d=this.lineCoordinates.y1,v=this.lineCoordinates.y2):(d=this.lineCoordinates.y2,v=this.lineCoordinates.y1),f.lineWidth=this.lineThickness,f.strokeStyle=this.lineColor,f.setLineDash&&f.setLineDash(lt(this.lineDashType,this.lineThickness)),C=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,f.beginPath(),this.scaleBreaks&&!H(this.scaleBreaks.firstBreakIndex))if(H(this.scaleBreaks.lastBreakIndex))d=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+h;else for(D=this.scaleBreaks.firstBreakIndex;D<=this.scaleBreaks.lastBreakIndex;D++)f.moveTo(C,d),f.lineTo(C,this.scaleBreaks._appliedBreaks[D].startPixel+l),d=this.scaleBreaks._appliedBreaks[D].endPixel+h;d&&(f.moveTo(C,d),f.lineTo(C,v)),f.stroke()}te&&(o.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),f.clearRect(0,0,this.chart.width,this.chart.height)),f.restore()},Oe.prototype.getPixelCoordinatesOnAxis=function(o){var f={};return("bottom"===this._position||"top"===this._position)&&(f.x=this.convertValueToPixel(o),f.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(f.y=this.convertValueToPixel(o),f.x=this.lineCoordinates.x2),f},Oe.prototype.convertPixelToValue=function(o){if(typeof o>"u")return null;var f,h=0,d=0,l=(h=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(d="number"==typeof o?o:"left"===this._position||"right"===this._position?o.y:o.x,this.logarithmic){if(o=f=Math.pow(this.logarithmBase,(d-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),d<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(d=0;d<l.length;d++)if(!(l[d].endValue<this.conversionParameters.minimum))if(h)if(l[d].startValue<this.conversionParameters.minimum){if(1<l[d].size&&this.conversionParameters.minimum*Math.pow(l[d].endValue/l[d].startValue,Math.log(f)/Math.log(l[d].size))<l[d].endValue){o=Math.pow(l[d].endValue/l[d].startValue,Math.log(f)/Math.log(l[d].size));break}o*=l[d].endValue/this.conversionParameters.minimum/Math.pow(l[d].size,Math.log(l[d].endValue/this.conversionParameters.minimum)/Math.log(l[d].endValue/l[d].startValue)),f/=Math.pow(l[d].size,Math.log(l[d].endValue/this.conversionParameters.minimum)/Math.log(l[d].endValue/l[d].startValue)),h=!1}else{if(!(f>l[d].startValue/this.conversionParameters.minimum))break;if((f/=l[d].startValue/this.conversionParameters.minimum)<l[d].size){o*=Math.pow(l[d].endValue/l[d].startValue,1===l[d].size?1:Math.log(f)/Math.log(l[d].size))/f;break}o*=l[d].endValue/l[d].startValue/l[d].size,f/=l[d].size,h=!1}else{if(!(f>l[d].startValue/l[d-1].endValue))break;if((f/=l[d].startValue/l[d-1].endValue)<l[d].size){o*=Math.pow(l[d].endValue/l[d].startValue,1===l[d].size?1:Math.log(f)/Math.log(l[d].size))/f;break}o*=l[d].endValue/l[d].startValue/l[d].size,f/=l[d].size}}else for(d=l.length-1;0<=d;d--)if(!(l[d].startValue>this.conversionParameters.minimum))if(h)if(l[d].endValue>this.conversionParameters.minimum){if(1<l[d].size&&this.conversionParameters.minimum*Math.pow(l[d].endValue/l[d].startValue,Math.log(f)/Math.log(l[d].size))>l[d].startValue){o=Math.pow(l[d].endValue/l[d].startValue,Math.log(f)/Math.log(l[d].size));break}o*=l[d].startValue/this.conversionParameters.minimum*Math.pow(l[d].size,Math.log(l[d].startValue/this.conversionParameters.minimum)/Math.log(l[d].endValue/l[d].startValue))*f,f*=Math.pow(l[d].size,Math.log(this.conversionParameters.minimum/l[d].startValue)/Math.log(l[d].endValue/l[d].startValue)),h=!1}else{if(!(f<l[d].endValue/this.conversionParameters.minimum))break;if((f/=l[d].endValue/this.conversionParameters.minimum)>1/l[d].size){o*=Math.pow(l[d].endValue/l[d].startValue,1>=l[d].size?1:Math.log(f)/Math.log(l[d].size))*f;break}o/=l[d].endValue/l[d].startValue/l[d].size,f*=l[d].size,h=!1}else{if(!(f<l[d].endValue/l[d+1].startValue))break;if((f/=l[d].endValue/l[d+1].startValue)>1/l[d].size){o*=Math.pow(l[d].endValue/l[d].startValue,1>=l[d].size?1:Math.log(f)/Math.log(l[d].size))*f;break}o/=l[d].endValue/l[d].startValue/l[d].size,f*=l[d].size}h=o*this.viewportMinimum}else{if(o=f=(d-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,d<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(d=0;d<l.length;d++)if(!(l[d].endValue<this.conversionParameters.minimum))if(h)if(l[d].startValue<this.conversionParameters.minimum){if(l[d].size&&this.conversionParameters.minimum+f*(l[d].endValue-l[d].startValue)/l[d].size<l[d].endValue){o=0>=l[d].size?0:f*(l[d].endValue-l[d].startValue)/l[d].size;break}o+=l[d].endValue-this.conversionParameters.minimum-l[d].size*(l[d].endValue-this.conversionParameters.minimum)/(l[d].endValue-l[d].startValue),f-=l[d].size*(l[d].endValue-this.conversionParameters.minimum)/(l[d].endValue-l[d].startValue),h=!1}else{if(!(f>l[d].startValue-this.conversionParameters.minimum))break;if((f-=l[d].startValue-this.conversionParameters.minimum)<l[d].size){o+=(l[d].endValue-l[d].startValue)*(0===l[d].size?1:f/l[d].size)-f;break}o+=l[d].endValue-l[d].startValue-l[d].size,f-=l[d].size,h=!1}else{if(!(f>l[d].startValue-l[d-1].endValue))break;if((f-=l[d].startValue-l[d-1].endValue)<l[d].size){o+=(l[d].endValue-l[d].startValue)*(0===l[d].size?1:f/l[d].size)-f;break}o+=l[d].endValue-l[d].startValue-l[d].size,f-=l[d].size}}else for(d=l.length-1;0<=d;d--)if(!(l[d].startValue>this.conversionParameters.minimum))if(h)if(l[d].endValue>this.conversionParameters.minimum){if(l[d].size&&this.conversionParameters.minimum+f*(l[d].endValue-l[d].startValue)/l[d].size>l[d].startValue){o=0>=l[d].size?0:f*(l[d].endValue-l[d].startValue)/l[d].size;break}o+=l[d].startValue-this.conversionParameters.minimum+l[d].size*(this.conversionParameters.minimum-l[d].startValue)/(l[d].endValue-l[d].startValue),f+=l[d].size*(this.conversionParameters.minimum-l[d].startValue)/(l[d].endValue-l[d].startValue),h=!1}else{if(!(f<l[d].endValue-this.conversionParameters.minimum))break;if((f-=l[d].endValue-this.conversionParameters.minimum)>-1*l[d].size){o+=(l[d].endValue-l[d].startValue)*(0===l[d].size?1:f/l[d].size)+f;break}o-=l[d].endValue-l[d].startValue-l[d].size,f+=l[d].size,h=!1}else{if(!(f<l[d].endValue-l[d+1].startValue))break;if((f-=l[d].endValue-l[d+1].startValue)>-1*l[d].size){o+=(l[d].endValue-l[d].startValue)*(0===l[d].size?1:f/l[d].size)+f;break}o-=l[d].endValue-l[d].startValue-l[d].size,f+=l[d].size}h=this.conversionParameters.minimum+o}return h},Oe.prototype.convertValueToPixel=function(o){return o=this.getApparentDifference(this.conversionParameters.minimum,o,o),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(o/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(o-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(o-this.conversionParameters.minimum)+.5},Oe.prototype.getApparentDifference=function(o,f,h,l){var d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){h=H(h)?f/o:h;for(var v=0;v<d.length&&!(f<d[v].startValue);v++)o>d[v].endValue||(o<=d[v].startValue&&f>=d[v].endValue?h=h/d[v].endValue*d[v].startValue*d[v].size:o>=d[v].startValue&&f>=d[v].endValue?h=h/d[v].endValue*o*Math.pow(d[v].size,Math.log(d[v].endValue/o)/Math.log(d[v].endValue/d[v].startValue)):o<=d[v].startValue&&f<=d[v].endValue?h=h/f*d[v].startValue*Math.pow(d[v].size,Math.log(f/d[v].startValue)/Math.log(d[v].endValue/d[v].startValue)):!l&&o>d[v].startValue&&f<d[v].endValue&&(h=o*Math.pow(d[v].size,Math.log(f/o)/Math.log(d[v].endValue/d[v].startValue))))}else for(h=H(h)?Math.abs(f-o):h,v=0;v<d.length&&!(f<d[v].startValue);v++)o>d[v].endValue||(o<=d[v].startValue&&f>=d[v].endValue?h=h-d[v].endValue+d[v].startValue+d[v].size:o>d[v].startValue&&f>=d[v].endValue?h=h-d[v].endValue+o+d[v].size*(d[v].endValue-o)/(d[v].endValue-d[v].startValue):o<=d[v].startValue&&f<d[v].endValue?h=h-f+d[v].startValue+d[v].size*(f-d[v].startValue)/(d[v].endValue-d[v].startValue):!l&&o>d[v].startValue&&f<d[v].endValue&&(h=o+d[v].size*(f-o)/(d[v].endValue-d[v].startValue)));return h},Oe.prototype.setViewPortRange=function(o,f){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(o,f),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(o,f)},Oe.prototype.getXValueAt=function(o){if(!o)return null;var f=null;return"left"===this._position?f=this.convertPixelToValue(o.y):"bottom"===this._position&&(f=this.convertPixelToValue(o.x)),f},Oe.prototype.calculateValueToPixelConversionParameters=function(o){o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var f={pixelPerUnit:null,minimum:null,reference:null},h=this.lineCoordinates.width,l=this.lineCoordinates.height;if(h="bottom"===this._position||"top"===this._position?h:l,l=Math.abs(this.range),this.logarithmic)for(var d=0;d<o.length&&!(this.viewportMaximum<o[d].startValue);d++)this.viewportMinimum>o[d].endValue||(this.viewportMinimum>=o[d].startValue&&this.viewportMaximum<=o[d].endValue?h=0:this.viewportMinimum<=o[d].startValue&&this.viewportMaximum>=o[d].endValue?(l=l/o[d].endValue*o[d].startValue,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100):h-Math.min(o[d].spacing,.1*h)):this.viewportMinimum>o[d].startValue&&this.viewportMaximum>=o[d].endValue?(l=l/o[d].endValue*this.viewportMinimum,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100*Math.log(o[d].endValue/this.viewportMinimum)/Math.log(o[d].endValue/o[d].startValue)):h-Math.min(o[d].spacing,.1*h)*Math.log(o[d].endValue/this.viewportMinimum)/Math.log(o[d].endValue/o[d].startValue)):this.viewportMinimum<=o[d].startValue&&this.viewportMaximum<o[d].endValue&&(l=l/this.viewportMaximum*o[d].startValue,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100*Math.log(this.viewportMaximum/o[d].startValue)/Math.log(o[d].endValue/o[d].startValue)):h-Math.min(o[d].spacing,.1*h)*Math.log(this.viewportMaximum/o[d].startValue)/Math.log(o[d].endValue/o[d].startValue)));else for(d=0;d<o.length&&!(this.viewportMaximum<o[d].startValue);d++)this.viewportMinimum>o[d].endValue||(this.viewportMinimum>=o[d].startValue&&this.viewportMaximum<=o[d].endValue?h=0:this.viewportMinimum<=o[d].startValue&&this.viewportMaximum>=o[d].endValue?(l=l-o[d].endValue+o[d].startValue,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100):h-Math.min(o[d].spacing,.1*h)):this.viewportMinimum>o[d].startValue&&this.viewportMaximum>=o[d].endValue?(l=l-o[d].endValue+this.viewportMinimum,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100*(o[d].endValue-this.viewportMinimum)/(o[d].endValue-o[d].startValue)):h-Math.min(o[d].spacing,.1*h)*(o[d].endValue-this.viewportMinimum)/(o[d].endValue-o[d].startValue)):this.viewportMinimum<=o[d].startValue&&this.viewportMaximum<o[d].endValue&&(l=l-this.viewportMaximum+o[d].startValue,h=0<o[d].spacing.toString().indexOf("%")?h*(1-parseFloat(o[d].spacing)/100*(this.viewportMaximum-o[d].startValue)/(o[d].endValue-o[d].startValue)):h-Math.min(o[d].spacing,.1*h)*(this.viewportMaximum-o[d].startValue)/(o[d].endValue-o[d].startValue)));f.minimum=this.viewportMinimum,f.maximum=this.viewportMaximum,f.range=l,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?-1:1)*h*f.lnLogarithmBase/Math.log(Math.abs(l))):f.pixelPerUnit=(this.reversed?-1:1)*h/Math.abs(l),f.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?1:-1)*h*f.lnLogarithmBase/Math.log(Math.abs(l))):f.pixelPerUnit=(this.reversed?1:-1)*h/Math.abs(l),f.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=f},Oe.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var h=this.chart.layoutManager.getFreeSpace(),o=!1,f=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=h.width,this.maxHeight=h.height):(this.maxWidth=h.height,this.maxHeight=h.width),h="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var l,d,v,C=4;if("axisX"===this.type&&(C=600>this.maxWidth?8:6),h=Math.max(C,Math.floor(this.maxWidth/h)),C=0,!H(this.options.viewportMinimum)&&!H(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!H(this.options.viewportMinimum)||H(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!H(this.options.viewportMaximum)||H(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(C=0;C<this.scaleBreaks._appliedBreaks.length;C++)if((!H(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[C].startValue||!H(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[C].startValue||!H(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[C].startValue)&&(!H(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[C].endValue||!H(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[C].endValue||!H(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[C].endValue)){this.scaleBreaks._appliedBreaks.splice(C,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(l=0;l<this.dataSeries.length;l++)"dateTime"===this.dataSeries[l].xValueType&&(f=!0);(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(l=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(d+=C=typeof this.options.interval>"u"?.4:this.options.interval,l-=C),this.dataInfo.minDiff!==1/0?v=this.dataInfo.minDiff:1<d-l?v=.5*Math.abs(d-l):(v=1,f&&(o=!0))}else"axisY"===this.type&&(l=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(l)||isFinite(d)?isFinite(l)?isFinite(d)||(d=l):l=d:(d=typeof this.options.interval>"u"?-1/0:this.options.interval,l=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===l&&0===d?(d+=9,l=0):d-l==0?(d+=C=Math.min(Math.abs(.01*Math.abs(d)),5),l-=C):l>d?(C=Math.min(.01*Math.abs(this.getApparentDifference(d,l,null,!0)),5),0<=d?l=d-C:d=isFinite(l)?l+C:0):(C=Math.min(.01*Math.abs(this.getApparentDifference(l,d,null,!0)),.05),0!==d&&(d+=C),0!==l&&(l-=C)),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-l?.5*Math.abs(d-l):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<l&&(l=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>d&&(d=0));C=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?l:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum,null,!0),"axisX"===this.type&&f?(this.valueType="dateTime",this.intervalType||(C/1<=h?(this.interval=1,this.intervalType="millisecond"):C/2<=h?(this.interval=2,this.intervalType="millisecond"):C/5<=h?(this.interval=5,this.intervalType="millisecond"):C/10<=h?(this.interval=10,this.intervalType="millisecond"):C/20<=h?(this.interval=20,this.intervalType="millisecond"):C/50<=h?(this.interval=50,this.intervalType="millisecond"):C/100<=h?(this.interval=100,this.intervalType="millisecond"):C/200<=h?(this.interval=200,this.intervalType="millisecond"):C/250<=h?(this.interval=250,this.intervalType="millisecond"):C/300<=h?(this.interval=300,this.intervalType="millisecond"):C/400<=h?(this.interval=400,this.intervalType="millisecond"):C/500<=h?(this.interval=500,this.intervalType="millisecond"):C/(1*Gt.secondDuration)<=h?(this.interval=1,this.intervalType="second"):C/(2*Gt.secondDuration)<=h?(this.interval=2,this.intervalType="second"):C/(5*Gt.secondDuration)<=h?(this.interval=5,this.intervalType="second"):C/(10*Gt.secondDuration)<=h?(this.interval=10,this.intervalType="second"):C/(15*Gt.secondDuration)<=h?(this.interval=15,this.intervalType="second"):C/(20*Gt.secondDuration)<=h?(this.interval=20,this.intervalType="second"):C/(30*Gt.secondDuration)<=h?(this.interval=30,this.intervalType="second"):C/(1*Gt.minuteDuration)<=h?(this.interval=1,this.intervalType="minute"):C/(2*Gt.minuteDuration)<=h?(this.interval=2,this.intervalType="minute"):C/(5*Gt.minuteDuration)<=h?(this.interval=5,this.intervalType="minute"):C/(10*Gt.minuteDuration)<=h?(this.interval=10,this.intervalType="minute"):C/(15*Gt.minuteDuration)<=h?(this.interval=15,this.intervalType="minute"):C/(20*Gt.minuteDuration)<=h?(this.interval=20,this.intervalType="minute"):C/(30*Gt.minuteDuration)<=h?(this.interval=30,this.intervalType="minute"):C/(1*Gt.hourDuration)<=h?(this.interval=1,this.intervalType="hour"):C/(2*Gt.hourDuration)<=h?(this.interval=2,this.intervalType="hour"):C/(3*Gt.hourDuration)<=h?(this.interval=3,this.intervalType="hour"):C/(6*Gt.hourDuration)<=h?(this.interval=6,this.intervalType="hour"):C/(1*Gt.dayDuration)<=h?(this.interval=1,this.intervalType="day"):C/(2*Gt.dayDuration)<=h?(this.interval=2,this.intervalType="day"):C/(4*Gt.dayDuration)<=h?(this.interval=4,this.intervalType="day"):C/(1*Gt.weekDuration)<=h?(this.interval=1,this.intervalType="week"):C/(2*Gt.weekDuration)<=h?(this.interval=2,this.intervalType="week"):C/(3*Gt.weekDuration)<=h?(this.interval=3,this.intervalType="week"):C/(1*Gt.monthDuration)<=h?(this.interval=1,this.intervalType="month"):C/(2*Gt.monthDuration)<=h?(this.interval=2,this.intervalType="month"):C/(3*Gt.monthDuration)<=h?(this.interval=3,this.intervalType="month"):C/(6*Gt.monthDuration)<=h?(this.interval=6,this.intervalType="month"):(this.interval=C/(1*Gt.yearDuration)<=h?1:C/(2*Gt.yearDuration)<=h?2:C/(4*Gt.yearDuration)<=h?4:Math.floor(Oe.getNiceNumber(C/(h-1),!0)/Gt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=l-v/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=d+v/2),o?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",C=Oe.getNiceNumber(C,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:Oe.getNiceNumber(C/(h-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?l-v/2:Math.floor(l/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d+v/2:Math.ceil(d/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=Oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(h-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((d=null!==this.maximum?this.maximum:this.dataInfo.max)-(l=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(d+=C=typeof this.options.interval>"u"?.4:this.options.interval,l-=C),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-l?.5*Math.abs(d-l):1):"axisY"===this.type&&(l=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(l)||isFinite(d)?0===l&&0===d?(d+=9,l=0):d-l==0?(d+=C=Math.min(Math.abs(.01*Math.abs(d)),5),l-=C):l>d?(C=Math.min(.01*Math.abs(this.getApparentDifference(d,l,null,!0)),5),0<=d?l=d-C:d=isFinite(l)?l+C:0):(C=Math.min(.01*Math.abs(this.getApparentDifference(l,d,null,!0)),.05),0!==d&&(d+=C),0!==l&&(l-=C)):(d=typeof this.options.interval>"u"?-1/0:this.options.interval,l=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-l?.5*Math.abs(d-l):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<l&&(l=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>d&&(d=0)),Math.abs(this.getApparentDifference(l,d,null,!0)),"axisX"===this.type&&f?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=l-v/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=d+v/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?l-v/2:Math.floor(l/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?d+v/2:Math.ceil(d/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),H(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),H(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&f?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=Oe.generateValueFormatString(this.range,2))}},Oe.prototype.calculateLogarithmicAxisParameters=function(){var f,l,d,v,C,h=this.chart.layoutManager.getFreeSpace(),o=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=h.width,this.maxHeight=h.height):(this.maxWidth=h.height,this.maxHeight=h.width),h="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),C=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(C=0;C<this.scaleBreaks._appliedBreaks.length;C++)if((!H(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[C].startValue||!H(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[C].startValue||!H(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[C].startValue)&&(!H(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[C].endValue||!H(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[C].endValue||!H(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[C].endValue)){this.scaleBreaks._appliedBreaks.splice(C,1);break}"axisX"===this.type?((d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(l=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(d*=C=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),l/=C),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/l>this.logarithmBase?d/l*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(l=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(d)?(d=typeof this.options.interval>"u"?0:this.options.interval,l=1):0>=l?l=d:isFinite(d)||(d=l),1===l&&1===d?(d*=this.logarithmBase-1/this.logarithmBase,l=1):d/l==1?(d*=C=Math.min(d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),l/=C):l>d?(C=Math.min(l/d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=d?l=d/C:d=l*C):(C=Math.min(d/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=C),1!==l&&(l/=C)),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/l>this.logarithmBase?d/l*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<l&&(l=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>d&&(d=1)),C=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?l:this.viewportMinimum);var D=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?l:this.viewportMinimum);if(this.intervalType="number",C=Math.pow(this.logarithmBase,Oe.getNiceNumber(Math.abs(Math.log(C)/o),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=Oe.getNiceExponent(Math.log(C)/o/(h-1),!0),f=Oe.getNiceNumber(D/(h-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?l/Math.sqrt(v):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(l)/o/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d*Math.sqrt(v):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/o/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=Oe.getNiceExponent(Math.ceil(Math.log(C)/o)/(h-1)),f=Oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(h-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((d=null!==this.maximum?this.maximum:this.dataInfo.max)/(l=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(d*=C=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),l/=C),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/l>this.logarithmBase?d/l*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(l=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(l)||isFinite(d)?1===l&&1===d?(d*=this.logarithmBase,l/=this.logarithmBase):d/l==1?(d*=C=Math.pow(this.logarithmBase,this.interval),l/=C):l>d?(C=Math.min(l/d*.01,5),1<=d?l=d/C:d=l*C):(C=Math.min(d/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=C),1!==l&&(l/=C)):(d=typeof this.options.interval>"u"?0:this.options.interval,l=1),v=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/l>this.logarithmBase?d/l*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<l&&(l=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>d&&(d=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?l/Math.sqrt(v):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(l)/o/this.interval)),H(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?d*Math.sqrt(v):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/o/this.interval)),H(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),l=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(o*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=h,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>h?2:3)){for(o=Math.floor(this.viewportMinimum/f+.5)*f;o<this.viewportMinimum;)o+=f;this.equidistantInterval=!1,this.intervalStartPosition=o,this.interval=f}else this.options.interval||(f=Math.ceil(this.interval),this.range>this.interval&&(this.interval=f,l=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(o*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=l;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(o=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(o)||!isFinite(o))&&(o=2),2<o))for(C=0;C<o-2;C++)this.valueFormatString+="#"},Oe.generateValueFormatString=function(o,f){var h="#,##0.",l=f;1>o&&(l+=Math.floor(Math.abs(Math.log(o)/Math.LN10)),isNaN(l)||!isFinite(l))&&(l=f);for(var d=0;d<l;d++)h+="#";return h},Oe.getNiceExponent=function(o,f){var h=Math.floor(Math.log(o)/Math.LN10),l=o/Math.pow(10,h);return l=0>h?1>=l?1:5>=l?5:10:Math.max(Math.floor(l),1),Number(-20>h?l*Math.pow(10,h):(l*Math.pow(10,h)).toFixed(20))},Oe.getNiceNumber=function(o,f){var h=Math.floor(Math.log(o)/Math.LN10),l=o/Math.pow(10,h);return l=f?1.5>l?1:3>l?2:7>l?5:10:1>=l?1:2>=l?2:5>=l?5:10,Number(-20>h?l*Math.pow(10,h):(l*Math.pow(10,h)).toFixed(20))},Oe.prototype.getLabelStartPoint=function(){var o=Gt[this.intervalType+"Duration"]*this.interval;return o=new Date(Math.floor(this.viewportMinimum/o)*o),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<o.getMilliseconds()&&(o.setSeconds(o.getSeconds()+1),o.setMilliseconds(0)):"minute"===this.intervalType?(0<o.getSeconds()||0<o.getMilliseconds())&&(o.setMinutes(o.getMinutes()+1),o.setSeconds(0),o.setMilliseconds(0)):"hour"===this.intervalType?(0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setHours(o.getHours()+1),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):"day"===this.intervalType?(0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setDate(o.getDate()+1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):"week"===this.intervalType?(0<o.getDay()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setDate(o.getDate()+(7-o.getDay())),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):"month"===this.intervalType?(1<o.getDate()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setMonth(o.getMonth()+1),o.setDate(1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):"year"===this.intervalType&&(0<o.getMonth()||1<o.getDate()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setFullYear(o.getFullYear()+1),o.setMonth(0),o.setDate(1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0))),o},he(ue,It),he(oe,It),oe.prototype.createUserOptions=function(o){if(typeof o<"u"||this.options._isPlaceholder){var f=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(De(this.parent[this.optionsName]),f=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof o>"u"?{}:o,this.parent.options[this.optionsName][f]=this.options}},oe.prototype.render=function(o){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var f=this.ctx,h=this.ctx.globalAlpha;this.ctx=o||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var v,C,D,k,S,_,l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),d=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Fe(this.id),o=Math.max(this.spacing,3);var T=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=T,this.ctx.setLineDash&&this.ctx.setLineDash(lt(this.lineDashType,T)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(C=T%2==1?.5+(d.x<<0):d.x<<0,"top"===this.scaleBreaks.parent._position?(d=this.chart.plotArea.y1,D=this.chart.plotArea.y2+T/2+.5<<0):(d=this.chart.plotArea.y2,D=this.chart.plotArea.y1-T/2+.5<<0,o*=-1),this.bounds={x1:(l=T%2==1?.5+(l.x<<0):l.x<<0)-T/2,y1:d,x2:C+T/2,y2:D},this.ctx.moveTo(l,d),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=o||"bottom"===this.scaleBreaks.parent._position&&0<=o)this.ctx.lineTo(l,D),this.ctx.lineTo(C,D),this.ctx.lineTo(C,d);else if("wavy"===this.type){k=l,v=.5,_=(D-(S=d))/o/3;for(var I=0;I<_;I++)this.ctx.bezierCurveTo(k+v*o,S+o,k+v*o,S+2*o,k,S+3*o),S+=3*o,v*=-1;for(this.ctx.bezierCurveTo(k+v*o,S+o,k+v*o,S+2*o,k,S+3*o),v*=-1,this.ctx.lineTo(k=C,S),I=0;I<_;I++)this.ctx.bezierCurveTo(k+v*o,S-o,k+v*o,S-2*o,k,S-3*o),S-=3*o,v*=-1}else if("zigzag"===this.type){for(v=-1,k=l+o,_=(D-(S=d+o))/o/2,I=0;I<_;I++)this.ctx.lineTo(k,S),k+=2*v*o,S+=2*o,v*=-1;for(this.ctx.lineTo(k,S),k+=C-l,I=0;I<_+1;I++)this.ctx.lineTo(k,S),k+=2*v*o,S-=2*o,v*=-1;this.ctx.lineTo(k+v*o,S+o)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(D=T%2==1?.5+(l.y<<0):l.y<<0,"left"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.x1,C=this.chart.plotArea.x2+T/2+.5<<0):(l=this.chart.plotArea.x2,C=this.chart.plotArea.x1-T/2+.5<<0,o*=-1),this.bounds={x1:l,y1:(d=T%2==1?.5+(d.y<<0):d.y<<0)-T/2,x2:C,y2:D+T/2},this.ctx.moveTo(l,d),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=o||"right"===this.scaleBreaks.parent._position&&0<=o)this.ctx.lineTo(C,d),this.ctx.lineTo(C,D),this.ctx.lineTo(l,D);else if("wavy"===this.type){for(S=d,v=.5,_=(C-(k=l))/o/3,I=0;I<_;I++)this.ctx.bezierCurveTo(k+o,S+v*o,k+2*o,S+v*o,k+3*o,S),k+=3*o,v*=-1;for(this.ctx.bezierCurveTo(k+o,S+v*o,k+2*o,S+v*o,k+3*o,S),v*=-1,this.ctx.lineTo(k,S=D),I=0;I<_;I++)this.ctx.bezierCurveTo(k-o,S+v*o,k-2*o,S+v*o,k-3*o,S),k-=3*o,v*=-1}else if("zigzag"===this.type){for(v=1,S=d-o,_=(C-(k=l+o))/o/2,I=0;I<_;I++)this.ctx.lineTo(k,S),S+=2*v*o,k+=2*o,v*=-1;for(this.ctx.lineTo(k,S),S+=D-d,I=0;I<_+1;I++)this.ctx.lineTo(k,S),S+=2*v*o,k-=2*o,v*=-1;this.ctx.lineTo(k+o,S+v*o)}0<T&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=h,this.ctx=f}},he(me,It),me.prototype.createUserOptions=function(o){if(typeof o<"u"||this.options._isPlaceholder){var f=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(De(this.parent.stripLines),f=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof o>"u"?{}:o,this.parent.options.stripLines[f]=this.options}},me.prototype.render=function(){this.ctx.save();var o=this.parent.getPixelCoordinatesOnAxis(this.value),f=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<f){var h=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var d,v,C,D,l=this.ctx.globalAlpha;this.ctx.globalAlpha=h,Fe(this.id),this.ctx.lineWidth=f,this.ctx.setLineDash&&this.ctx.setLineDash(lt(this.lineDashType,f)),"bottom"===this.parent._position||"top"===this.parent._position?(d=v=this.ctx.lineWidth%2==1?.5+(o.x<<0):o.x<<0,this.bounds={x1:d-f/2,y1:C=this.chart.plotArea.y1,x2:v+f/2,y2:D=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(C=D=this.ctx.lineWidth%2==1?.5+(o.y<<0):o.y<<0,this.bounds={x1:d=this.chart.plotArea.x1,y1:C-f/2,x2:v=this.chart.plotArea.x2,y2:D+f/2}),this.ctx.moveTo(d,C),this.ctx.lineTo(v,D),this.ctx.stroke(),this.ctx.globalAlpha=l}this.ctx.restore()},he(le,It),le.prototype.showAt=function(o){if(!this.enabled)return!1;var f=this.chart,h=!1;if(f.resetOverlayedCanvas(),f.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===f.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var l=0;l<f.axisY.length;l++)this.parent===f.axisY[l]&&(f.axisY[l]._crosshairValue=o>=f.axisY[l].viewportMinimum&&o<=f.axisY[l].viewportMaximum?o:null);else if("top"===this.parent._position)for(l=0;l<f.axisY2.length;l++)this.parent===f.axisY2[l]&&(f.axisY2[l]._crosshairValue=o>=f.axisY2[l].viewportMinimum&&o<=f.axisY2[l].viewportMaximum?o:null);else if("left"===this.parent._position)for(l=0;l<f.axisX.length;l++)this.parent===f.axisX[l]&&(f.axisX[l]._crosshairValue=o>=f.axisX[l].viewportMinimum&&o<=f.axisX[l].viewportMaximum?o:null);else if("right"===this.parent._position)for(l=0;l<f.axisX2.length;l++)this.parent===f.axisX2[l]&&(f.axisX2[l]._crosshairValue=o>=f.axisX2[l].viewportMinimum&&o<=f.axisX2[l].viewportMaximum?o:null)}else if("bottom"===this.parent._position)for(l=0;l<f.axisX.length;l++)this.parent===f.axisX[l]&&(f.axisX[l]._crosshairValue=o>=f.axisX[l].viewportMinimum&&o<=f.axisX[l].viewportMaximum?o:null);else if("top"===this.parent._position)for(l=0;l<f.axisX2.length;l++)this.parent===f.axisX2[l]&&(f.axisX2[l]._crosshairValue=o>=f.axisX2[l].viewportMinimum&&o<=f.axisX2[l].viewportMaximum?o:null);else if("left"===this.parent._position)for(l=0;l<f.axisY.length;l++)this.parent===f.axisY[l]&&(f.axisY[l]._crosshairValue=o>=f.axisY[l].viewportMinimum&&o<=f.axisY[l].viewportMaximum?o:null);else if("right"===this.parent._position)for(l=0;l<f.axisY2.length;l++)this.parent===f.axisY2[l]&&(f.axisY2[l]._crosshairValue=o>=f.axisY2[l].viewportMinimum&&o<=f.axisY2[l].viewportMaximum?o:null);for(l=0;l<f.axisX.length;l++)o=f.axisX[l]._crosshairValue,f.axisX[l].crosshair&&f.axisX[l].crosshair.enabled&&!H(o)&&o>=f.axisX[l].viewportMinimum&&o<=f.axisX[l].viewportMaximum&&(f.axisX[l].showCrosshair(o),f.axisX[l].crosshair._updatedValue=o,this===f.axisX[l].crosshair&&(h=!0));for(l=0;l<f.axisX2.length;l++)o=f.axisX2[l]._crosshairValue,f.axisX2[l].crosshair&&f.axisX2[l].crosshair.enabled&&!H(o)&&o>=f.axisX2[l].viewportMinimum&&o<=f.axisX2[l].viewportMaximum&&(f.axisX2[l].showCrosshair(o),f.axisX2[l].crosshair._updatedValue=o,this===f.axisX2[l].crosshair&&(h=!0));for(l=0;l<f.axisY.length;l++)o=f.axisY[l]._crosshairValue,f.axisY[l].crosshair&&f.axisY[l].crosshair.enabled&&!H(o)&&o>=f.axisY[l].viewportMinimum&&o<=f.axisY[l].viewportMaximum&&(f.axisY[l].showCrosshair(o),f.axisY[l].crosshair._updatedValue=o,this===f.axisY[l].crosshair&&(h=!0));for(l=0;l<f.axisY2.length;l++)o=f.axisY2[l]._crosshairValue,f.axisY2[l].crosshair&&f.axisY2[l].crosshair.enabled&&!H(o)&&o>=f.axisY2[l].viewportMinimum&&o<=f.axisY2[l].viewportMaximum&&(f.axisY2[l].showCrosshair(o),f.axisY2[l].crosshair._updatedValue=o,this===f.axisY2[l].crosshair&&(h=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),h},le.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},le.prototype.render=function(o,f,h){var l,d,v,C,D=null,k=null,_=null,S="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var T=0;T="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=Oe.generateValueFormatString(this.parent.range,T)}_=null===this.opacity?1:this.opacity,T=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var I=this.chart.overlaidCanvasCtx,m=I.globalAlpha;if(I.globalAlpha=_,I.beginPath(),I.strokeStyle=this.color,I.lineWidth=T,I.save(),this.labelFontSize=Math.abs(H(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=H(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=H(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<T&&I.setLineDash&&I.setLineDash(lt(this.lineDashType,T)),_=new Ot(I,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:S,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var P=0;if(S=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var z=null;"bottom"===this.parent._position||"top"===this.parent._position?P=this.parent.dataSeries[0].axisX.convertPixelToValue({y:f}):("left"===this.parent._position||"right"===this.parent._position)&&(P=this.parent.convertPixelToValue({y:f}));for(var U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(z.dataSeries=this.parent.dataSeries[U],null!==z.dataPoint.y&&z.dataSeries.visible&&S.push(z));if(z=null,0===S.length)return;if(S.sort(function(ee,Ne){return ee.distance-Ne.distance}),z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y)),U=0,"rangeBar"===S[0].dataSeries.type||"error"===S[0].dataSeries.type){z=Math.abs(o-this.parent.convertValueToPixel(S[U].dataPoint.y[0]));var N=0;for(P=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for(var $=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y)))<z&&(z=N,U=P)}else if("stackedBar"===S[0].dataSeries.type){z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y));var Z=N=0;for(P=U=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else Z+=S[P].dataPoint.y,(N=Math.abs(o-this.parent.convertValueToPixel(Z)))<z&&(z=N,U=P)}else if("stackedBar100"===S[0].dataSeries.type){z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y));var ie=Z=N=0;for(P=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else Z+=S[P].dataPoint.y,ie=S[P].dataPoint.x.getTime?S[P].dataPoint.x.getTime():S[P].dataPoint.x,ie=Z/S[P].dataSeries.plotUnit.dataPointYSums[ie]*100,(N=Math.abs(o-this.parent.convertValueToPixel(ie)))<z&&(z=N,U=P)}else for(z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y)),P=U=N=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else(N=Math.abs(o-this.parent.convertValueToPixel(S[P].dataPoint.y)))<z&&(z=N,U=P);if($=S[U],"bottom"===this.parent._position||"top"===this.parent._position){if(l=0,"rangeBar"===this.parent.dataSeries[U].type||"error"===this.parent.dataSeries[U].type){for(z=Math.abs(o-this.parent.convertValueToPixel($.dataPoint.y[0])),P=N=0;P<$.dataPoint.y.length;P++)(N=Math.abs(o-this.parent.convertValueToPixel($.dataPoint.y[P])))<z&&(z=N,l=P);D=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataPoint.y[l])<<0):this.parent.convertValueToPixel($.dataPoint.y[l])<<0,this.value=$.dataPoint.y[l],_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.y[l]}):H(this.options.label)?$t(H(h)?$.dataPoint.y[l]:h,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[U].type){for(z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y)),Z=N=0,P=U;0<=P;P--)Z+=S[P].dataPoint.y,(N=Math.abs(o-this.parent.convertValueToPixel(Z)))<z&&(z=N,l=P);D=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel(Z)<<0):this.parent.convertValueToPixel(Z)<<0,this.value=Z,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.y}):H(this.options.label)?$t(H(h)?$.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[U].type){for(z=Math.abs(o-this.parent.convertValueToPixel(S[0].dataPoint.y)),ie=Z=N=0,P=U;0<=P;P--)Z+=S[P].dataPoint.y,ie=S[P].dataPoint.x.getTime?S[P].dataPoint.x.getTime():S[P].dataPoint.x,ie=Z/S[P].dataSeries.plotUnit.dataPointYSums[ie]*100,(N=Math.abs(o-this.parent.convertValueToPixel(ie)))<z&&(z=N,l=P);D=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel(ie)<<0):this.parent.convertValueToPixel(ie)<<0,this.value=ie,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ie}):H(this.options.label)?$t(H(h)?ie:h,this.valueFormatString,this.chart._cultureInfo):this.label}else D=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataPoint.y)<<0):this.parent.convertValueToPixel($.dataPoint.y)<<0,this.value=$.dataPoint.y,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.y}):H(this.options.label)?$t(H(h)?$.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label;l=d=D,this.bounds={x1:l-T/2,y1:v=this.chart.plotArea.y1,x2:d+T/2,y2:C=this.chart.plotArea.y2},_.x=l-_.measureText().width/2,_.x+_.width>this.chart.bounds.x2?_.x=this.chart.bounds.x2-_.width:_.x<this.chart.bounds.x1&&(_.x=this.chart.bounds.x1),_.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-_.height+this.parent.tickLength:_.fontSize/2)+2,_.y+_.height>this.chart.bounds.y2?_.y=this.chart.bounds.y2-_.height:_.y<this.chart.bounds.y1&&(_.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(v=C=k=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataPoint.x)<<0):this.parent.convertValueToPixel($.dataPoint.x)<<0,this.bounds={x1:l=this.chart.plotArea.x1,y1:v-T/2,x2:d=this.chart.plotArea.x2,y2:C+T/2},ie=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=S){if(!this.parent.labels[P]){ie=!1;break}ie=!0}if(ie){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({y:f}),z=null,U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?z.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?yi($.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?$t($.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=$.dataPoint.x,_.y=C+_.fontSize/2-_.measureText().height/2+2,_.y-_.fontSize/2<this.chart.bounds.y1?_.y=this.chart.bounds.y1+_.fontSize/2+2:_.y+_.measureText().height-_.fontSize/2>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.measureText().height+_.fontSize/2),"left"===this.parent._position?_.x=this.parent.lineCoordinates.x2-_.measureText().width:"right"===this.parent._position&&(_.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(P=this.parent.convertPixelToValue({x:o}),U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(z.dataSeries=this.parent.dataSeries[U],null!==z.dataPoint.y&&z.dataSeries.visible&&S.push(z));if(0===S.length)return;if(S.sort(function(ee,Ne){return ee.distance-Ne.distance}),$=S[0],l=d=D=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataPoint.x)<<0):this.parent.convertValueToPixel($.dataPoint.x)<<0,this.bounds={x1:l-T/2,y1:v=this.chart.plotArea.y1,x2:d+T/2,y2:C=this.chart.plotArea.y2},ie=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=S){if(!this.parent.labels[P]){ie=!1;break}ie=!0}if(ie){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({x:o}),z=null,U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?z.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?yi($.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.x}):H(this.options.label)?$t($.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=$.dataPoint.x,_.x=l-_.measureText().width/2,_.x+_.width>this.chart.bounds.x2&&(_.x=this.chart.bounds.x2-_.width),_.x<this.chart.bounds.x1&&(_.x=this.chart.bounds.x1),"bottom"===this.parent._position?_.y=this.parent.lineCoordinates.y2+_.fontSize/2+2:"top"===this.parent._position&&(_.y=this.parent.lineCoordinates.y1-_.height+_.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!H(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(P=this.parent.dataSeries[0].axisX.convertPixelToValue({x:o})),U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(z.dataSeries=this.parent.dataSeries[U],null!==z.dataPoint.y&&z.dataSeries.visible&&S.push(z));if(0===S.length)return;if(S.sort(function(ee,Ne){return ee.distance-Ne.distance}),U=0,"rangeColumn"===S[0].dataSeries.type||"rangeArea"===S[0].dataSeries.type||"error"===S[0].dataSeries.type||"rangeSplineArea"===S[0].dataSeries.type||"candlestick"===S[0].dataSeries.type||"ohlc"===S[0].dataSeries.type||"boxAndWhisker"===S[0].dataSeries.type)for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y[0])),P=N=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y)))<z&&(z=N,U=P);else if("stackedColumn"===S[0].dataSeries.type||"stackedArea"===S[0].dataSeries.type)for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y)),P=Z=N=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else Z+=S[P].dataPoint.y,(N=Math.abs(f-this.parent.convertValueToPixel(Z)))<z&&(z=N,U=P);else if("stackedColumn100"===S[0].dataSeries.type||"stackedArea100"===S[0].dataSeries.type)for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y)),P=ie=Z=N=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else Z+=S[P].dataPoint.y,ie=S[P].dataPoint.x.getTime?S[P].dataPoint.x.getTime():S[P].dataPoint.x,ie=Z/S[P].dataSeries.plotUnit.dataPointYSums[ie]*100,(N=Math.abs(f-this.parent.convertValueToPixel(ie)))<z&&(z=N,U=P);else for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y)),P=N=0;P<S.length;P++)if(S[P].dataPoint.y&&S[P].dataPoint.y.length)for($=0;$<S[P].dataPoint.y.length;$++)(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y[$])))<z&&(z=N,U=P);else(N=Math.abs(f-this.parent.convertValueToPixel(S[P].dataPoint.y)))<z&&(z=N,U=P);if($=S[U],l=0,"rangeColumn"===this.parent.dataSeries[U].type||"rangeArea"===this.parent.dataSeries[U].type||"error"===this.parent.dataSeries[U].type||"rangeSplineArea"===this.parent.dataSeries[U].type||"candlestick"===this.parent.dataSeries[U].type||"ohlc"===this.parent.dataSeries[U].type||"boxAndWhisker"===this.parent.dataSeries[U].type){for(z=Math.abs(f-this.parent.convertValueToPixel($.dataPoint.y[0])),P=N=0;P<$.dataPoint.y.length;P++)(N=Math.abs(f-this.parent.convertValueToPixel($.dataPoint.y[P])))<z&&(z=N,l=P);k=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataPoint.y[l])<<0):this.parent.convertValueToPixel($.dataPoint.y[l])<<0,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.y[l]}):H(this.options.label)?$t(H(h)?$.dataPoint.y[l]:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=$.dataPoint.y[l]}else if("stackedColumn"===this.parent.dataSeries[U].type||"stackedArea"===this.parent.dataSeries[U].type){for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y)),Z=N=0,P=U;0<=P;P--)Z+=S[P].dataPoint.y,(N=Math.abs(f-this.parent.convertValueToPixel(Z)))<z&&(z=N,l=P);k=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel(Z)<<0):this.parent.convertValueToPixel(Z)<<0,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataPoint.y}):H(this.options.label)?$t(H(h)?$.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=Z}else if("stackedColumn100"===this.parent.dataSeries[U].type||"stackedArea100"===this.parent.dataSeries[U].type){for(z=Math.abs(f-this.parent.convertValueToPixel(S[0].dataPoint.y)),Z=N=0,P=U;0<=P;P--)Z+=S[P].dataPoint.y,ie=S[P].dataPoint.x.getTime?S[P].dataPoint.x.getTime():S[P].dataPoint.x,ie=Z/S[P].dataSeries.plotUnit.dataPointYSums[ie]*100,(N=Math.abs(f-this.parent.convertValueToPixel(ie)))<z&&(z=N,l=P);k=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel(ie)<<0):this.parent.convertValueToPixel(ie)<<0,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ie}):H(this.options.label)?$t(H(h)?ie:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=ie}else"waterfall"===this.parent.dataSeries[U].type?(k=I.lineWidth%2==1?.5+(this.parent.convertValueToPixel($.dataSeries.dataPointEOs[$.index].cumulativeSum)<<0):this.parent.convertValueToPixel($.dataSeries.dataPointEOs[$.index].cumulativeSum)<<0,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:$.dataSeries.dataPointEOs[$.index].cumulativeSum}):H(this.options.label)?$t(H(h)?$.dataSeries.dataPointEOs[$.index].cumulativeSum:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=$.dataSeries.dataPointEOs[$.index].cumulativeSum):(k=I.lineWidth%2==1?(H(o)?f:this.parent.convertValueToPixel($.dataPoint.y)<<0)+.5:H(o)?f:this.parent.convertValueToPixel($.dataPoint.y)<<0,_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?$.dataPoint.y:h}):H(this.options.label)?$t(H(h)?$.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=$.dataPoint.y);v=C=k,this.bounds={x1:l=this.chart.plotArea.x1,y1:v-T/2,x2:d=this.chart.plotArea.x2,y2:C+T/2},_.y=C+_.fontSize/2-_.measureText().height/2+2,_.y-_.fontSize/2<this.chart.bounds.y1?_.y=this.chart.bounds.y1+_.fontSize/2+2:_.y+_.measureText().height-_.fontSize/2>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.measureText().height+_.fontSize/2),"left"===this.parent._position?_.x=this.parent.lineCoordinates.x2-_.measureText().width:"right"===this.parent._position&&(_.x=this.parent.lineCoordinates.x2)}S=null,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&_.y-_.fontSize/2<this.chart.bounds.y1&&(_.y=this.chart.bounds.y1+_.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-_.fontSize/2+_.measureText().height>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.height+_.fontSize/2+2),l>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&d<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<T&&(I.moveTo(l,v),I.lineTo(d,C),I.stroke(),this._hidden=!1),I.restore())),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&_.x<this.chart.bounds.x1&&(_.x=this.chart.bounds.x1),"right"===this.parent._position&&_.x+_.measureText().width>this.chart.bounds.x2&&(_.x=this.chart.bounds.x2-_.measureText().width),C>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&v<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<T&&(I.moveTo(l,v),I.lineTo(d,C),I.stroke(),this._hidden=!1),I.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(l=d=D=I.lineWidth%2==1?.5+(o<<0):o<<0,this.bounds={x1:l-T/2,y1:v=this.chart.plotArea.y1,x2:d+T/2,y2:C=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(v=C=k=I.lineWidth%2==1?.5+(f<<0):f<<0,this.bounds={x1:l=this.chart.plotArea.x1,y1:v-T/2,x2:d=this.chart.plotArea.x2,y2:C+T/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(ie=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=S){if(!this.parent.labels[P]){ie=!1;break}ie=!0}if(ie){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({y:f}),z=null,U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(o):h}):H(this.options.label)?z.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(f):h}):H(this.options.label)?yi(H(h)?this.parent.convertPixelToValue(f):h,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(f):h}):H(this.options.label)?$t(H(h)?this.parent.convertPixelToValue(f):h,this.valueFormatString,this.chart._cultureInfo):this.label);_.y=f+_.fontSize/2-_.measureText().height/2+2,_.y-_.fontSize/2<this.chart.bounds.y1?_.y=this.chart.bounds.y1+_.fontSize/2+2:_.y+_.measureText().height-_.fontSize/2>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.measureText().height+_.fontSize/2),"left"===this.parent._position?_.x=this.parent.lineCoordinates.x1-_.measureText().width:"right"===this.parent._position&&(_.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(o):h}):H(this.options.label)?$t(H(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label,_.x=l-_.measureText().width/2,_.x+_.width>this.chart.bounds.x2&&(_.x=this.chart.bounds.x2-_.width),_.x<this.chart.bounds.x1&&(_.x=this.chart.bounds.x1),"bottom"===this.parent._position?_.y=this.parent.lineCoordinates.y2+_.fontSize/2+2:"top"===this.parent._position&&(_.y=this.parent.lineCoordinates.y1-_.height+_.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(ie=!1,S="",this.parent.labels)for(S=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=S){if(!this.parent.labels[P]){ie=!1;break}ie=!0}if(ie){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({x:o}),z=null,U=0;U<this.parent.dataSeries.length;U++)(z=this.parent.dataSeries[U].getDataPointAtX(P,!0))&&0<=z.index&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(o):h}):H(this.options.label)?H(h)?z.dataPoint.label:h:this.label)}else"dateTime"===this.parent.valueType?_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(o):h}):H(this.options.label)?yi(H(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(o):"":h}):H(this.options.label)?$t(H(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label);_.x=l-_.measureText().width/2,_.x+_.width>this.chart.bounds.x2&&(_.x=this.chart.bounds.x2-_.width),_.x<this.chart.bounds.x1&&(_.x=this.chart.bounds.x1),"bottom"===this.parent._position?_.y=this.parent.lineCoordinates.y2+_.fontSize/2+2:"top"===this.parent._position&&(_.y=this.parent.lineCoordinates.y1-_.height+_.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(_.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(h)?this.parent.convertPixelToValue(f):h}):H(this.options.label)?$t(H(h)?this.parent.convertPixelToValue(f):h,this.valueFormatString,this.chart._cultureInfo):this.label,_.y=f+_.fontSize/2-_.measureText().height/2+2,_.y-_.fontSize/2<this.chart.bounds.y1?_.y=this.chart.bounds.y1+_.fontSize/2+2:_.y+_.measureText().height-_.fontSize/2>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.measureText().height+_.fontSize/2),"left"===this.parent._position?_.x=this.parent.lineCoordinates.x2-_.measureText().width:"right"===this.parent._position&&(_.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&_.x<this.chart.bounds.x1?_.x=this.chart.bounds.x1:"right"===this.parent._position&&_.x+_.measureText().width>this.chart.bounds.x2?_.x=this.chart.bounds.x2-_.measureText().width:"top"===this.parent._position&&_.y-_.fontSize/2<this.chart.bounds.y1?_.y=this.chart.bounds.y1+_.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-_.fontSize/2+_.measureText().height>this.chart.bounds.y2&&(_.y=this.chart.bounds.y2-_.height+_.fontSize/2+2),0<T&&(I.moveTo(l,v),I.lineTo(d,C),I.stroke(),this._hidden=!1),I.restore(),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?o:f)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(D)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(k)),this._textBlock=_,H(h)||this.renderLabel(),I.globalAlpha=m},le.prototype.renderLabel=function(){H(this._textBlock)||H(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0)},he(G,It),G.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var o=document.createElement("div");o.style.width="auto",o.style.height="auto",o.style.minWidth="50px",o.style.lineHeight="normal",o.style.margin="0px 0px 0px 0px",o.style.padding="5px",o.style.fontFamily="Calibri, Arial, Georgia, serif",o.style.fontWeight="normal",o.style.fontStyle=te?"italic":"normal",o.style.fontSize="14px",o.style.color="#000000",o.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",o.style.textAlign="left",o.style.border="2px solid gray",o.style.background=te?"rgba(255,255,255,.9)":"rgb(255,255,255)",o.style.textIndent="0px",o.style.whiteSpace="nowrap",o.style.borderRadius="5px",o.style.MozUserSelect="none",o.style.WebkitUserSelect="none",o.style.msUserSelect="none",o.style.userSelect="none",te||(o.style.filter="alpha(opacity = 90)",o.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),o.innerText="Sample Tooltip",this.container.appendChild(o),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},G.prototype.mouseMoveHandler=function(o,f){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(o,f))},G.prototype._updateToolTip=function(o,f,h){if(h=typeof h>"u"||h,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof o>"u"||typeof f>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;o=this._prevX,f=this._prevY}else this._prevX=o,this._prevY=f;var l=null,d=null,v=[],C=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var D=[];if(this.chart.axisX)for(var k=0;k<this.chart.axisX.length;k++){C=this.chart.axisX[k].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:f}:{x:o});var S=null;for(l=0;l<this.chart.axisX[k].dataSeries.length;l++)(S=this.chart.axisX[k].dataSeries[l].getDataPointAtX(C,h))&&0<=S.index&&(S.dataSeries=this.chart.axisX[k].dataSeries[l],null!==S.dataPoint.y&&S.dataSeries.visible&&D.push(S));S=null}if(this.chart.axisX2)for(k=0;k<this.chart.axisX2.length;k++){for(C=this.chart.axisX2[k].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:f}:{x:o}),S=null,l=0;l<this.chart.axisX2[k].dataSeries.length;l++)(S=this.chart.axisX2[k].dataSeries[l].getDataPointAtX(C,h))&&0<=S.index&&(S.dataSeries=this.chart.axisX2[k].dataSeries[l],null!==S.dataPoint.y&&S.dataSeries.visible&&D.push(S));S=null}if(0===D.length)return;for(D.sort(function(_,T){return _.distance-T.distance}),h=D[0],l=0;l<D.length;l++)D[l].dataPoint.x.valueOf()===h.dataPoint.x.valueOf()&&v.push(D[l]);D=null}else{if(l=this.chart.getDataPointAtXY(o,f,h))this.currentDataPointIndex=l.dataPointIndex,this.currentSeriesIndex=l.dataSeries.index;else if(te)if(0<(l=_t(o,f,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[l]<"u"){if("legendItem"===(l=this.chart._eventManager.objectMap[l]).objectType)return;this.currentSeriesIndex=l.dataSeriesIndex,this.currentDataPointIndex=0<=l.dataPointIndex?l.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(d=this.chart.data[this.currentSeriesIndex],S={},0<=this.currentDataPointIndex)l=d.dataPoints[this.currentDataPointIndex],S.dataSeries=d,S.dataPoint=l,S.index=this.currentDataPointIndex,S.distance=Math.abs(l.x-C),"waterfall"===d.type&&(S.cumulativeSumYStartValue=d.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,S.cumulativeSum=d.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type&&"area"!==d.type&&"stepArea"!==d.type&&"splineArea"!==d.type&&"stackedArea"!==d.type&&"stackedArea100"!==d.type&&"rangeArea"!==d.type&&"rangeSplineArea"!==d.type&&"candlestick"!==d.type&&"ohlc"!==d.type&&"boxAndWhisker"!==d.type)return;C=d.axisX.convertPixelToValue({x:o}),H(S=d.getDataPointAtX(C,h))||(S.dataSeries=d,this.currentDataPointIndex=S.index,l=S.dataPoint)}if(!H(S)&&!H(S.dataPoint)&&!H(S.dataPoint.y))if(S.dataSeries.axisY)if(0<S.dataPoint.y.length){for(l=h=0;l<S.dataPoint.y.length;l++)S.dataPoint.y[l]<S.dataSeries.axisY.viewportMinimum?h--:S.dataPoint.y[l]>S.dataSeries.axisY.viewportMaximum&&h++;h<S.dataPoint.y.length&&h>-S.dataPoint.y.length&&v.push(S)}else"column"===d.type||"bar"===d.type?0>S.dataPoint.y?0>S.dataSeries.axisY.viewportMinimum&&S.dataSeries.axisY.viewportMaximum>=S.dataPoint.y&&v.push(S):S.dataSeries.axisY.viewportMinimum<=S.dataPoint.y&&0<=S.dataSeries.axisY.viewportMaximum&&v.push(S):"bubble"===d.type?S.dataPoint.y>=S.dataSeries.axisY.viewportMinimum-(h=this.chart._eventManager.objectMap[d.dataPointIds[S.index]].size/2)&&S.dataPoint.y<=S.dataSeries.axisY.viewportMaximum+h&&v.push(S):"waterfall"===d.type?(h=0,S.cumulativeSumYStartValue<S.dataSeries.axisY.viewportMinimum?h--:S.cumulativeSumYStartValue>S.dataSeries.axisY.viewportMaximum&&h++,S.cumulativeSum<S.dataSeries.axisY.viewportMinimum?h--:S.cumulativeSum>S.dataSeries.axisY.viewportMaximum&&h++,2>h&&-2<h&&v.push(S)):(0<=S.dataSeries.type.indexOf("100")||"stackedColumn"===d.type||"stackedBar"===d.type||S.dataPoint.y>=S.dataSeries.axisY.viewportMinimum&&S.dataPoint.y<=S.dataSeries.axisY.viewportMaximum)&&v.push(S);else v.push(S)}}if(0<v.length){if(this.highlightObjects(v),this.enabled){if(h="",null!==(h=this.getToolTipInnerHTML({entries:v}))){if(this.contentDiv.innerHTML=h,this.isToolTipDefinedInData&&H(this.options.content)&&H(this.options.contentFormatter))for(C=this.contentDiv.getElementsByTagName("span"),l=0;l<C.length;l++)C[l]&&(C[l].style.color=C[l].getAttribute("data-color"));C=!1,"none"===this.container.style.display&&(C=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:te?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===v[0].dataSeries.type?this.options.borderColor?this.options.borderColor:v[0].dataPoint.color?v[0].dataPoint.color:0<v[0].dataPoint.y?v[0].dataSeries.risingColor:v[0].dataSeries.fallingColor:"error"===v[0].dataSeries.type?this.options.borderColor?this.options.borderColor:v[0].dataSeries.color?v[0].dataSeries.color:v[0].dataSeries._colorSet[d.index%v[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:v[0].dataPoint.color?v[0].dataPoint.color:v[0].dataSeries.color?v[0].dataSeries.color:v[0].dataSeries._colorSet[v[0].index%v[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:te?"italic":"normal"}catch{}"pie"===v[0].dataSeries.type||"doughnut"===v[0].dataSeries.type||"funnel"===v[0].dataSeries.type||"pyramid"===v[0].dataSeries.type||"bar"===v[0].dataSeries.type||"rangeBar"===v[0].dataSeries.type||"stackedBar"===v[0].dataSeries.type||"stackedBar100"===v[0].dataSeries.type?o=o-10-this.container.clientWidth:(o=v[0].dataSeries.axisX.convertValueToPixel(v[0].dataPoint.x)-this.container.clientWidth<<0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(f=10-(f=1!==v.length||this.shared||"line"!==v[0].dataSeries.type&&"stepLine"!==v[0].dataSeries.type&&"spline"!==v[0].dataSeries.type&&"area"!==v[0].dataSeries.type&&"stepArea"!==v[0].dataSeries.type&&"splineArea"!==v[0].dataSeries.type?"bar"===v[0].dataSeries.type||"rangeBar"===v[0].dataSeries.type||"stackedBar"===v[0].dataSeries.type||"stackedBar100"===v[0].dataSeries.type?v[0].dataSeries.axisX.convertValueToPixel(v[0].dataPoint.x):f:v[0].dataSeries.axisY.convertValueToPixel(v[0].dataPoint.y)))+this.container.clientHeight+5&&(f-=f+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,f),!this.animationEnabled||C?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=o,this.positionBottom=f,this.container.style.left=o+"px",this.container.style.bottom=f+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(f=[],l=0;l<v.length;l++)f.push({xValue:v[l].dataPoint.x,dataPoint:v[l].dataPoint,dataSeries:v[l].dataSeries,dataPointIndex:v[l].index,dataSeriesIndex:v[l].dataSeries._index});f={chart:this.chart,toolTip:this.options,content:h,entries:f},this._entries=v,this.dispatchEvent("updated",f,this)}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},G.prototype.highlightObjects=function(o){var f=this.chart.overlaidCanvasCtx;(H(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),f.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),f.save();var h=this.chart.plotArea,l=0;for(f.beginPath(),f.rect(h.x1,h.y1,h.x2-h.x1,h.y2-h.y1),f.clip(),h=0;h<o.length;h++){var d=o[h];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var v=(l=this.chart.data[d.dataSeriesIndex]).dataPoints[d.dataPointIndex],C=d.dataPointIndex;!1===v.highlightEnabled||!0!==l.highlightEnabled&&!0!==v.highlightEnabled||("line"===l.type||"stepLine"===l.type||"spline"===l.type||"scatter"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type?((v=l.getMarkerProperties(C,d.x1,d.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*v.size<<0,10),v.borderColor=v.borderColor||"#FFFFFF",v.borderThickness=v.borderThickness||Math.ceil(.1*v.size),Qt.drawMarkers([v]),typeof d.y2<"u"&&((v=l.getMarkerProperties(C,d.x1,d.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*v.size<<0,10),v.borderColor=v.borderColor||"#FFFFFF",v.borderThickness=v.borderThickness||Math.ceil(.1*v.size),Qt.drawMarkers([v]))):"bubble"===l.type?((v=l.getMarkerProperties(C,d.x1,d.y1,this.chart.overlaidCanvasCtx)).size=d.size,v.color="white",v.borderColor="white",f.globalAlpha=.3,Qt.drawMarkers([v]),f.globalAlpha=1):"column"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"bar"===l.type||"rangeBar"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"rangeColumn"===l.type||"waterfall"===l.type?bn(f,d.x1,d.y1,d.x2,d.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===l.type||"doughnut"===l.type?ft(f,d.center,d.radius,"white",l.type,d.startAngle,d.endAngle,.3,d.percentInnerRadius):"funnel"===l.type||"pyramid"===l.type?jt(f,d.funnelSection,.3,"white"):"candlestick"===l.type?(f.globalAlpha=1,f.strokeStyle=d.color,f.lineWidth=2*d.borderThickness,l=f.lineWidth%2==0?0:.5,f.beginPath(),f.moveTo(d.x3-l,Math.min(d.y2,d.y3)),f.lineTo(d.x3-l,Math.min(d.y1,d.y4)),f.stroke(),f.beginPath(),f.moveTo(d.x3-l,Math.max(d.y1,d.y4)),f.lineTo(d.x3-l,Math.max(d.y2,d.y3)),f.stroke(),bn(f,d.x1,Math.min(d.y1,d.y4),d.x2,Math.max(d.y1,d.y4),"transparent",2*d.borderThickness,d.color,!1,!1,!1,!1),f.globalAlpha=1):"ohlc"===l.type?(f.globalAlpha=1,f.strokeStyle=d.color,f.lineWidth=2*d.borderThickness,l=f.lineWidth%2==0?0:.5,f.beginPath(),f.moveTo(d.x3-l,d.y2),f.lineTo(d.x3-l,d.y3),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y1),f.lineTo(d.x1,d.y1),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y4),f.lineTo(d.x2,d.y4),f.stroke(),f.globalAlpha=1):"boxAndWhisker"===l.type?(f.save(),f.globalAlpha=1,f.strokeStyle=d.stemColor,f.lineWidth=2*d.stemThickness,0<d.stemThickness&&(f.beginPath(),f.moveTo(d.x3,d.y2+d.borderThickness/2),f.lineTo(d.x3,d.y1+d.whiskerThickness/2),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y4-d.whiskerThickness/2),f.lineTo(d.x3,d.y3-d.borderThickness/2),f.stroke()),f.beginPath(),bn(f,d.x1-d.borderThickness/2,Math.max(d.y2+d.borderThickness/2,d.y3+d.borderThickness/2),d.x2+d.borderThickness/2,Math.min(d.y2-d.borderThickness/2,d.y3-d.borderThickness/2),"transparent",d.borderThickness,d.color,!1,!1,!1,!1),f.globalAlpha=1,f.strokeStyle=d.whiskerColor,f.lineWidth=2*d.whiskerThickness,0<d.whiskerThickness&&(f.beginPath(),f.moveTo(Math.floor(d.x3-d.whiskerLength/2),d.y4),f.lineTo(Math.ceil(d.x3+d.whiskerLength/2),d.y4),f.stroke(),f.beginPath(),f.moveTo(Math.floor(d.x3-d.whiskerLength/2),d.y1),f.lineTo(Math.ceil(d.x3+d.whiskerLength/2),d.y1),f.stroke()),f.globalAlpha=1,f.strokeStyle=d.lineColor,f.lineWidth=2*d.lineThickness,0<d.lineThickness&&(f.beginPath(),f.moveTo(d.x1,d.y5),f.lineTo(d.x2,d.y5),f.stroke()),f.restore(),f.globalAlpha=1):"error"===l.type&&Ce(f,d.x1,d.y1,d.x2,d.y2,"white",d.whiskerProperties,d.stemProperties,d.isXYSwapped,.3))}}f.restore(),f.globalAlpha=1,f.beginPath()},G.prototype.getToolTipInnerHTML=function(o){o=o.entries;var f=null,h=null,l=null,d=0,v="";this.isToolTipDefinedInData=!0;for(var C=0;C<o.length;C++)if(o[C].dataSeries.toolTipContent||o[C].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))o={chart:this.chart,toolTip:this.options,entries:o},f=this.contentFormatter?this.contentFormatter(o):this.content(o);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var D=null,k="";for(C=0;C<o.length;C++){if(h=o[C].dataSeries,l=o[C].dataPoint,d=o[C].index,v="",0===C&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?k+=typeof this.chart.axisX[0].labels[l.x]<"u"?this.chart.axisX[0].labels[l.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(k+=typeof this.chart.axisX2[0].labels[l.x]<"u"?this.chart.axisX2[0].labels[l.x]:"{x}"),k+="</br>",!h.visible)continue;k=this.chart.replaceKeywordsWithValue(k,l,h,d)}null===l.toolTipContent||typeof l.toolTipContent>"u"&&null===h.options.toolTipContent||("line"===h.type||"stepLine"===h.type||"spline"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"column"===h.type||"bar"===h.type||"scatter"===h.type||"stackedColumn"===h.type||"stackedColumn100"===h.type||"stackedBar"===h.type||"stackedBar100"===h.type||"stackedArea"===h.type||"stackedArea100"===h.type||"waterfall"===h.type?(this.chart.axisX&&1<this.chart.axisX.length&&(v+=D!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),v+=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",D=h.axisXIndex):"bubble"===h.type?(this.chart.axisX&&1<this.chart.axisX.length&&(v+=D!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),v+=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===h.type||"rangeBar"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type||"error"===h.type?(this.chart.axisX&&1<this.chart.axisX.length&&(v+=D!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),v+=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===h.type||"ohlc"===h.type?(this.chart.axisX&&1<this.chart.axisX.length&&(v+=D!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),v+=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===h.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(v+=D!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),v+=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),h.visible&&(!0===this.reversed?(f=this.chart.replaceKeywordsWithValue(v,l,h,d)+f,C<o.length-1&&(f="</br>"+f)):(f+=this.chart.replaceKeywordsWithValue(v,l,h,d),C<o.length-1&&(f+="</br>"))))}null!==f&&(f=k+f)}else{if(h=o[0].dataSeries,null===(l=o[0].dataPoint).toolTipContent||typeof l.toolTipContent>"u"&&null===h.options.toolTipContent)return null;"line"===h.type||"stepLine"===h.type||"spline"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"column"===h.type||"bar"===h.type||"scatter"===h.type||"stackedColumn"===h.type||"stackedColumn100"===h.type||"stackedBar"===h.type||"stackedBar100"===h.type||"stackedArea"===h.type||"stackedArea100"===h.type||"waterfall"===h.type?v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===h.type?v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===h.type||"doughnut"===h.type||"funnel"===h.type||"pyramid"===h.type?v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.name?"{name}:</span>&nbsp;&nbsp;":l.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===h.type||"rangeBar"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type||"error"===h.type?v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===h.type||"ohlc"===h.type?v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===h.type&&(v=l.toolTipContent?l.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(l.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),f+=this.chart.replaceKeywordsWithValue(v,l,h,d=o[0].index)}return f},G.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var o=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=o,this.container.style.MsTransition=o,this.container.style.transition=o,this.container.style.MozTransition=this.mozContainerTransition}},G.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},G.prototype.hide=function(o){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(typeof o>"u"||o)&&this.chart.resetOverlayedCanvas())},G.prototype.show=function(o,f,h){this._updateToolTip(o,f,!(typeof h>"u")&&h)},G.prototype.showAtIndex=function(o,f){},G.prototype.showAtX=function(o,f){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var h,l,d,v=[];if(d=!1,f=!H(f)&&0<=f&&f<this.chart.data.length?f:0,this.shared)for(var C=0;C<this.chart.data.length;C++)(l=(h=this.chart.data[C]).getDataPointAtX(o,!1))&&l.dataPoint&&!H(l.dataPoint.y)&&h.visible&&(l.dataSeries=h,v.push(l));else(l=(h=this.chart.data[f]).getDataPointAtX(o,!1))&&l.dataPoint&&!H(l.dataPoint.y)&&h.visible&&(l.dataSeries=h,v.push(l));if(!(0<v.length))return this.hide(),!1;for(C=0;C<v.length;C++){if(l=v[C],(this.shared||0<=l.dataSeries.type.indexOf("100"))&&l.dataPoint.x>=l.dataSeries.axisX.viewportMinimum&&l.dataPoint.x<=l.dataSeries.axisX.viewportMaximum){d=!1;break}if(!(l.dataPoint.x<l.dataSeries.axisX.viewportMinimum||l.dataPoint.x>l.dataSeries.axisX.viewportMaximum||l.dataPoint.y<l.dataSeries.axisY.viewportMinimum||l.dataPoint.y>l.dataSeries.axisY.viewportMaximum)){d=!1;break}d=!0}if(d)return this.hide(),!1;if(this.highlightObjects(v),this._entries=v,C="",null===(C=this.getToolTipInnerHTML({entries:v})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=C,this.isToolTipDefinedInData&&H(this.options.content)&&H(this.options.contentFormatter))for(l=this.contentDiv.getElementsByTagName("span"),C=0;C<l.length;C++)l[C]&&(l[C].style.color=l[C].getAttribute("data-color"));C=!1,"none"===this.container.style.display&&(C=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:te?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===v[0].dataSeries.type?this.options.borderColor?this.options.borderColor:v[0].dataPoint.color?v[0].dataPoint.color:0<v[0].dataPoint.y?v[0].dataSeries.risingColor:v[0].dataSeries.fallingColor:"error"===v[0].dataSeries.type?this.options.borderColor?this.options.borderColor:v[0].dataSeries.color?v[0].dataSeries.color:v[0].dataSeries._colorSet[h.index%v[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:v[0].dataPoint.color?v[0].dataPoint.color:v[0].dataSeries.color?v[0].dataSeries.color:v[0].dataSeries._colorSet[v[0].index%v[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:te?"italic":"normal"}catch{}return"pie"===v[0].dataSeries.type||"doughnut"===v[0].dataSeries.type||"funnel"===v[0].dataSeries.type||"pyramid"===v[0].dataSeries.type?h=mouseX-10-this.container.clientWidth:(h="bar"===v[0].dataSeries.type||"rangeBar"===v[0].dataSeries.type||"stackedBar"===v[0].dataSeries.type||"stackedBar100"===v[0].dataSeries.type?v[0].dataSeries.axisY.convertValueToPixel(v[0].dataPoint.y)-this.container.clientWidth<<0:v[0].dataSeries.axisX.convertValueToPixel(v[0].dataPoint.x)-this.container.clientWidth<<0,h-=10),0>h&&(h+=this.container.clientWidth+20),h+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(h=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(v=10-(v=!(1!==v.length||this.shared||"line"!==v[0].dataSeries.type&&"stepLine"!==v[0].dataSeries.type&&"spline"!==v[0].dataSeries.type&&"area"!==v[0].dataSeries.type&&"stepArea"!==v[0].dataSeries.type&&"splineArea"!==v[0].dataSeries.type)||"bar"!==v[0].dataSeries.type&&"rangeBar"!==v[0].dataSeries.type&&"stackedBar"!==v[0].dataSeries.type&&"stackedBar100"!==v[0].dataSeries.type?v[0].dataSeries.axisY.convertValueToPixel(v[0].dataPoint.y):v[0].dataSeries.axisX.convertValueToPixel(v[0].dataPoint.x)))+this.container.clientHeight+5&&(v-=v+this.container.clientHeight+5-0),this.fixMozTransitionDelay(h,v),!this.animationEnabled||C?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=h+"px",this.container.style.bottom=v+"px",!0},G.prototype.fixMozTransitionDelay=function(o,f){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var h=parseFloat(this.container.style.left),l=(h=isNaN(h)?0:h,parseFloat(this.container.style.bottom));l=isNaN(l)?0:l,this.mozContainerTransition=10<Math.sqrt(Math.pow(h-o,2)+Math.pow(l-f,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},G.prototype.getContainerTransition=function(o){return"left "+o+"s ease-out 0s, bottom "+o+"s ease-out 0s"},ae.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],te&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},ae.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},ae.prototype.mouseEventHandler=function(o){if("mousemove"===o.type||"click"===o.type){var f=[],h=pn(o),l=null;if((l=this.chart.getObjectAtXY(h.x,h.y,!1))&&typeof this.objectMap[l]<"u")if("dataPoint"===(l=this.objectMap[l]).objectType){var d=this.chart.data[l.dataSeriesIndex],v=d.dataPoints[l.dataPointIndex],C=l.dataPointIndex;l.eventParameter={x:h.x,y:h.y,dataPoint:v,dataSeries:d.options,dataPointIndex:C,dataSeriesIndex:d.index,chart:this.chart},l.eventContext={context:v,userContext:v,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},f.push(l),(l=this.objectMap[d.id]).eventParameter={x:h.x,y:h.y,dataPoint:v,dataSeries:d.options,dataPointIndex:C,dataSeriesIndex:d.index,chart:this.chart},l.eventContext={context:d,userContext:d.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},f.push(this.objectMap[d.id])}else"legendItem"===l.objectType&&(l.eventParameter={x:h.x,y:h.y,dataSeries:(d=this.chart.data[l.dataSeriesIndex]).options,dataPoint:v=null!==l.dataPointIndex?d.dataPoints[l.dataPointIndex]:null,dataPointIndex:l.dataPointIndex,dataSeriesIndex:l.dataSeriesIndex,chart:this.chart},l.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},f.push(l));for(d=[],h=0;h<this.mouseoveredObjectMaps.length;h++){for(v=!0,l=0;l<f.length;l++)if(f[l].id===this.mouseoveredObjectMaps[h].id){v=!1;break}v?this.fireEvent(this.mouseoveredObjectMaps[h],"mouseout",o):d.push(this.mouseoveredObjectMaps[h])}for(this.mouseoveredObjectMaps=d,h=0;h<f.length;h++){for(d=!1,l=0;l<this.mouseoveredObjectMaps.length;l++)if(f[h].id===this.mouseoveredObjectMaps[l].id){d=!0;break}d||(this.fireEvent(f[h],"mouseover",o),this.mouseoveredObjectMaps.push(f[h])),"click"===o.type?this.fireEvent(f[h],"click",o):"mousemove"===o.type&&this.fireEvent(f[h],"mousemove",o)}}},ae.prototype.fireEvent=function(o,f,h){if(o&&f){var l=o.eventParameter,d=o.eventContext,v=o.eventContext.userContext;v&&d&&v[d[f]]&&v[d[f]].call(v,l),"mouseout"!==f?v.cursor&&v.cursor!==h.target.style.cursor&&(h.target.style.cursor=v.cursor):(h.target.style.cursor=this.chart._defaultCursor,delete o.eventParameter,delete o.eventContext),"click"===f&&"dataPoint"===o.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[o.dataSeriesIndex],l),"click"===f&&"dataPoint"===o.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[o.dataSeriesIndex],l)}},Pe.prototype.animate=function(o,f,h,l,d){var v=this;for(this.chart.isAnimating=!0,d=d||Xe.easing.linear,h&&this.animations.push({startTime:(new Date).getTime()+(o||0),duration:f,animationCallback:h,onComplete:l}),o=[];0<this.animations.length;)f=this.animations.shift(),h=(new Date).getTime(),l=0,f.startTime<=h&&(l=d(Math.min(h-f.startTime,f.duration),0,1,f.duration),l=Math.min(l,1),isNaN(l)||!isFinite(l))&&(l=1),1>l&&o.push(f),f.animationCallback(l),1<=l&&f.onComplete&&f.onComplete();this.animations=o,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){v.animate.call(v)}):this.chart.isAnimating=!1},Pe.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Xe={yScaleAnimation:function(o,f){if(0!==o){var h=f.dest,l=f.source.canvas,d=f.animationBase;h.drawImage(l,0,0,l.width,l.height,0,d-d*o,h.canvas.width/Yn,o*h.canvas.height/Yn)}},xScaleAnimation:function(o,f){if(0!==o){var h=f.dest,l=f.source.canvas,d=f.animationBase;h.drawImage(l,0,0,l.width,l.height,d-d*o,0,o*h.canvas.width/Yn,h.canvas.height/Yn)}},xClipAnimation:function(o,f){if(0!==o){var h=f.dest,l=f.source.canvas;h.save(),0<o&&h.drawImage(l,0,0,l.width*o,l.height,0,0,l.width*o/Yn,l.height/Yn),h.restore()}},fadeInAnimation:function(o,f){if(0!==o){var h=f.dest,l=f.source.canvas;h.save(),h.globalAlpha=o,h.drawImage(l,0,0,l.width,l.height,0,0,h.canvas.width/Yn,h.canvas.height/Yn),h.restore()}},easing:{linear:function(o,f,h,l){return h*o/l+f},easeOutQuad:function(o,f,h,l){return-h*(o/=l)*(o-2)+f},easeOutQuart:function(o,f,h,l){return-h*((o=o/l-1)*o*o*o-1)+f},easeInQuad:function(o,f,h,l){return h*(o/=l)*o+f},easeInQuart:function(o,f,h,l){return h*(o/=l)*o*o*o+f}}},Qt={drawMarker:function(o,f,h,l,d,v,C,D){if(h){var k=1;h.fillStyle=v||"#000000",h.strokeStyle=C||"#000000",h.lineWidth=D||0,h.setLineDash&&h.setLineDash(lt("solid",D)),"circle"===l?(h.moveTo(o,f),h.beginPath(),h.arc(o,f,d/2,0,2*Math.PI,!1),v&&h.fill(),D&&(C?h.stroke():(k=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=k))):"square"===l?(h.beginPath(),h.rect(o-d/2,f-d/2,d,d),v&&h.fill(),D&&(C?h.stroke():(k=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=k))):"triangle"===l?(h.beginPath(),h.moveTo(o-d/2,f+d/2),h.lineTo(o+d/2,f+d/2),h.lineTo(o,f-d/2),h.closePath(),v&&h.fill(),D&&(C?h.stroke():(k=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=k)),h.beginPath()):"cross"===l&&(h.strokeStyle=v,h.lineWidth=d/4,h.beginPath(),h.moveTo(o-d/2,f-d/2),h.lineTo(o+d/2,f+d/2),h.stroke(),h.moveTo(o+d/2,f-d/2),h.lineTo(o-d/2,f+d/2),h.stroke())}},drawMarkers:function(o){for(var f=0;f<o.length;f++){var h=o[f];Qt.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness)}}};return B}(),K.version="v3.7.5 GA",window.CanvasJS&&K&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=K)})(),document.createElement("canvas").getContext||function(){function he(){return this.context_||(this.context_=new lt(this))}function We(K){return String(K).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function Le(K){K.namespaces.g_vml_||K.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),K.namespaces.g_o_||K.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),K.styleSheets.ex_canvas_||((K=K.createStyleSheet()).owningElement.id="ex_canvas_",K.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function Ye(K){var ve=K.srcElement;switch(K.propertyName){case"width":ve.getContext().clearRect(),ve.style.width=ve.attributes.width.nodeValue+"px",ve.firstChild.style.width=ve.clientWidth+"px";break;case"height":ve.getContext().clearRect(),ve.style.height=ve.attributes.height.nodeValue+"px",ve.firstChild.style.height=ve.clientHeight+"px"}}function nt(K){(K=K.srcElement).firstChild&&(K.firstChild.style.width=K.clientWidth+"px",K.firstChild.style.height=K.clientHeight+"px")}function Fe(K,ve){for(var Me=[[1,0,0],[0,1,0],[0,0,1]],Re=0;3>Re;Re++)for(var it=0;3>it;it++){for(var at=0,Vt=0;3>Vt;Vt++)at+=K[Re][Vt]*ve[Vt][it];Me[Re][it]=at}return Me}function be(K,ve){ve.fillStyle=K.fillStyle,ve.lineCap=K.lineCap,ve.lineJoin=K.lineJoin,ve.lineWidth=K.lineWidth,ve.miterLimit=K.miterLimit,ve.shadowBlur=K.shadowBlur,ve.shadowColor=K.shadowColor,ve.shadowOffsetX=K.shadowOffsetX,ve.shadowOffsetY=K.shadowOffsetY,ve.strokeStyle=K.strokeStyle,ve.globalAlpha=K.globalAlpha,ve.font=K.font,ve.textAlign=K.textAlign,ve.textBaseline=K.textBaseline,ve.arcScaleX_=K.arcScaleX_,ve.arcScaleY_=K.arcScaleY_,ve.lineScale_=K.lineScale_}function H(K){var Me=K.indexOf("(",3),ve=K.indexOf(")",Me+1);return(4!=(Me=K.substring(Me+1,ve).split(",")).length||"a"!=K.charAt(3))&&(Me[3]=1),Me}function De(K,ve,Me){return Math.min(Me,Math.max(ve,K))}function Rt(K,ve,Me){return 0>Me&&Me++,1<Me&&Me--,1>6*Me?K+6*(ve-K)*Me:1>2*Me?ve:2>3*Me?K+6*(ve-K)*(2/3-Me):K}function ht(K){if(K in ct)return ct[K];var ve,Me=1;if("#"==(K=String(K)).charAt(0))ve=K;else if(/^rgb/.test(K)){Me=H(K),ve="#";for(var Re,it=0;3>it;it++)Re=-1!=Me[it].indexOf("%")?Math.floor(parseFloat(Me[it])/100*255):+Me[it],ve+=ut[De(Re,0,255)];Me=+Me[3]}else if(/^hsl/.test(K)){if(it=Me=H(K),0>(ve=parseFloat(it[0])/360%360)&&ve++,Re=De(parseFloat(it[1])/100,0,1),it=De(parseFloat(it[2])/100,0,1),0==Re)Re=it=ve=it;else{var at=.5>it?it*(1+Re):it+Re-it*Re,Vt=2*it-at;Re=Rt(Vt,at,ve+1/3),it=Rt(Vt,at,ve),ve=Rt(Vt,at,ve-1/3)}ve="#"+ut[Math.floor(255*Re)]+ut[Math.floor(255*it)]+ut[Math.floor(255*ve)],Me=Me[3]}else ve=Dt[K]||K;return ct[K]={color:ve,alpha:Me}}function lt(K){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Ot,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=K;var ve="width:"+K.clientWidth+"px;height:"+K.clientHeight+"px;overflow:hidden;position:absolute",Me=K.ownerDocument.createElement("div");Me.style.cssText=ve,K.appendChild(Me),(ve=Me.cloneNode(!1)).style.backgroundColor="red",ve.style.filter="alpha(opacity=0)",K.appendChild(ve),this.element_=Me,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function xt(K,ve,Me,Re){K.currentPath_.push({type:"bezierCurveTo",cp1x:ve.x,cp1y:ve.y,cp2x:Me.x,cp2y:Me.y,x:Re.x,y:Re.y}),K.currentX_=Re.x,K.currentY_=Re.y}function qe(K,ve){var Me=(Re=ht(K.strokeStyle)).color,Re=Re.alpha*K.globalAlpha,it=K.lineScale_*K.lineWidth;1>it&&(Re*=it),ve.push("<g_vml_:stroke",' opacity="',Re,'"',' joinstyle="',K.lineJoin,'"',' miterlimit="',K.miterLimit,'"',' endcap="',Ht[K.lineCap]||"square",'"',' weight="',it,'px"',' color="',Me,'" />')}function _t(K,ve,Me,Re){var it=K.fillStyle,at=K.arcScaleX_,Vt=K.arcScaleY_,tn=Re.x-Me.x,En=Re.y-Me.y;if(it instanceof Tt){var ln=0,qt=Re=0,Ft=0,Dn=1;if("gradient"==it.type_){ln=it.x1_/at,Me=it.y1_/Vt;var Gt=Ke(K,it.x0_/at,it.y0_/Vt);ln=Ke(K,ln,Me),0>(ln=180*Math.atan2(ln.x-Gt.x,ln.y-Gt.y)/Math.PI)&&(ln+=360),1e-6>ln&&(ln=0)}else Re=((Gt=Ke(K,it.x0_,it.y0_)).x-Me.x)/tn,qt=(Gt.y-Me.y)/En,Dn=St.max(tn/=at*Ot,En/=Vt*Ot),Dn=2*it.r1_/Dn-(Ft=2*it.r0_/Dn);(at=it.colors_).sort(function($n,Pi){return $n.offset-Pi.offset}),Gt=at[0].color,Me=at[(Vt=at.length)-1].color,tn=at[0].alpha*K.globalAlpha,K=at[Vt-1].alpha*K.globalAlpha,En=[];for(var Kn=0;Kn<Vt;Kn++){var Xt=at[Kn];En.push(Xt.offset*Dn+Ft+" "+Xt.color)}ve.push('<g_vml_:fill type="',it.type_,'"',' method="none" focus="100%"',' color="',Gt,'"',' color2="',Me,'"',' colors="',En.join(","),'"',' opacity="',K,'"',' g_o_:opacity2="',tn,'"',' angle="',ln,'"',' focusposition="',Re,",",qt,'" />')}else it instanceof mt?tn&&En&&ve.push("<g_vml_:fill",' position="',-Me.x/tn*at*at,",",-Me.y/En*Vt*Vt,'"',' type="tile"',' src="',it.src_,'" />'):(it=ht(K.fillStyle),ve.push('<g_vml_:fill color="',it.color,'" opacity="',it.alpha*K.globalAlpha,'" />'))}function Ke(K,ve,Me){return{x:Ot*(ve*(K=K.m_)[0][0]+Me*K[1][0]+K[2][0])-Wt,y:Ot*(ve*K[0][1]+Me*K[1][1]+K[2][1])-Wt}}function Ct(K,ve,Me){isFinite(ve[0][0])&&isFinite(ve[0][1])&&isFinite(ve[1][0])&&isFinite(ve[1][1])&&isFinite(ve[2][0])&&isFinite(ve[2][1])&&(K.m_=ve,Me&&(K.lineScale_=kt(It(ve[0][0]*ve[1][1]-ve[0][1]*ve[1][0]))))}function Tt(K){this.type_=K,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function mt(K,ve){if(!K||1!=K.nodeType||"IMG"!=K.tagName)throw new Ze("TYPE_MISMATCH_ERR");if("complete"!=K.readyState)throw new Ze("INVALID_STATE_ERR");switch(ve){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=ve;break;default:throw new Ze("SYNTAX_ERR")}this.src_=K.src,this.width_=K.width,this.height_=K.height}function Ze(K){this.code=this[K],this.message=K+": DOM Exception "+this.code}var St=Math,Ee=St.round,Ve=St.sin,ot=St.cos,It=St.abs,kt=St.sqrt,Ot=10,Wt=Ot/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var je=Array.prototype.slice;Le(document);var Qe={init:function(K){(K=K||document).createElement("canvas"),K.attachEvent("onreadystatechange",function ne(K,ve,Me){var Re=je.call(arguments,2);return function(){return K.apply(ve,Re.concat(je.call(arguments)))}}(this.init_,this,K))},init_:function(K){K=K.getElementsByTagName("canvas");for(var ve=0;ve<K.length;ve++)this.initElement(K[ve])},initElement:function(K){if(!K.getContext){K.getContext=he,Le(K.ownerDocument),K.innerHTML="",K.attachEvent("onpropertychange",Ye),K.attachEvent("onresize",nt);var ve=K.attributes;ve.width&&ve.width.specified?K.style.width=ve.width.nodeValue+"px":K.width=K.clientWidth,ve.height&&ve.height.specified?K.style.height=ve.height.nodeValue+"px":K.height=K.clientHeight}return K}};Qe.init();for(var ut=[],zt=0;16>zt;zt++)for(var bt=0;16>bt;bt++)ut[16*zt+bt]=zt.toString(16)+bt.toString(16);var Dt={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ct={},te={},Ht={butt:"flat",round:"round"};(zt=lt.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},zt.beginPath=function(){this.currentPath_=[]},zt.moveTo=function(K,ve){var Me=Ke(this,K,ve);this.currentPath_.push({type:"moveTo",x:Me.x,y:Me.y}),this.currentX_=Me.x,this.currentY_=Me.y},zt.lineTo=function(K,ve){var Me=Ke(this,K,ve);this.currentPath_.push({type:"lineTo",x:Me.x,y:Me.y}),this.currentX_=Me.x,this.currentY_=Me.y},zt.bezierCurveTo=function(K,ve,Me,Re,it,at){it=Ke(this,it,at),xt(this,K=Ke(this,K,ve),Me=Ke(this,Me,Re),it)},zt.quadraticCurveTo=function(K,ve,Me,Re){K=Ke(this,K,ve),Me=Ke(this,Me,Re),xt(this,Re={x:this.currentX_+2/3*(K.x-this.currentX_),y:this.currentY_+2/3*(K.y-this.currentY_)},{x:Re.x+(Me.x-this.currentX_)/3,y:Re.y+(Me.y-this.currentY_)/3},Me)},zt.arc=function(K,ve,Me,Re,it,at){Me*=Ot;var Vt=at?"at":"wa",tn=K+ot(Re)*Me-Wt,En=ve+Ve(Re)*Me-Wt;Re=K+ot(it)*Me-Wt,it=ve+Ve(it)*Me-Wt,tn!=Re||at||(tn+=.125),K=Ke(this,K,ve),tn=Ke(this,tn,En),Re=Ke(this,Re,it),this.currentPath_.push({type:Vt,x:K.x,y:K.y,radius:Me,xStart:tn.x,yStart:tn.y,xEnd:Re.x,yEnd:Re.y})},zt.rect=function(K,ve,Me,Re){this.moveTo(K,ve),this.lineTo(K+Me,ve),this.lineTo(K+Me,ve+Re),this.lineTo(K,ve+Re),this.closePath()},zt.strokeRect=function(K,ve,Me,Re){var it=this.currentPath_;this.beginPath(),this.moveTo(K,ve),this.lineTo(K+Me,ve),this.lineTo(K+Me,ve+Re),this.lineTo(K,ve+Re),this.closePath(),this.stroke(),this.currentPath_=it},zt.fillRect=function(K,ve,Me,Re){var it=this.currentPath_;this.beginPath(),this.moveTo(K,ve),this.lineTo(K+Me,ve),this.lineTo(K+Me,ve+Re),this.lineTo(K,ve+Re),this.closePath(),this.fill(),this.currentPath_=it},zt.createLinearGradient=function(K,ve,Me,Re){var it=new Tt("gradient");return it.x0_=K,it.y0_=ve,it.x1_=Me,it.y1_=Re,it},zt.createRadialGradient=function(K,ve,Me,Re,it,at){var Vt=new Tt("gradientradial");return Vt.x0_=K,Vt.y0_=ve,Vt.r0_=Me,Vt.x1_=Re,Vt.y1_=it,Vt.r1_=at,Vt},zt.drawImage=function(K,ve){var Me,Re,it,at,Vt,tn,En,ln;it=K.runtimeStyle.width,at=K.runtimeStyle.height,K.runtimeStyle.width="auto",K.runtimeStyle.height="auto";var qt=K.width,Ft=K.height;if(K.runtimeStyle.width=it,K.runtimeStyle.height=at,3==arguments.length)Me=arguments[1],Re=arguments[2],Vt=tn=0,En=it=qt,ln=at=Ft;else if(5==arguments.length)Me=arguments[1],Re=arguments[2],it=arguments[3],at=arguments[4],Vt=tn=0,En=qt,ln=Ft;else{if(9!=arguments.length)throw Error("Invalid number of arguments");Vt=arguments[1],tn=arguments[2],En=arguments[3],ln=arguments[4],Me=arguments[5],Re=arguments[6],it=arguments[7],at=arguments[8]}var Dn=Ke(this,Me,Re),Gt=[];if(Gt.push(" <g_vml_:group",' coordsize="',10*Ot,",",10*Ot,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var Kn=[];Kn.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",Ee(Dn.x/Ot),",","Dy=",Ee(Dn.y/Ot),"");var Xt=Ke(this,Me+it,Re),$n=Ke(this,Me,Re+at);Me=Ke(this,Me+it,Re+at),Dn.x=St.max(Dn.x,Xt.x,$n.x,Me.x),Dn.y=St.max(Dn.y,Xt.y,$n.y,Me.y),Gt.push("padding:0 ",Ee(Dn.x/Ot),"px ",Ee(Dn.y/Ot),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Kn.join(""),", sizingmethod='clip');")}else Gt.push("top:",Ee(Dn.y/Ot),"px;left:",Ee(Dn.x/Ot),"px;");Gt.push(' ">','<g_vml_:image src="',K.src,'"',' style="width:',Ot*it,"px;"," height:",Ot*at,'px"',' cropleft="',Vt/qt,'"',' croptop="',tn/Ft,'"',' cropright="',(qt-Vt-En)/qt,'"',' cropbottom="',(Ft-tn-ln)/Ft,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Gt.join(""))},zt.stroke=function(K){var ve=[];ve.push("<g_vml_:shape",' filled="',!!K,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Ot,",",10*Ot,'"',' stroked="',!K,'"',' path="');for(var Me={x:null,y:null},Re={x:null,y:null},it=0;it<this.currentPath_.length;it++){var at=this.currentPath_[it];switch(at.type){case"moveTo":ve.push(" m ",Ee(at.x),",",Ee(at.y));break;case"lineTo":ve.push(" l ",Ee(at.x),",",Ee(at.y));break;case"close":ve.push(" x "),at=null;break;case"bezierCurveTo":ve.push(" c ",Ee(at.cp1x),",",Ee(at.cp1y),",",Ee(at.cp2x),",",Ee(at.cp2y),",",Ee(at.x),",",Ee(at.y));break;case"at":case"wa":ve.push(" ",at.type," ",Ee(at.x-this.arcScaleX_*at.radius),",",Ee(at.y-this.arcScaleY_*at.radius)," ",Ee(at.x+this.arcScaleX_*at.radius),",",Ee(at.y+this.arcScaleY_*at.radius)," ",Ee(at.xStart),",",Ee(at.yStart)," ",Ee(at.xEnd),",",Ee(at.yEnd))}at&&((null==Me.x||at.x<Me.x)&&(Me.x=at.x),(null==Re.x||at.x>Re.x)&&(Re.x=at.x),(null==Me.y||at.y<Me.y)&&(Me.y=at.y),(null==Re.y||at.y>Re.y)&&(Re.y=at.y))}ve.push(' ">'),K?_t(this,ve,Me,Re):qe(this,ve),ve.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",ve.join(""))},zt.fill=function(){this.stroke(!0)},zt.closePath=function(){this.currentPath_.push({type:"close"})},zt.save=function(){var K={};be(this,K),this.aStack_.push(K),this.mStack_.push(this.m_),this.m_=Fe([[1,0,0],[0,1,0],[0,0,1]],this.m_)},zt.restore=function(){this.aStack_.length&&(be(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},zt.translate=function(K,ve){Ct(this,Fe([[1,0,0],[0,1,0],[K,ve,1]],this.m_),!1)},zt.rotate=function(K){var ve=ot(K);Ct(this,Fe([[ve,K=Ve(K),0],[-K,ve,0],[0,0,1]],this.m_),!1)},zt.scale=function(K,ve){this.arcScaleX_*=K,this.arcScaleY_*=ve,Ct(this,Fe([[K,0,0],[0,ve,0],[0,0,1]],this.m_),!0)},zt.transform=function(K,ve,Me,Re,it,at){Ct(this,Fe([[K,ve,0],[Me,Re,0],[it,at,1]],this.m_),!0)},zt.setTransform=function(K,ve,Me,Re,it,at){Ct(this,[[K,ve,0],[Me,Re,0],[it,at,1]],!0)},zt.drawText_=function(K,ve,Me,Re,it){var at=this.m_;Re=0;var ln,Vt=1e3,tn=0,En=[];if(te[ln=this.font])ln=te[ln];else{var qt=document.createElement("div").style;try{qt.font=ln}catch{}ln=te[ln]={style:qt.fontStyle||"normal",variant:qt.fontVariant||"normal",weight:qt.fontWeight||"normal",size:qt.fontSize||10,family:qt.fontFamily||"sans-serif"}}qt=ln;var Ft=this.element_;for(var Dn in ln={},qt)ln[Dn]=qt[Dn];switch(Dn=parseFloat(Ft.currentStyle.fontSize),Ft=parseFloat(qt.size),ln.size="number"==typeof qt.size?qt.size:-1!=qt.size.indexOf("px")?Ft:-1!=qt.size.indexOf("em")?Dn*Ft:-1!=qt.size.indexOf("%")?Dn/100*Ft:-1!=qt.size.indexOf("pt")?Ft/.75:Dn,ln.size*=.981,Dn=ln.style+" "+ln.variant+" "+ln.weight+" "+ln.size+"px "+ln.family,Ft=this.element_.currentStyle,qt=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":qt="ltr"==Ft.direction?"right":"left";break;case"start":qt="rtl"==Ft.direction?"right":"left";break;default:qt="left"}switch(this.textBaseline){case"hanging":case"top":tn=ln.size/1.75;break;case"middle":break;default:tn=-ln.size/2.25}switch(qt){case"right":Re=1e3,Vt=.05;break;case"center":Re=Vt=500}ve=Ke(this,ve+0,Me+tn),En.push('<g_vml_:line from="',-Re,' 0" to="',Vt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!it,'" stroked="',!!it,'" style="position:absolute;width:1px;height:1px;">'),it?qe(this,En):_t(this,En,{x:-Re,y:0},{x:Vt,y:ln.size}),it=at[0][0].toFixed(3)+","+at[1][0].toFixed(3)+","+at[0][1].toFixed(3)+","+at[1][1].toFixed(3)+",0,0",ve=Ee(ve.x/Ot)+","+Ee(ve.y/Ot),En.push('<g_vml_:skew on="t" matrix="',it,'" ',' offset="',ve,'" origin="',Re,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',We(K),'" style="v-text-align:',qt,";font:",We(Dn),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",En.join(""))},zt.fillText=function(K,ve,Me,Re){this.drawText_(K,ve,Me,Re,!1)},zt.strokeText=function(K,ve,Me,Re){this.drawText_(K,ve,Me,Re,!0)},zt.measureText=function(K){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var ve=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(ve.createTextNode(K)),{width:this.textMeasureEl_.offsetWidth}},zt.clip=function(){},zt.arcTo=function(){},zt.createPattern=function(K,ve){return new mt(K,ve)},Tt.prototype.addColorStop=function(K,ve){ve=ht(ve),this.colors_.push({offset:K,color:ve.color,alpha:ve.alpha})},(zt=Ze.prototype=Error()).INDEX_SIZE_ERR=1,zt.DOMSTRING_SIZE_ERR=2,zt.HIERARCHY_REQUEST_ERR=3,zt.WRONG_DOCUMENT_ERR=4,zt.INVALID_CHARACTER_ERR=5,zt.NO_DATA_ALLOWED_ERR=6,zt.NO_MODIFICATION_ALLOWED_ERR=7,zt.NOT_FOUND_ERR=8,zt.NOT_SUPPORTED_ERR=9,zt.INUSE_ATTRIBUTE_ERR=10,zt.INVALID_STATE_ERR=11,zt.SYNTAX_ERR=12,zt.INVALID_MODIFICATION_ERR=13,zt.NAMESPACE_ERR=14,zt.INVALID_ACCESS_ERR=15,zt.VALIDATION_ERR=16,zt.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Qe,CanvasRenderingContext2D=lt,CanvasGradient=Tt,CanvasPattern=mt,DOMException=Ze}()},655:(an,Mt,q)=>{"use strict";function We(je,Qe){var ut={};for(var bt in je)Object.prototype.hasOwnProperty.call(je,bt)&&Qe.indexOf(bt)<0&&(ut[bt]=je[bt]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var Dt=0;for(bt=Object.getOwnPropertySymbols(je);Dt<bt.length;Dt++)Qe.indexOf(bt[Dt])<0&&Object.prototype.propertyIsEnumerable.call(je,bt[Dt])&&(ut[bt[Dt]]=je[bt[Dt]])}return ut}function De(je,Qe,ut,bt){return new(ut||(ut=Promise))(function(ct,te){function Ht(ve){try{K(bt.next(ve))}catch(Me){te(Me)}}function zt(ve){try{K(bt.throw(ve))}catch(Me){te(Me)}}function K(ve){ve.done?ct(ve.value):function Dt(ct){return ct instanceof ut?ct:new ut(function(te){te(ct)})}(ve.value).then(Ht,zt)}K((bt=bt.apply(je,Qe||[])).next())})}function Tt(je){return this instanceof Tt?(this.v=je,this):new Tt(je)}function mt(je,Qe,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,bt=ut.apply(je,Qe||[]),ct=[];return Dt={},te("next"),te("throw"),te("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt;function te(Re){bt[Re]&&(Dt[Re]=function(it){return new Promise(function(at,Vt){ct.push([Re,it,at,Vt])>1||Ht(Re,it)})})}function Ht(Re,it){try{!function zt(Re){Re.value instanceof Tt?Promise.resolve(Re.value.v).then(K,ve):Me(ct[0][2],Re)}(bt[Re](it))}catch(at){Me(ct[0][3],at)}}function K(Re){Ht("next",Re)}function ve(Re){Ht("throw",Re)}function Me(Re,it){Re(it),ct.shift(),ct.length&&Ht(ct[0][0],ct[0][1])}}function St(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Qe=je[Symbol.asyncIterator];return Qe?Qe.call(je):(je=function xt(je){var Qe="function"==typeof Symbol&&Symbol.iterator,ut=Qe&&je[Qe],bt=0;if(ut)return ut.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&bt>=je.length&&(je=void 0),{value:je&&je[bt++],done:!je}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),ut={},bt("next"),bt("throw"),bt("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function bt(ct){ut[ct]=je[ct]&&function(te){return new Promise(function(Ht,zt){!function Dt(ct,te,Ht,zt){Promise.resolve(zt).then(function(K){ct({value:K,done:Ht})},te)}(Ht,zt,(te=je[ct](te)).done,te.value)})}}}q.d(Mt,{FC:()=>mt,KL:()=>St,_T:()=>We,mG:()=>De,qq:()=>Tt})},4650:(an,Mt,q)=>{"use strict";q.d(Mt,{$8M:()=>Eh,$WT:()=>$,$Z:()=>fc,AFp:()=>Lx,AaK:()=>Je,CHM:()=>Op,CRH:()=>vx,CZH:()=>Pm,CqO:()=>Md,D6c:()=>ih,DdM:()=>ox,EJc:()=>Om,EpF:()=>qv,F4k:()=>Mc,FYo:()=>Xl,FiY:()=>oo,GfV:()=>fv,Gpc:()=>H,JOm:()=>Fr,KtG:()=>Lp,LFG:()=>B,Lbi:()=>Aw,Lck:()=>YC,MMx:()=>pm,MR2:()=>gr,NdJ:()=>Sd,OlP:()=>gi,Oqu:()=>Ac,P3R:()=>tb,PXZ:()=>zw,Q6J:()=>bg,QGY:()=>Mg,Qsj:()=>Rf,R0b:()=>qr,RDi:()=>R0,Rgc:()=>Xc,SBq:()=>Yl,Sil:()=>Fw,Suo:()=>yx,TTD:()=>rt,TgZ:()=>wd,X6Q:()=>$w,XFs:()=>Xt,Xpm:()=>C,Xts:()=>av,Y36:()=>ja,YKP:()=>Q_,YNc:()=>Qv,Yjl:()=>P,Yz7:()=>Me,Z0I:()=>Vt,ZZ4:()=>Io,_Bn:()=>cm,_UZ:()=>Td,_Vd:()=>co,_c5:()=>eT,_uU:()=>Od,aQg:()=>qm,c2e:()=>Fm,cJS:()=>it,cg1:()=>Qg,dDg:()=>Ux,dqk:()=>nn,eFA:()=>$x,ekj:()=>Bg,eoX:()=>Bm,f3M:()=>Ce,g9A:()=>Dw,h0i:()=>cu,hGG:()=>bp,hij:()=>Ld,iGM:()=>gx,ifc:()=>ft,ip1:()=>Am,jDz:()=>q_,kL8:()=>qg,lG2:()=>m,lqb:()=>Gr,lri:()=>Wx,n5z:()=>Pu,oAB:()=>_,oxw:()=>e_,q4F:()=>ac,qLn:()=>lc,qOj:()=>fg,qZA:()=>Tc,rWj:()=>Vm,s9C:()=>Dg,sBO:()=>Kx,s_b:()=>tp,soG:()=>Rm,tb:()=>km,tp0:()=>Ho,uIk:()=>vg,vHH:()=>qe,vpe:()=>Nr,wAp:()=>Sn,xp6:()=>id,z2F:()=>Jc,zSh:()=>Df,zs3:()=>za});var y=q(7579),he=q(727),ne=q(9751),We=q(6451),Le=q(3099);function Ye(i){for(let r in i)if(i[r]===Ye)return r;throw Error("Could not find renamed property on target object.")}function nt(i,r){for(const a in r)r.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=r[a])}function Je(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Je).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const r=i.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Fe(i,r){return null==i||""===i?null===r?"":r:null==r||""===r?i:i+" "+r}const be=Ye({__forward_ref__:Ye});function H(i){return i.__forward_ref__=H,i.toString=function(){return Je(this())},i}function De(i){return Rt(i)?i():i}function Rt(i){return"function"==typeof i&&i.hasOwnProperty(be)&&i.__forward_ref__===H}function ht(i){return i&&!!i.\u0275providers}const xt="https://g.co/ng/security#xss";class qe extends Error{constructor(r,a){super(function _t(i,r){return`NG0${Math.abs(i)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function Ke(i){return"string"==typeof i?i:null==i?"":String(i)}function St(i,r){throw new qe(-201,!1)}function te(i,r){null==i&&function Ht(i,r,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}(r,i,null,"!=")}function Me(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function it(i){return{providers:i.providers||[],imports:i.imports||[]}}function at(i){return tn(i,Ft)||tn(i,Gt)}function Vt(i){return null!==at(i)}function tn(i,r){return i.hasOwnProperty(r)?i[r]:null}function qt(i){return i&&(i.hasOwnProperty(Dn)||i.hasOwnProperty(Kn))?i[Dn]:null}const Ft=Ye({\u0275prov:Ye}),Dn=Ye({\u0275inj:Ye}),Gt=Ye({ngInjectableDef:Ye}),Kn=Ye({ngInjectorDef:Ye});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let $n;function ai(i){const r=$n;return $n=i,r}function Si(i,r,a){const c=at(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Xt.Optional?null:void 0!==r?r:void St(Je(i))}const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hi={},ui="__NG_DI_FLAG__",Yn="ngTempTokenPath",ii=/\n/gm,ji="__source";let An;function Qn(i){const r=An;return An=i,r}function V(i,r=Xt.Default){if(void 0===An)throw new qe(-203,!1);return null===An?Si(i,void 0,r):An.get(i,r&Xt.Optional?null:void 0,r)}function B(i,r=Xt.Default){return(function Pi(){return $n}()||V)(De(i),r)}function Ce(i,r=Xt.Default){return B(i,He(r))}function He(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function tt(i){const r=[];for(let a=0;a<i.length;a++){const c=De(i[a]);if(Array.isArray(c)){if(0===c.length)throw new qe(900,!1);let p,x=Xt.Default;for(let E=0;E<c.length;E++){const F=c[E],L=ue(F);"number"==typeof L?-1===L?p=F.token:x|=L:p=F}r.push(B(p,x))}else r.push(B(c))}return r}function Oe(i,r){return i[ui]=r,i.prototype[ui]=r,i}function ue(i){return i[ui]}function le(i){return{toString:i}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ft=(()=>{return(i=ft||(ft={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ft;var i})();const jt={},Xe=[],Qt=Ye({\u0275cmp:Ye}),o=Ye({\u0275dir:Ye}),f=Ye({\u0275pipe:Ye}),h=Ye({\u0275mod:Ye}),l=Ye({\u0275fac:Ye}),d=Ye({__NG_ELEMENT_ID__:Ye});let v=0;function C(i){return le(()=>{const a=!0===i.standalone,c={},p={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Xe,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ft.Emulated,id:"c"+v++,styles:i.styles||Xe,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},x=i.dependencies,E=i.features;return p.inputs=I(i.inputs,c),p.outputs=I(i.outputs),E&&E.forEach(F=>F(p)),p.directiveDefs=x?()=>("function"==typeof x?x():x).map(k).filter(S):null,p.pipeDefs=x?()=>("function"==typeof x?x():x).map(N).filter(S):null,p})}function k(i){return z(i)||U(i)}function S(i){return null!==i}function _(i){return le(()=>({type:i.type,bootstrap:i.bootstrap||Xe,declarations:i.declarations||Xe,imports:i.imports||Xe,exports:i.exports||Xe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function I(i,r){if(null==i)return jt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let p=i[c],x=p;Array.isArray(p)&&(x=p[1],p=p[0]),a[p]=c,r&&(r[p]=x)}return a}const m=C;function P(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function z(i){return i[Qt]||null}function U(i){return i[o]||null}function N(i){return i[f]||null}function $(i){const r=z(i)||U(i)||N(i);return null!==r&&r.standalone}function Z(i,r){const a=i[h]||null;if(!a&&!0===r)throw new Error(`Type ${Je(i)} does not have '\u0275mod' property.`);return a}function dt(i){return Array.isArray(i)&&"object"==typeof i[1]}function pt(i){return Array.isArray(i)&&!0===i[1]}function Lt(i){return 0!=(4&i.flags)}function Ln(i){return i.componentOffset>-1}function Nt(i){return 1==(1&i.flags)}function on(i){return null!==i.template}function Ri(i){return 0!=(256&i[2])}function fe(i,r){return i.hasOwnProperty(l)?i[l]:null}class Se{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function rt(){return wt}function wt(i){return i.type.prototype.ngOnChanges&&(i.setInput=rn),Ut}function Ut(){const i=Bn(this),r=i?.current;if(r){const a=i.previous;if(a===jt)i.previous=r;else for(let c in r)a[c]=r[c];i.current=null,this.ngOnChanges(r)}}function rn(i,r,a,c){const p=this.declaredInputs[a],x=Bn(i)||function zn(i,r){return i[Pn]=r}(i,{previous:jt,current:null}),E=x.current||(x.current={}),F=x.previous,L=F[p];E[p]=new Se(L&&L.currentValue,r,F===jt),i[c]=r}rt.ngInherit=!0;const Pn="__ngSimpleChanges__";function Bn(i){return i[Pn]||null}function Ni(i){for(;Array.isArray(i);)i=i[0];return i}function Qi(i,r){return Ni(r[i])}function Di(i,r){return Ni(r[i.index])}function lh(i,r){return i.data[r]}function rr(i,r){const a=r[i];return dt(a)?a:a[0]}function Ks(i){return 64==(64&i[2])}function ms(i,r){return null==r?null:i[r]}function uh(i){i[18]=0}function ma(i,r){i[5]+=r;let a=i,c=i[3];for(;null!==c&&(1===r&&1===a[5]||-1===r&&0===a[5]);)c[5]+=r,a=c,c=c[3]}const Nn={lFrame:Up(null),bindingsEnabled:!0};function ch(){return Nn.bindingsEnabled}function vt(){return Nn.lFrame.lView}function ri(){return Nn.lFrame.tView}function Op(i){return Nn.lFrame.contextLView=i,i[8]}function Lp(i){return Nn.lFrame.contextLView=null,i}function Ji(){let i=Np();for(;null!==i&&64===i.type;)i=i.parent;return i}function Np(){return Nn.lFrame.currentTNode}function ns(i,r){const a=Nn.lFrame;a.currentTNode=i,a.isParent=r}function yl(){return Nn.lFrame.isParent}function Qs(){return Nn.lFrame.bindingIndex++}function gh(i,r){const a=Nn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ps(r)}function Ps(i){Nn.lFrame.currentDirectiveIndex=i}function Bp(){return Nn.lFrame.currentQueryIndex}function mh(i){Nn.lFrame.currentQueryIndex=i}function _y(i){const r=i[1];return 2===r.type?r.declTNode:1===r.type?i[6]:null}function Wp(i,r,a){if(a&Xt.SkipSelf){let p=r,x=i;for(;!(p=p.parent,null!==p||a&Xt.Host||(p=_y(x),null===p||(x=x[15],10&p.type))););if(null===p)return!1;r=p,i=x}const c=Nn.lFrame=xy();return c.currentTNode=r,c.lView=i,!0}function yh(i){const r=xy(),a=i[1];Nn.lFrame=r,r.currentTNode=a.firstChild,r.lView=i,r.tView=a,r.contextLView=i,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function xy(){const i=Nn.lFrame,r=null===i?null:i.child;return null===r?Up(i):r}function Up(i){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=r),r}function zp(){const i=Nn.lFrame;return Nn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const by=zp;function Hp(){const i=zp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wr(){return Nn.lFrame.selectedIndex}function ys(i){Nn.lFrame.selectedIndex=i}function _i(){const i=Nn.lFrame;return lh(i.tView,i.selectedIndex)}function va(i,r){for(let a=r.directiveStart,c=r.directiveEnd;a<c;a++){const x=i.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:F,ngAfterViewInit:L,ngAfterViewChecked:j,ngOnDestroy:J}=x;E&&(i.contentHooks||(i.contentHooks=[])).push(-a,E),F&&((i.contentHooks||(i.contentHooks=[])).push(a,F),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,F)),L&&(i.viewHooks||(i.viewHooks=[])).push(-a,L),j&&((i.viewHooks||(i.viewHooks=[])).push(a,j),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,j)),null!=J&&(i.destroyHooks||(i.destroyHooks=[])).push(a,J)}}function Cu(i,r,a){Fo(i,r,3,a)}function Js(i,r,a,c){(3&i[2])===a&&Fo(i,r,a,c)}function ko(i,r){let a=i[2];(3&a)===r&&(a&=2047,a+=1,i[2]=a)}function Fo(i,r,a,c){const x=c??-1,E=r.length-1;let F=0;for(let L=void 0!==c?65535&i[18]:0;L<E;L++)if("number"==typeof r[L+1]){if(F=r[L],null!=c&&F>=c)break}else r[L]<0&&(i[18]+=65536),(F<x||-1==x)&&(jp(i,a,r,L),i[18]=(4294901760&i[18])+L+2),L++}function jp(i,r,a,c){const p=a[c]<0,x=a[c+1],F=i[p?-a[c]:a[c]];if(p){if(i[2]>>11<i[18]>>16&&(3&i[2])===r){i[2]+=2048;try{x.call(F)}finally{}}}else try{x.call(F)}finally{}}class xl{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function bl(i,r,a){let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const x=a[c++],E=a[c++],F=a[c++];i.setAttribute(r,E,F,x)}else{const x=p,E=a[++c];Mu(x)?i.setProperty(r,x,E):i.setAttribute(r,x,E),c++}}return c}function Fs(i){return 3===i||4===i||6===i}function Mu(i){return 64===i.charCodeAt(0)}function _s(i,r){if(null!==r&&0!==r.length)if(null===i||0===i.length)i=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const p=r[c];"number"==typeof p?a=p:0===a||Cl(i,a,p,null,-1===a||2===a?r[++c]:null)}}return i}function Cl(i,r,a,c,p){let x=0,E=i.length;if(-1===r)E=-1;else for(;x<i.length;){const F=i[x++];if("number"==typeof F){if(F===r){E=-1;break}if(F>r){E=x-1;break}}}for(;x<i.length;){const F=i[x];if("number"==typeof F)break;if(F===a){if(null===c)return void(null!==p&&(i[x+1]=p));if(c===i[x+1])return void(i[x+2]=p)}x++,null!==c&&x++,null!==p&&x++}-1!==E&&(i.splice(E,0,r),x=E+1),i.splice(x++,0,a),null!==c&&i.splice(x++,0,c),null!==p&&i.splice(x++,0,p)}function Su(i){return-1!==i}function Ro(i){return 32767&i}function qs(i,r){let a=function Yp(i){return i>>16}(i),c=r;for(;a>0;)c=c[15],a--;return c}let wl=!0;function Rs(i){const r=wl;return wl=i,r}let Tl=0;const Br={};function eo(i,r){const a=bh(i,r);if(-1!==a)return a;const c=r[1];c.firstCreatePass&&(i.injectorIndex=r.length,Ml(c.data,i),Ml(r,null),Ml(c.blueprint,null));const p=Eu(i,r),x=i.injectorIndex;if(Su(p)){const E=Ro(p),F=qs(p,r),L=F[1].data;for(let j=0;j<8;j++)r[x+j]=F[E+j]|L[E+j]}return r[x+8]=p,x}function Ml(i,r){i.push(0,0,0,0,0,0,0,0,r)}function bh(i,r){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===r[i.injectorIndex+8]?-1:i.injectorIndex}function Eu(i,r){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,p=r;for(;null!==p;){if(c=Ih(p),null===c)return-1;if(a++,p=p[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Du(i,r,a){!function xh(i,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(d)&&(c=a[d]),null==c&&(c=a[d]=Tl++);const p=255&c;r.data[i+(p>>5)]|=1<<p}(i,r,a)}function wh(i,r,a){if(a&Xt.Optional||void 0!==i)return i;St()}function Th(i,r,a,c){if(a&Xt.Optional&&void 0===c&&(c=null),!(a&(Xt.Self|Xt.Host))){const p=i[9],x=ai(void 0);try{return p?p.get(r,c,a&Xt.Optional):Si(r,c,a&Xt.Optional)}finally{ai(x)}}return wh(c,0,a)}function Sl(i,r,a,c=Xt.Default,p){if(null!==i){if(1024&r[2]){const E=function Sh(i,r,a,c,p){let x=i,E=r;for(;null!==x&&null!==E&&1024&E[2]&&!(256&E[2]);){const F=Au(x,E,a,c|Xt.Self,Br);if(F!==Br)return F;let L=x.parent;if(!L){const j=E[21];if(j){const J=j.get(a,Br,c);if(J!==Br)return J}L=Ih(E),E=E[15]}x=L}return p}(i,r,a,c,Br);if(E!==Br)return E}const x=Au(i,r,a,c,Br);if(x!==Br)return x}return Th(r,a,c,p)}function Au(i,r,a,c,p){const x=function Xp(i){if("string"==typeof i)return i.charCodeAt(0)||0;const r=i.hasOwnProperty(d)?i[d]:void 0;return"number"==typeof r?r>=0?255&r:Gp:r}(a);if("function"==typeof x){if(!Wp(r,i,c))return c&Xt.Host?wh(p,0,c):Th(r,a,c,p);try{const E=x(c);if(null!=E||c&Xt.Optional)return E;St()}finally{by()}}else if("number"==typeof x){let E=null,F=bh(i,r),L=-1,j=c&Xt.Host?r[16][6]:null;for((-1===F||c&Xt.SkipSelf)&&(L=-1===F?Eu(i,r):r[F+8],-1!==L&&ba(c,!1)?(E=r[1],F=Ro(L),r=qs(L,r)):F=-1);-1!==F;){const J=r[1];if(Mh(x,F,J.data)){const pe=Ey(F,r,a,E,c,j);if(pe!==Br)return pe}L=r[F+8],-1!==L&&ba(c,r[1].data[F+8]===j)&&Mh(x,F,r)?(E=J,F=Ro(L),r=qs(L,r)):F=-1}}return p}function Ey(i,r,a,c,p,x){const E=r[1],F=E.data[i+8],J=Lo(F,E,a,null==c?Ln(F)&&wl:c!=E&&0!=(3&F.type),p&Xt.Host&&x===F);return null!==J?to(r,E,J,F):Br}function Lo(i,r,a,c,p){const x=i.providerIndexes,E=r.data,F=1048575&x,L=i.directiveStart,J=x>>20,Ae=p?F+J:i.directiveEnd;for(let ze=c?F:F+J;ze<Ae;ze++){const yt=E[ze];if(ze<L&&a===yt||ze>=L&&yt.type===a)return ze}if(p){const ze=E[L];if(ze&&on(ze)&&ze.type===a)return L}return null}function to(i,r,a,c){let p=i[a];const x=r.data;if(function wu(i){return i instanceof xl}(p)){const E=p;E.resolving&&function Tt(i,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${i}`:"";throw new qe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ct(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ke(i)}(x[a]));const F=Rs(E.canSeeViewProviders);E.resolving=!0;const L=E.injectImpl?ai(E.injectImpl):null;Wp(i,c,Xt.Default);try{p=i[a]=E.factory(void 0,x,i,c),r.firstCreatePass&&a>=c.directiveStart&&function _h(i,r,a){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:x}=r.type.prototype;if(c){const E=wt(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,E),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,E)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,p),x&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,x),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,x))}(a,x[a],r)}finally{null!==L&&ai(L),Rs(F),E.resolving=!1,by()}}return p}function Mh(i,r,a){return!!(a[r+(i>>5)]&1<<i)}function ba(i,r){return!(i&Xt.Self||i&Xt.Host&&r)}class no{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return Sl(this._tNode,this._lView,r,He(c),a)}}function Gp(){return new no(Ji(),vt())}function Pu(i){return le(()=>{const r=i.prototype.constructor,a=r[l]||No(r),c=Object.prototype;let p=Object.getPrototypeOf(i.prototype).constructor;for(;p&&p!==c;){const x=p[l]||No(p);if(x&&x!==a)return x;p=Object.getPrototypeOf(p)}return x=>new x})}function No(i){return Rt(i)?()=>{const r=No(De(i));return r&&r()}:fe(i)}function Ih(i){const r=i[1],a=r.type;return 2===a?r.declTNode:1===a?i[6]:null}function Eh(i){return function Ch(i,r){if("class"===r)return i.classes;if("style"===r)return i.styles;const a=i.attrs;if(a){const c=a.length;let p=0;for(;p<c;){const x=a[p];if(Fs(x))break;if(0===x)p+=2;else if("number"==typeof x)for(p++;p<c&&"string"==typeof a[p];)p++;else{if(x===r)return a[p+1];p+=2}}}return null}(Ji(),i)}const Ca="__parameters__";function Bo(i,r,a){return le(()=>{const c=function Fu(i){return function(...a){if(i){const c=i(...a);for(const p in c)this[p]=c[p]}}}(r);function p(...x){if(this instanceof p)return c.apply(this,x),this;const E=new p(...x);return F.annotation=E,F;function F(L,j,J){const pe=L.hasOwnProperty(Ca)?L[Ca]:Object.defineProperty(L,Ca,{value:[]})[Ca];for(;pe.length<=J;)pe.push(null);return(pe[J]=pe[J]||[]).push(E),L}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=i,p.annotationCls=p,p})}class gi{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Me({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function so(i,r){i.forEach(a=>Array.isArray(a)?so(a,r):r(a))}function Qp(i,r,a){r>=i.length?i.push(a):i.splice(r,0,a)}function Ru(i,r){return r>=i.length-1?i.pop():i.splice(r,1)[0]}function pr(i,r,a){let c=di(i,r);return c>=0?i[1|c]=a:(c=~c,function Ry(i,r,a,c){let p=i.length;if(p==r)i.push(a,c);else if(1===p)i.push(c,i[0]),i[0]=a;else{for(p--,i.push(i[p-1],i[p]);p>r;)i[p]=i[p-2],p--;i[r]=a,i[r+1]=c}}(i,c,r,a)),c}function Ph(i,r){const a=di(i,r);if(a>=0)return i[1|a]}function di(i,r){return function kh(i,r,a){let c=0,p=i.length>>a;for(;p!==c;){const x=c+(p-c>>1),E=i[x<<a];if(r===E)return x<<a;E>r?p=x:c=x+1}return~(p<<a)}(i,r,1)}const oo=Oe(Bo("Optional"),8),Ho=Oe(Bo("SkipSelf"),4);var Fr=(()=>((Fr=Fr||{})[Fr.Important=1]="Important",Fr[Fr.DashCase=2]="DashCase",Fr))();const rs=new Map;let Ll=0;const Qu="__ngContext__";function fr(i,r){dt(r)?(i[Qu]=r[20],function lf(i){rs.set(i[20],i)}(r)):i[Qu]=r}function Et(i,r){return undefined(i,r)}function un(i){const r=i[3];return pt(r)?r[3]:r}function Ur(i){return Ia(i[13])}function zr(i){return Ia(i[4])}function Ia(i){for(;null!==i&&!pt(i);)i=i[4];return i}function ss(i,r,a,c,p){if(null!=c){let x,E=!1;pt(c)?x=c:dt(c)&&(E=!0,c=c[0]);const F=Ni(c);0===i&&null!==a?null==p?gf(r,a,F):ka(r,a,F,p||null,!0):1===i&&null!==a?ka(r,a,F,p||null,!0):2===i?function yf(i,r,a){const c=mf(i,r);c&&function Wy(i,r,a,c){i.removeChild(r,a,c)}(i,c,r,a)}(r,F,E):3===i&&r.destroyNode(F),null!=x&&function $y(i,r,a,c,p){const x=a[7];x!==Ni(a)&&ss(r,i,c,x,p);for(let F=10;F<a.length;F++){const L=a[F];Ra(L[1],L,i,r,c,x)}}(r,i,x,a,p)}}function ao(i,r,a){return i.createElement(r,a)}function Aa(i,r){const a=i[9],c=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,ma(p,-1)),a.splice(c,1)}function Pa(i,r){if(i.length<=10)return;const a=10+r,c=i[a];if(c){const p=c[17];null!==p&&p!==i&&Aa(p,c),r>0&&(i[a-1][4]=c[4]);const x=Ru(i,10+r);!function hf(i,r){Ra(i,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const E=x[19];null!==E&&E.detachView(x[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function ec(i,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&Ra(i,r,a,3,null,null),function pf(i){let r=i[13];if(!r)return Ul(i[1],i);for(;r;){let a=null;if(dt(r))a=r[13];else{const c=r[10];c&&(a=c)}if(!a){for(;r&&!r[4]&&r!==i;)dt(r)&&Ul(r[1],r),r=r[3];null===r&&(r=i),dt(r)&&Ul(r[1],r),a=r&&r[4]}r=a}}(r)}}function Ul(i,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function ff(i,r){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const p=r[a[c]];if(!(p instanceof xl)){const x=a[c+1];if(Array.isArray(x))for(let E=0;E<x.length;E+=2){const F=p[x[E]],L=x[E+1];try{L.call(F)}finally{}}else try{x.call(p)}finally{}}}}(i,r),function I0(i,r){const a=i.cleanup,c=r[7];let p=-1;if(null!==a)for(let x=0;x<a.length-1;x+=2)if("string"==typeof a[x]){const E=a[x+3];E>=0?c[p=E]():c[p=-E].unsubscribe(),x+=2}else{const E=c[p=a[x+1]];a[x].call(E)}if(null!==c){for(let x=p+1;x<c.length;x++)(0,c[x])();r[7]=null}}(i,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&pt(r[3])){a!==r[3]&&Aa(a,r);const c=r[19];null!==c&&c.detachView(i)}!function Zu(i){rs.delete(i[20])}(r)}}function tc(i,r,a){return function Vy(i,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[0];{const{componentOffset:p}=c;if(p>-1){const{encapsulation:x}=i.data[c.directiveStart+p];if(x===ft.None||x===ft.Emulated)return null}return Di(c,a)}}(i,r.parent,a)}function ka(i,r,a,c,p){i.insertBefore(r,a,c,p)}function gf(i,r,a){i.appendChild(r,a)}function By(i,r,a,c,p){null!==c?ka(i,r,a,c,p):gf(i,r,a)}function mf(i,r){return i.parentNode(r)}let rc,sc,A0=function D0(i,r,a){return 40&i.type?Di(i,a):null};function ic(i,r,a,c){const p=tc(i,c,r),x=r[11],F=function Yh(i,r,a){return A0(i,r,a)}(c.parent||r[6],c,r);if(null!=p)if(Array.isArray(a))for(let L=0;L<a.length;L++)By(x,p,a[L],F,!1);else By(x,p,a,F,!1)}function zl(i,r){if(null!==r){const a=r.type;if(3&a)return Di(r,i);if(4&a)return Hy(-1,i[r.index]);if(8&a){const c=r.child;if(null!==c)return zl(i,c);{const p=i[r.index];return pt(p)?Hy(-1,p):Ni(p)}}if(32&a)return Et(r,i)()||Ni(i[r.index]);{const c=zy(i,r);return null!==c?Array.isArray(c)?c[0]:zl(un(i[16]),c):zl(i,r.next)}}return null}function zy(i,r){return null!==r?i[16][6].projection[r.projection]:null}function Hy(i,r){const a=10+i+1;if(a<r.length){const c=r[a],p=c[1].firstChild;if(null!==p)return zl(c,p)}return r[7]}function Fa(i,r,a,c,p,x,E){for(;null!=a;){const F=c[a.index],L=a.type;if(E&&0===r&&(F&&fr(Ni(F),c),a.flags|=2),32!=(32&a.flags))if(8&L)Fa(i,r,a.child,c,p,x,!1),ss(r,i,p,F,x);else if(32&L){const j=Et(a,c);let J;for(;J=j();)ss(r,i,p,J,x);ss(r,i,p,F,x)}else 16&L?vf(i,r,c,a,p,x):ss(r,i,p,F,x);a=E?a.projectionNext:a.next}}function Ra(i,r,a,c,p,x){Fa(a,c,i.firstChild,r,p,x,!1)}function vf(i,r,a,c,p,x){const E=a[16],L=E[6].projection[c.projection];if(Array.isArray(L))for(let j=0;j<L.length;j++)ss(r,i,p,L[j],x);else Fa(i,r,L,E[3],p,x,!0)}function _f(i,r,a){""===a?i.removeAttribute(r,"class"):i.setAttribute(r,"class",a)}function k0(i,r,a){const{mergedAttrs:c,classes:p,styles:x}=a;null!==c&&bl(i,r,c),null!==p&&_f(i,r,p),null!==x&&function P0(i,r,a){i.setAttribute(r,"style",a)}(i,r,x)}function R0(i){rc=i}function Ky(i){return function bf(){if(void 0===sc&&(sc=null,nn.trustedTypes))try{sc=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return sc}()?.createScriptURL(i)||i}class wf{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xt})`}}function Go(i){return i instanceof wf?i.changingThisBreaksApplicationSecurity:i}function Oa(i,r){const a=function V0(i){return i instanceof wf&&i.getTypeName()||null}(i);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${xt})`)}return a===r}const Mf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Zi=(()=>((Zi=Zi||{})[Zi.NONE=0]="NONE",Zi[Zi.HTML=1]="HTML",Zi[Zi.STYLE=2]="STYLE",Zi[Zi.SCRIPT=3]="SCRIPT",Zi[Zi.URL=4]="URL",Zi[Zi.RESOURCE_URL=5]="RESOURCE_URL",Zi))();function Q0(i){const r=Kh();return r?r.sanitize(Zi.URL,i)||"":Oa(i,"URL")?Go(i):function Sf(i){return(i=String(i)).match(Mf)?i:"unsafe:"+i}(Ke(i))}function J0(i){const r=Kh();if(r)return Ky(r.sanitize(Zi.RESOURCE_URL,i)||"");if(Oa(i,"ResourceURL"))return Ky(Go(i));throw new qe(904,!1)}function tb(i,r,a){return function UT(i,r){return"src"===r&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===r&&("base"===i||"link"===i)?J0:Q0}(r,a)(i)}function Kh(){const i=vt();return i&&i[12]}const av=new gi("ENVIRONMENT_INITIALIZER"),nb=new gi("INJECTOR",-1),lv=new gi("INJECTOR_DEF_TYPES");class ib{get(r,a=hi){if(a===hi){const c=new Error(`NullInjectorError: No provider for ${Je(r)}!`);throw c.name="NullInjectorError",c}return a}}function gr(i){return{\u0275providers:i}}function rb(...i){return{\u0275providers:yn(0,i),\u0275fromNgModule:!0}}function yn(i,...r){const a=[],c=new Set;let p;return so(r,x=>{const E=x;Jh(E,a,[],c)&&(p||(p=[]),p.push(E))}),void 0!==p&&Qh(p,a),a}function Qh(i,r){for(let a=0;a<i.length;a++){const{providers:p}=i[a];xi(p,x=>{r.push(x)})}}function Jh(i,r,a,c){if(!(i=De(i)))return!1;let p=null,x=qt(i);const E=!x&&z(i);if(x||E){if(E&&!E.standalone)return!1;p=i}else{const L=i.ngModule;if(x=qt(L),!x)return!1;p=L}const F=c.has(p);if(E){if(F)return!1;if(c.add(p),E.dependencies){const L="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const j of L)Jh(j,r,a,c)}}else{if(!x)return!1;{if(null!=x.imports&&!F){let j;c.add(p);try{so(x.imports,J=>{Jh(J,r,a,c)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&Qh(j,r)}if(!F){const j=fe(p)||(()=>new p);r.push({provide:p,useFactory:j,deps:Xe},{provide:lv,useValue:p,multi:!0},{provide:av,useValue:()=>B(p),multi:!0})}const L=x.providers;null==L||F||xi(L,J=>{r.push(J)})}}return p!==i&&void 0!==i.providers}function xi(i,r){for(let a of i)ht(a)&&(a=a.\u0275providers),Array.isArray(a)?xi(a,r):r(a)}const sb=Ye({provide:String,useValue:Ye});function $l(i){return null!==i&&"object"==typeof i&&sb in i}function Na(i){return"function"==typeof i}const Df=new gi("Set Injector scope."),qh={},Ai={};let cv;function ed(){return void 0===cv&&(cv=new ib),cv}class Gr{}class Zo extends Gr{get destroyed(){return this._destroyed}constructor(r,a,c,p){super(),this.parent=a,this.source=c,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kf(r,E=>this.processProvider(E)),this.records.set(nb,Va(void 0,this)),p.has("environment")&&this.records.set(Gr,Va(void 0,this));const x=this.records.get(Df);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(lv.multi,Xe,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=Qn(this),c=ai(void 0);try{return r()}finally{Qn(a),ai(c)}}get(r,a=hi,c=Xt.Default){this.assertNotDestroyed(),c=He(c);const p=Qn(this),x=ai(void 0);try{if(!(c&Xt.SkipSelf)){let F=this.records.get(r);if(void 0===F){const L=function ab(i){return"function"==typeof i||"object"==typeof i&&i instanceof gi}(r)&&at(r);F=L&&this.injectableDefInScope(L)?Va(Cs(r),qh):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(c&Xt.Self?ed():this.parent).get(r,a=c&Xt.Optional&&a===hi?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Yn]=E[Yn]||[]).unshift(Je(r)),p)throw E;return function oe(i,r,a,c){const p=i[Yn];throw r[ji]&&p.unshift(r[ji]),i.message=function me(i,r,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let p=Je(r);if(Array.isArray(r))p=r.map(Je).join(" -> ");else if("object"==typeof r){let x=[];for(let E in r)if(r.hasOwnProperty(E)){let F=r[E];x.push(E+":"+("string"==typeof F?JSON.stringify(F):Je(F)))}p=`{${x.join(", ")}}`}return`${a}${c?"("+c+")":""}[${p}]: ${i.replace(ii,"\n  ")}`}("\n"+i.message,p,a,c),i.ngTokenPath=p,i[Yn]=null,i}(E,r,"R3InjectorError",this.source)}throw E}finally{ai(x),Qn(p)}}resolveInjectorInitializers(){const r=Qn(this),a=ai(void 0);try{const c=this.get(av.multi,Xe,Xt.Self);for(const p of c)p()}finally{Qn(r),ai(a)}}toString(){const r=[],a=this.records;for(const c of a.keys())r.push(Je(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(r){let a=Na(r=De(r))?r:De(r&&r.provide);const c=function td(i){return $l(i)?Va(void 0,i.useValue):Va(Af(i),qh)}(r);if(Na(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=Va(void 0,qh,!0),p.factory=()=>tt(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,c)}hydrate(r,a){return a.value===qh&&(a.value=Ai,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hv(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=De(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Cs(i){const r=at(i),a=null!==r?r.factory:fe(i);if(null!==a)return a;if(i instanceof gi)throw new qe(204,!1);if(i instanceof Function)return function de(i){const r=i.length;if(r>0)throw function Uo(i,r){const a=[];for(let c=0;c<i;c++)a.push(r);return a}(r,"?"),new qe(204,!1);const a=function En(i){const r=i&&(i[Ft]||i[Gt]);if(r){const a=function ln(i){if(i.hasOwnProperty("name"))return i.name;const r=(""+i).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new qe(204,!1)}function Af(i,r,a){let c;if(Na(i)){const p=De(i);return fe(p)||Cs(p)}if($l(i))c=()=>De(i.useValue);else if(function uv(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...tt(i.deps||[]));else if(function La(i){return!(!i||!i.useExisting)}(i))c=()=>B(De(i.useExisting));else{const p=De(i&&(i.useClass||i.provide));if(!function Pf(i){return!!i.deps}(i))return fe(p)||Cs(p);c=()=>new p(...tt(i.deps))}return c}function Va(i,r,a=!1){return{factory:i,value:r,multi:a?[]:void 0}}function kf(i,r){for(const a of i)Array.isArray(a)?kf(a,r):a&&ht(a)?kf(a.\u0275providers,r):r(a)}class dv{}class Ko{}class pv{resolveComponentFactory(r){throw function Ff(i){const r=Error(`No component factory found for ${Je(i)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=i,r}(r)}}let co=(()=>{class i{}return i.NULL=new pv,i})();function Wa(){return Ua(Ji(),vt())}function Ua(i,r){return new Yl(Di(i,r))}let Yl=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Wa,i})();function or(i){return i instanceof Yl?i.nativeElement:i}class Xl{}let Rf=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ls(){const i=vt(),a=rr(Ji().index,i);return(dt(a)?a:i)[11]}(),i})(),Mr=(()=>{class i{}return i.\u0275prov=Me({token:i,providedIn:"root",factory:()=>null}),i})();class fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ac=new fv("15.1.3"),Of={};function po(i){return i.ngOriginalError}class lc{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&po(r);for(;a&&po(a);)a=po(a);return a||null}}function fo(i){return i instanceof Function?i():i}function vv(i,r,a){let c=i.length;for(;;){const p=i.indexOf(r,a);if(-1===p)return p;if(0===p||i.charCodeAt(p-1)<=32){const x=r.length;if(p+x===c||i.charCodeAt(p+x)<=32)return p}a=p+1}}const _v="ng-template";function hc(i,r,a){let c=0;for(;c<i.length;){let p=i[c++];if(a&&"class"===p){if(p=i[c],-1!==vv(p.toLowerCase(),r,0))return!0}else if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function dc(i){return 4===i.type&&i.value!==_v}function xv(i,r,a){return r===(4!==i.type||a?i.value:_v)}function bv(i,r,a){let c=4;const p=i.attrs||[],x=function Tv(i){for(let r=0;r<i.length;r++)if(Fs(i[r]))return r;return i.length}(p);let E=!1;for(let F=0;F<r.length;F++){const L=r[F];if("number"!=typeof L){if(!E)if(4&c){if(c=2|1&c,""!==L&&!xv(i,L,a)||""===L&&1===r.length){if(os(c))return!1;E=!0}}else{const j=8&c?L:r[++F];if(8&c&&null!==i.attrs){if(!hc(i.attrs,j,a)){if(os(c))return!1;E=!0}continue}const pe=Cv(8&c?"class":L,p,dc(i),a);if(-1===pe){if(os(c))return!1;E=!0;continue}if(""!==j){let Ae;Ae=pe>x?"":p[pe+1].toLowerCase();const ze=8&c?Ae:null;if(ze&&-1!==vv(ze,j,0)||2&c&&j!==Ae){if(os(c))return!1;E=!0}}}}else{if(!E&&!os(c)&&!os(L))return!1;if(E&&os(L))continue;E=!1,c=L|1&c}}return os(c)||E}function os(i){return 0==(1&i)}function Cv(i,r,a,c){if(null===r)return-1;let p=0;if(c||!a){let x=!1;for(;p<r.length;){const E=r[p];if(E===i)return p;if(3===E||6===E)x=!0;else{if(1===E||2===E){let F=r[++p];for(;"string"==typeof F;)F=r[++p];continue}if(4===E)break;if(0===E){p+=4;continue}}p+=x?1:2}return-1}return function Vf(i,r){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,i)}function Nf(i,r,a=!1){for(let c=0;c<r.length;c++)if(bv(i,r[c],a))return!0;return!1}function Bf(i,r){return i?":not("+r.trim()+")":r}function Wf(i){let r=i[0],a=1,c=2,p="",x=!1;for(;a<i.length;){let E=i[a];if("string"==typeof E)if(2&c){const F=i[++a];p+="["+E+(F.length>0?'="'+F+'"':"")+"]"}else 8&c?p+="."+E:4&c&&(p+=" "+E);else""!==p&&!os(E)&&(r+=Bf(x,p),p=""),c=E,x=x||!os(c);a++}return""!==p&&(r+=Bf(x,p)),r}const Hn={};function id(i){rd(ri(),vt(),wr()+i,!1)}function rd(i,r,a,c){if(!c)if(3==(3&r[2])){const x=i.preOrderCheckHooks;null!==x&&Cu(r,x,a)}else{const x=i.preOrderHooks;null!==x&&Js(r,x,0,a)}ys(a)}function zf(i,r=null,a=null,c){const p=Dv(i,r,a,c);return p.resolveInjectorInitializers(),p}function Dv(i,r=null,a=null,c,p=new Set){const x=[a||Xe,rb(i)];return c=c||("object"==typeof i?void 0:Je(i)),new Zo(x,r||ed(),c||null,p)}let za=(()=>{class i{static create(a,c){if(Array.isArray(a))return zf({name:""},c,a,"");{const p=a.name??"";return zf({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=hi,i.NULL=new ib,i.\u0275prov=Me({token:i,providedIn:"any",factory:()=>B(nb)}),i.__NG_ELEMENT_ID__=-1,i})();function ja(i,r=Xt.Default){const a=vt();return null===a?B(i,r):Sl(Ji(),a,De(i),r)}function fc(){throw new Error("invalid")}function Kf(i,r){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const x=a[c+1];if(-1!==x){const E=i.data[x];mh(a[c]),E.contentQueries(2,r[x],x)}}}function Gn(i,r,a,c,p,x,E,F,L,j,J){const pe=r.blueprint.slice();return pe[0]=p,pe[2]=76|c,(null!==J||i&&1024&i[2])&&(pe[2]|=1024),uh(pe),pe[3]=pe[15]=i,pe[8]=a,pe[10]=E||i&&i[10],pe[11]=F||i&&i[11],pe[12]=L||i&&i[12]||null,pe[9]=j||i&&i[9]||null,pe[6]=x,pe[20]=function Ly(){return Ll++}(),pe[21]=J,pe[16]=2==r.type?i[16]:pe,pe}function Zr(i,r,a,c,p){let x=i.data[r];if(null===x)x=function Ti(i,r,a,c,p){const x=Np(),E=yl(),L=i.data[r]=function kb(i,r,a,c,p,x){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?x:x&&x.parent,a,r,c,p);return null===i.firstChild&&(i.firstChild=L),null!==x&&(E?null==x.child&&null!==L.parent&&(x.child=L):null===x.next&&(x.next=L)),L}(i,r,a,c,p),function fh(){return Nn.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=a,x.value=c,x.attrs=p;const E=function Ao(){const i=Nn.lFrame,r=i.currentTNode;return i.isParent?r:r.parent}();x.injectorIndex=null===E?-1:E.injectorIndex}return ns(x,!0),x}function $a(i,r,a,c){if(0===a)return-1;const p=r.length;for(let x=0;x<a;x++)r.push(c),i.blueprint.push(c),i.data.push(null);return p}function Qf(i,r,a){yh(r);try{const c=i.viewQuery;null!==c&&vc(1,c,a);const p=i.template;null!==p&&Jf(i,r,p,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Kf(i,r),i.staticViewQueries&&vc(2,i.viewQuery,a);const x=i.components;null!==x&&function pi(i,r){for(let a=0;a<r.length;a++)Lb(i,r[a])}(r,x)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{r[2]&=-5,Hp()}}function Qo(i,r,a,c){const p=r[2];if(128!=(128&p)){yh(r);try{uh(r),function Po(i){return Nn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Jf(i,r,a,2,c);const E=3==(3&p);if(E){const j=i.preOrderCheckHooks;null!==j&&Cu(r,j,null)}else{const j=i.preOrderHooks;null!==j&&Js(r,j,0,null),ko(r,0)}if(function Uv(i){for(let r=Ur(i);null!==r;r=zr(r)){if(!r[2])continue;const a=r[9];for(let c=0;c<a.length;c++){const p=a[c];512&p[2]||ma(p[3],1),p[2]|=512}}}(r),function Ql(i){for(let r=Ur(i);null!==r;r=zr(r))for(let a=10;a<r.length;a++){const c=r[a],p=c[1];Ks(c)&&Qo(p,c,p.template,c[8])}}(r),null!==i.contentQueries&&Kf(i,r),E){const j=i.contentCheckHooks;null!==j&&Cu(r,j)}else{const j=i.contentHooks;null!==j&&Js(r,j,1),ko(r,1)}!function Ov(i,r){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const p=a[c];if(p<0)ys(~p);else{const x=p,E=a[++c],F=a[++c];gh(E,x),F(2,r[x])}}}finally{ys(-1)}}(i,r);const F=i.components;null!==F&&function bi(i,r){for(let a=0;a<r.length;a++)zv(i,r[a])}(r,F);const L=i.viewQuery;if(null!==L&&vc(2,L,c),E){const j=i.viewCheckHooks;null!==j&&Cu(r,j)}else{const j=i.viewHooks;null!==j&&Js(r,j,2),ko(r,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,ma(r[3],-1))}finally{Hp()}}}function Jf(i,r,a,c,p){const x=wr(),E=2&c;try{ys(-1),E&&r.length>22&&rd(i,r,22,!1),a(c,p)}finally{ys(x)}}function ki(i,r,a){if(Lt(r)){const p=r.directiveEnd;for(let x=r.directiveStart;x<p;x++){const E=i.data[x];E.contentQueries&&E.contentQueries(1,a[x],x)}}}function Zn(i,r,a){ch()&&(function ld(i,r,a,c){const p=a.directiveStart,x=a.directiveEnd;Ln(a)&&function rg(i,r,a){const c=Di(r,i),p=Lv(a),x=i[10],E=Mi(i,Gn(i,p,null,a.onPush?32:16,c,r,x,x.createRenderer(c,a),null,null,null));i[r.index]=E}(r,a,i.data[p+a.componentOffset]),i.firstCreatePass||eo(a,r),fr(c,r);const E=a.initialInputs;for(let F=p;F<x;F++){const L=i.data[F],j=to(r,i,F,a);fr(j,r),null!==E&&Bv(0,F-p,j,L,0,E),on(L)&&(rr(a.index,r)[8]=to(r,i,F,a))}}(i,r,a,Di(a,r)),64==(64&a.flags)&&yc(i,r,a))}function mr(i,r,a=Di){const c=r.localNames;if(null!==c){let p=r.index+1;for(let x=0;x<c.length;x+=2){const E=c[x+1],F=-1===E?a(r,i):i[E];i[p++]=F}}}function Lv(i){const r=i.tView;return null===r||r.incompleteFirstPass?i.tView=gc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):r}function gc(i,r,a,c,p,x,E,F,L,j){const J=22+c,pe=J+p,Ae=function as(i,r){const a=[];for(let c=0;c<r;c++)a.push(c<i?null:Hn);return a}(J,pe),ze="function"==typeof j?j():j;return Ae[1]={type:i,blueprint:Ae,template:a,queries:null,viewQuery:F,declTNode:r,data:Ae.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:L,consts:ze,incompleteFirstPass:!1}}function Nv(i,r,a,c){const p=Bs(r);null===a?p.push(c):(p.push(a),i.firstCreatePass&&Jl(i).push(c,p.length-1))}function qf(i,r,a,c){for(let p in i)if(i.hasOwnProperty(p)){a=null===a?{}:a;const x=i[p];null===c?Jo(a,r,p,x):c.hasOwnProperty(p)&&Jo(a,r,c[p],x)}return a}function Jo(i,r,a,c){i.hasOwnProperty(a)?i[a].push(r,c):i[a]=[r,c]}function Kr(i,r,a,c,p,x,E,F){const L=Di(r,a);let J,j=r.inputs;!F&&null!=j&&(J=j[c])?(Xa(i,a,J,c,p),Ln(r)&&tg(a,r.index)):3&r.type&&(c=function mc(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),p=null!=E?E(p,r.value||"",c):p,x.setProperty(L,c,p))}function tg(i,r){const a=rr(r,i);16&a[2]||(a[2]|=32)}function ng(i,r,a,c){let p=!1;if(ch()){const x=null===c?null:{"":-1},E=function Vs(i,r){const a=i.directiveRegistry;let c=null,p=null;if(a)for(let x=0;x<a.length;x++){const E=a[x];if(Nf(r,E.selectors,!1))if(c||(c=[]),on(E))if(null!==E.findHostDirectiveDefs){const F=[];p=p||new Map,E.findHostDirectiveDefs(E,F,p),c.unshift(...F,E),Kl(i,r,F.length)}else c.unshift(E),Kl(i,r,0);else p=p||new Map,E.findHostDirectiveDefs?.(E,c,p),c.push(E)}return null===c?null:[c,p]}(i,a);let F,L;null===E?F=L=null:[F,L]=E,null!==F&&(p=!0,ig(i,r,a,F,x,L)),x&&function ws(i,r,a){if(r){const c=i.localNames=[];for(let p=0;p<r.length;p+=2){const x=a[r[p+1]];if(null==x)throw new qe(-301,!1);c.push(r[p],x)}}}(a,c,x)}return a.mergedAttrs=_s(a.mergedAttrs,a.attrs),p}function ig(i,r,a,c,p,x){for(let j=0;j<c.length;j++)Du(eo(a,r),i,c[j].type);!function Hr(i,r,a){i.flags|=1,i.directiveStart=r,i.directiveEnd=r+a,i.providerIndexes=r}(a,i.data.length,c.length);for(let j=0;j<c.length;j++){const J=c[j];J.providersResolver&&J.providersResolver(J)}let E=!1,F=!1,L=$a(i,r,c.length,null);for(let j=0;j<c.length;j++){const J=c[j];a.mergedAttrs=_s(a.mergedAttrs,J.hostAttrs),Ob(i,a,r,L,J),Rb(L,J,p),null!==J.contentQueries&&(a.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(a.flags|=64);const pe=J.type.prototype;!E&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!F&&(pe.ngOnChanges||pe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),F=!0),L++}!function eg(i,r,a){const p=r.directiveEnd,x=i.data,E=r.attrs,F=[];let L=null,j=null;for(let J=r.directiveStart;J<p;J++){const pe=x[J],Ae=a?a.get(pe):null,yt=Ae?Ae.outputs:null;L=qf(pe.inputs,J,L,Ae?Ae.inputs:null),j=qf(pe.outputs,J,j,yt);const Bt=null===L||null===E||dc(r)?null:Wv(L,J,E);F.push(Bt)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=8),L.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=F,r.inputs=L,r.outputs=j}(i,a,x)}function yc(i,r,a){const c=a.directiveStart,p=a.directiveEnd,x=a.index,E=function vy(){return Nn.lFrame.currentDirectiveIndex}();try{ys(x);for(let F=c;F<p;F++){const L=i.data[F],j=r[F];Ps(F),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Vv(L,j)}}finally{ys(-1),Ps(E)}}function Vv(i,r){null!==i.hostBindings&&i.hostBindings(1,r)}function Kl(i,r,a){r.componentOffset=a,(i.components||(i.components=[])).push(r.index)}function Rb(i,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=i;on(r)&&(a[""]=i)}}function Ob(i,r,a,c,p){i.data[c]=p;const x=p.factory||(p.factory=fe(p.type)),E=new xl(x,on(p),ja);i.blueprint[c]=E,a[c]=E,function Ya(i,r,a,c,p){const x=p.hostBindings;if(x){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const F=~r.index;(function ni(i){let r=i.length;for(;r>0;){const a=i[--r];if("number"==typeof a&&a<0)return a}return 0})(E)!=F&&E.push(F),E.push(a,c,x)}}(i,r,c,$a(i,a,p.hostVars,Hn),p)}function ls(i,r,a,c,p,x){const E=Di(i,r);!function sg(i,r,a,c,p,x,E){if(null==x)i.removeAttribute(r,p,a);else{const F=null==E?Ke(x):E(x,c||"",p);i.setAttribute(r,p,F,a)}}(r[11],E,x,i.value,a,c,p)}function Bv(i,r,a,c,p,x){const E=x[r];if(null!==E){const F=c.setInput;for(let L=0;L<E.length;){const j=E[L++],J=E[L++],pe=E[L++];null!==F?c.setInput(a,pe,j,J):a[J]=pe}}}function Wv(i,r,a){let c=null,p=0;for(;p<a.length;){const x=a[p];if(0!==x)if(5!==x){if("number"==typeof x)break;if(i.hasOwnProperty(x)){null===c&&(c=[]);const E=i[x];for(let F=0;F<E.length;F+=2)if(E[F]===r){c.push(x,E[F+1],a[p+1]);break}}p+=2}else p+=2;else p+=4}return c}function og(i,r,a,c){return[i,!0,!1,r,null,0,c,a,null,null]}function zv(i,r){const a=rr(r,i);if(Ks(a)){const c=a[1];48&a[2]?Qo(c,a,c.template,a[8]):a[5]>0&&ag(a)}}function ag(i){for(let c=Ur(i);null!==c;c=zr(c))for(let p=10;p<c.length;p++){const x=c[p];if(Ks(x))if(512&x[2]){const E=x[1];Qo(E,x,E.template,x[8])}else x[5]>0&&ag(x)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const p=rr(a[c],i);Ks(p)&&p[5]>0&&ag(p)}}function Lb(i,r){const a=rr(r,i),c=a[1];(function Nb(i,r){for(let a=r.length;a<i.blueprint.length;a++)r.push(i.blueprint[a])})(c,a),Qf(c,a,a[8])}function Mi(i,r){return i[13]?i[14][4]=r:i[13]=r,i[14]=r,r}function lg(i){for(;i;){i[2]|=32;const r=un(i);if(Ri(i)&&!r)return i;i=r}return null}function ud(i,r,a,c=!0){const p=r[10];p.begin&&p.begin();try{Qo(i,r,i.template,a)}catch(E){throw c&&Hv(r,E),E}finally{p.end&&p.end()}}function vc(i,r,a){mh(0),r(i,a)}function Bs(i){return i[7]||(i[7]=[])}function Jl(i){return i.cleanup||(i.cleanup=[])}function Hv(i,r){const a=i[9],c=a?a.get(lc,null):null;c&&c.handleError(r)}function Xa(i,r,a,c,p){for(let x=0;x<a.length;){const E=a[x++],F=a[x++],L=r[E],j=i.data[E];null!==j.setInput?j.setInput(L,p,c,F):L[F]=p}}function Fi(i,r,a){let c=a?i.styles:null,p=a?i.classes:null,x=0;if(null!==r)for(let E=0;E<r.length;E++){const F=r[E];"number"==typeof F?x=F:1==x?p=Fe(p,F):2==x&&(c=Fe(c,F+": "+r[++E]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=p:i.classesWithoutHost=p}function ql(i,r,a,c,p=!1){for(;null!==a;){const x=r[a.index];if(null!==x&&c.push(Ni(x)),pt(x))for(let F=10;F<x.length;F++){const L=x[F],j=L[1].firstChild;null!==j&&ql(L[1],L,j,c)}const E=a.type;if(8&E)ql(i,r,a.child,c);else if(32&E){const F=Et(a,r);let L;for(;L=F();)c.push(L)}else if(16&E){const F=zy(r,a);if(Array.isArray(F))c.push(...F);else{const L=un(r[16]);ql(L[1],L,F,c,!0)}}a=p?a.projectionNext:a.next}return c}class xc{get rootNodes(){const r=this._lView,a=r[1];return ql(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(pt(r)){const a=r[8],c=a?a.indexOf(this):-1;c>-1&&(Pa(r,c),Ru(a,c))}this._attachedToViewContainer=!1}ec(this._lView[1],this._lView)}onDestroy(r){Nv(this._lView[1],this._lView,null,r)}markForCheck(){lg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ud(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qu(i,r){Ra(i,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=r}}class cg extends xc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ud(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class hg extends co{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=z(r);return new wc(a,this.ngModule)}}function Ga(i){const r=[];for(let a in i)i.hasOwnProperty(a)&&r.push({propName:i[a],templateName:a});return r}class Cc{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,c){c=He(c);const p=this.injector.get(r,Of,c);return p!==Of||a===Of?p:this.parentInjector.get(r,a,c)}}class wc extends Ko{get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function fb(i){return i.map(Wf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,c,p){let x=(p=p||this.ngModule)instanceof Gr?p:p?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const E=x?new Cc(r,x):r,F=E.get(Xl,null);if(null===F)throw new qe(407,!1);const L=E.get(Mr,null),j=F.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",pe=c?function Pb(i,r,a){return i.selectRootElement(r,a===ft.ShadowDom)}(j,c,this.componentDef.encapsulation):ao(j,J,function bc(i){const r=i.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(J)),Ae=this.componentDef.onPush?288:272,ze=gc(0,null,null,1,0,null,null,null,null,null),yt=Gn(null,ze,null,Ae,null,null,F,j,L,E,null);let Bt,en;yh(yt);try{const hn=this.componentDef;let In,Pt=null;hn.findHostDirectiveDefs?(In=[],Pt=new Map,hn.findHostDirectiveDefs(hn,In,Pt),In.push(hn)):In=[hn];const Wn=function Vb(i,r){const a=i[1];return i[22]=r,Zr(a,22,2,"#host",null)}(yt,pe),Wi=function hd(i,r,a,c,p,x,E,F){const L=p[1];!function Bb(i,r,a,c){for(const p of i)r.mergedAttrs=_s(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(Fi(r,r.mergedAttrs,!0),null!==a&&k0(c,a,r))}(c,i,r,E);const j=x.createRenderer(r,a),J=Gn(p,Lv(a),null,a.onPush?32:16,p[i.index],i,x,j,F||null,null,null);return L.firstCreatePass&&Kl(L,i,c.length-1),Mi(p,J),p[i.index]=J}(Wn,pe,hn,In,yt,F,j);en=lh(ze,22),pe&&function Ub(i,r,a,c){if(c)bl(i,a,["ng-version",ac.full]);else{const{attrs:p,classes:x}=function Sv(i){const r=[],a=[];let c=1,p=2;for(;c<i.length;){let x=i[c];if("string"==typeof x)2===p?""!==x&&r.push(x,i[++c]):8===p&&a.push(x);else{if(!os(p))break;p=x}c++}return{attrs:r,classes:a}}(r.selectors[0]);p&&bl(i,a,p),x&&x.length>0&&_f(i,a,x.join(" "))}}(j,hn,pe,c),void 0!==a&&function pg(i,r,a){const c=i.projection=[];for(let p=0;p<r.length;p++){const x=a[p];c.push(null!=x?Array.from(x):null)}}(en,this.ngContentSelectors,a),Bt=function Wb(i,r,a,c,p,x){const E=Ji(),F=p[1],L=Di(E,p);ig(F,p,E,a,null,c);for(let J=0;J<a.length;J++)fr(to(p,F,E.directiveStart+J,E),p);yc(F,p,E),L&&fr(L,p);const j=to(p,F,E.directiveStart+E.componentOffset,E);if(i[8]=p[8]=j,null!==x)for(const J of x)J(j,r);return ki(F,E,i),j}(Wi,hn,In,Pt,yt,[zb]),Qf(ze,yt,null)}finally{Hp()}return new dg(this.componentType,Bt,Ua(en,yt),yt,en)}}class dg extends dv{constructor(r,a,c,p,x){super(),this.location=c,this._rootLView=p,this._tNode=x,this.instance=a,this.hostView=this.changeDetectorRef=new cg(p),this.componentType=r}setInput(r,a){const c=this._tNode.inputs;let p;if(null!==c&&(p=c[r])){const x=this._rootLView;Xa(x[1],x,p,r,a),tg(x,this._tNode.index)}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function zb(){const i=Ji();va(vt()[1],i)}function fg(i){let r=function dd(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;r;){let p;if(on(i))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new qe(903,!1);p=r.\u0275dir}if(p){if(a){c.push(p);const E=i;E.inputs=fd(i.inputs),E.declaredInputs=fd(i.declaredInputs),E.outputs=fd(i.outputs);const F=p.hostBindings;F&&Hb(i,F);const L=p.viewQuery,j=p.contentQueries;if(L&&jv(i,L),j&&gd(i,j),nt(i.inputs,p.inputs),nt(i.declaredInputs,p.declaredInputs),nt(i.outputs,p.outputs),on(p)&&p.data.animation){const J=i.data;J.animation=(J.animation||[]).concat(p.data.animation)}}const x=p.features;if(x)for(let E=0;E<x.length;E++){const F=x[E];F&&F.ngInherit&&F(i),F===fg&&(a=!1)}}r=Object.getPrototypeOf(r)}!function pd(i){let r=0,a=null;for(let c=i.length-1;c>=0;c--){const p=i[c];p.hostVars=r+=p.hostVars,p.hostAttrs=_s(p.hostAttrs,a=_s(a,p.hostAttrs))}}(c)}function fd(i){return i===jt?{}:i===Xe?[]:i}function jv(i,r){const a=i.viewQuery;i.viewQuery=a?(c,p)=>{r(c,p),a(c,p)}:r}function gd(i,r){const a=i.contentQueries;i.contentQueries=a?(c,p,x)=>{r(c,p,x),a(c,p,x)}:r}function Hb(i,r){const a=i.hostBindings;i.hostBindings=a?(c,p)=>{r(c,p),a(c,p)}:r}let yd=null;function lr(){if(!yd){const i=nn.Symbol;if(i&&i.iterator)yd=i.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const c=r[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(yd=c)}}}return yd}function tu(i){return!!Za(i)&&(Array.isArray(i)||!(i instanceof Map)&&lr()in i)}function Za(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Sr(i,r,a){return!Object.is(i[r],a)&&(i[r]=a,!0)}function vg(i,r,a,c){const p=vt();return Sr(p,Qs(),r)&&(ri(),ls(_i(),p,i,r,a,c)),vg}function Ws(i,r,a,c){return Sr(i,Qs(),a)?r+Ke(a)+c:Hn}function Qv(i,r,a,c,p,x,E,F){const L=vt(),j=ri(),J=i+22,pe=j.firstCreatePass?function Cd(i,r,a,c,p,x,E,F,L){const j=r.consts,J=Zr(r,i,4,E||null,ms(j,F));ng(r,a,J,ms(j,L)),va(r,J);const pe=J.tViews=gc(2,J,c,p,x,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,J),pe.queries=r.queries.embeddedTView(J)),J}(J,j,L,r,a,c,p,x,E):j.data[J];ns(pe,!1);const Ae=L[11].createComment("");ic(j,L,Ae,pe),fr(Ae,L),Mi(L,L[J]=og(Ae,L,Ae,pe)),Nt(pe)&&Zn(j,L,pe),null!=E&&mr(L,pe,F)}function bg(i,r,a){const c=vt();return Sr(c,Qs(),r)&&Kr(ri(),_i(),c,i,r,c[11],a,!1),bg}function Cg(i,r,a,c,p){const E=p?"class":"style";Xa(i,a,r.inputs[E],E,c)}function wd(i,r,a,c){const p=vt(),x=ri(),E=22+i,F=p[11],L=p[E]=ao(F,r,function Sy(){return Nn.lFrame.currentNamespace}()),j=x.firstCreatePass?function Yb(i,r,a,c,p,x,E){const F=r.consts,j=Zr(r,i,2,p,ms(F,x));return ng(r,a,j,ms(F,E)),null!==j.attrs&&Fi(j,j.attrs,!1),null!==j.mergedAttrs&&Fi(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(E,x,p,0,r,a,c):x.data[E];return ns(j,!0),k0(F,L,j),32!=(32&j.flags)&&ic(x,p,L,j),0===function xu(){return Nn.lFrame.elementDepthCount}()&&fr(L,p),function Fp(){Nn.lFrame.elementDepthCount++}(),Nt(j)&&(Zn(x,p,j),ki(x,j,p)),null!==c&&mr(p,j),wd}function Tc(){let i=Ji();yl()?function dh(){Nn.lFrame.isParent=!1}():(i=i.parent,ns(i,!1));const r=i;!function bu(){Nn.lFrame.elementDepthCount--}();const a=ri();return a.firstCreatePass&&(va(a,i),Lt(i)&&a.queries.elementEnd(i)),null!=r.classesWithoutHost&&function $p(i){return 0!=(8&i.flags)}(r)&&Cg(a,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ks(i){return 0!=(16&i.flags)}(r)&&Cg(a,r,vt(),r.stylesWithoutHost,!1),Tc}function Td(i,r,a,c){return wd(i,r,a,c),Tc(),Td}function qv(){return vt()}function Mg(i){return!!i&&"function"==typeof i.then}function Mc(i){return!!i&&"function"==typeof i.subscribe}const Md=Mc;function Sd(i,r,a,c){const p=vt(),x=ri(),E=Ji();return function Id(i,r,a,c,p,x,E){const F=Nt(c),j=i.firstCreatePass&&Jl(i),J=r[8],pe=Bs(r);let Ae=!0;if(3&c.type||E){const Bt=Di(c,r),en=E?E(Bt):Bt,hn=pe.length,In=E?Wn=>E(Ni(Wn[c.index])):c.index;let Pt=null;if(!E&&F&&(Pt=function Gb(i,r,a,c){const p=i.cleanup;if(null!=p)for(let x=0;x<p.length-1;x+=2){const E=p[x];if(E===a&&p[x+1]===c){const F=r[7],L=p[x+2];return F.length>L?F[L]:null}"string"==typeof E&&(x+=2)}return null}(i,r,p,c.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=x,Pt.__ngLastListenerFn__=x,Ae=!1;else{x=Ig(c,r,J,x,!1);const Wn=a.listen(en,p,x);pe.push(x,Wn),j&&j.push(p,In,hn,hn+1)}}else x=Ig(c,r,J,x,!1);const ze=c.outputs;let yt;if(Ae&&null!==ze&&(yt=ze[p])){const Bt=yt.length;if(Bt)for(let en=0;en<Bt;en+=2){const Wi=r[yt[en]][yt[en+1]].subscribe(x),Xi=pe.length;pe.push(x,Wi),j&&j.push(p,c.index,Xi,-(Xi+1))}}}(x,p,p[11],E,i,r,c),Sd}function Sg(i,r,a,c){try{return!1!==a(c)}catch(p){return Hv(i,p),!1}}function Ig(i,r,a,c,p){return function x(E){if(E===Function)return c;lg(i.componentOffset>-1?rr(i.index,r):r);let L=Sg(r,0,c,E),j=x.__ngNextListenerFn__;for(;j;)L=Sg(r,0,j,E)&&L,j=j.__ngNextListenerFn__;return p&&!1===L&&(E.preventDefault(),E.returnValue=!1),L}}function e_(i=1){return function Cy(i){return(Nn.lFrame.contextLView=function T0(i,r){for(;i>0;)r=r[15],i--;return r}(i,Nn.lFrame.contextLView))[8]}(i)}function Dg(i,r,a){return Ag(i,"",r,"",a),Dg}function Ag(i,r,a,c,p){const x=vt(),E=Ws(x,r,a,c);return E!==Hn&&Kr(ri(),_i(),x,i,E,x[11],p,!1),Ag}function ru(i,r){return i<<17|r<<2}function na(i){return i>>17&32767}function Rg(i){return 2|i}function el(i){return(131068&i)>>2}function Og(i,r){return-131069&i|r<<2}function Dd(i){return 1|i}function Lg(i,r,a,c,p){const x=i[a+1],E=null===r;let F=c?na(x):el(x),L=!1;for(;0!==F&&(!1===L||E);){const J=i[F+1];Ad(i[F],r)&&(L=!0,i[F+1]=c?Dd(J):Rg(J)),F=c?na(J):el(J)}L&&(i[a+1]=c?Rg(x):Dd(x))}function Ad(i,r){return null===i||null==r||(Array.isArray(i)?i[1]:i)===r||!(!Array.isArray(i)||"string"!=typeof r)&&di(i,r)>=0}function Bg(i,r){return function ur(i,r,a,c){const p=vt(),x=ri(),E=function As(i){const r=Nn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+i,a}(2);x.firstUpdatePass&&function f_(i,r,a,c){const p=i.data;if(null===p[a+1]){const x=p[wr()],E=function p_(i,r){return r>=i.expandoStartIndex}(i,a);(function Rd(i,r){return 0!=(i.flags&(r?8:16))})(x,c)&&null===r&&!E&&(r=!1),r=function iC(i,r,a,c){const p=function ya(i){const r=Nn.lFrame.currentDirectiveIndex;return-1===r?null:i[r]}(i);let x=c?r.residualClasses:r.residualStyles;if(null===p)0===(c?r.classBindings:r.styleBindings)&&(a=sa(a=Dc(null,i,r,a,c),r.attrs,c),x=null);else{const E=r.directiveStylingLast;if(-1===E||i[E]!==p)if(a=Dc(p,i,r,a,c),null===x){let L=function kd(i,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==el(c))return i[na(c)]}(i,r,c);void 0!==L&&Array.isArray(L)&&(L=Dc(null,i,r,L[1],c),L=sa(L,r.attrs,c),function g_(i,r,a,c){i[na(a?r.classBindings:r.styleBindings)]=c}(i,r,c,L))}else x=function rC(i,r,a){let c;const p=r.directiveEnd;for(let x=1+r.directiveStylingLast;x<p;x++)c=sa(c,i[x].hostAttrs,a);return sa(c,r.attrs,a)}(i,r,c)}return void 0!==x&&(c?r.residualClasses=x:r.residualStyles=x),a}(p,x,r,c),function s_(i,r,a,c,p,x){let E=x?r.classBindings:r.styleBindings,F=na(E),L=el(E);i[c]=a;let J,j=!1;if(Array.isArray(a)?(J=a[1],(null===J||di(a,J)>0)&&(j=!0)):J=a,p)if(0!==L){const Ae=na(i[F+1]);i[c+1]=ru(Ae,F),0!==Ae&&(i[Ae+1]=Og(i[Ae+1],c)),i[F+1]=function Qb(i,r){return 131071&i|r<<17}(i[F+1],c)}else i[c+1]=ru(F,0),0!==F&&(i[F+1]=Og(i[F+1],c)),F=c;else i[c+1]=ru(L,0),0===F?F=c:i[L+1]=Og(i[L+1],c),L=c;j&&(i[c+1]=Rg(i[c+1])),Lg(i,J,c,!0),Lg(i,J,c,!1),function eC(i,r,a,c,p){const x=p?i.residualClasses:i.residualStyles;null!=x&&"string"==typeof r&&di(x,r)>=0&&(a[c+1]=Dd(a[c+1]))}(r,J,i,c,x),E=ru(F,L),x?r.classBindings=E:r.styleBindings=E}(p,x,r,a,E,c)}}(x,i,E,c),r!==Hn&&Sr(p,E,r)&&function Ug(i,r,a,c,p,x,E,F){if(!(3&r.type))return;const L=i.data,j=L[F+1],J=function Jb(i){return 1==(1&i)}(j)?zg(L,r,a,p,el(j),E):void 0;oa(J)||(oa(x)||function Kb(i){return 2==(2&i)}(j)&&(x=zg(L,null,a,p,F,E)),function RT(i,r,a,c,p){if(r)p?i.addClass(a,c):i.removeClass(a,c);else{let x=-1===c.indexOf("-")?void 0:Fr.DashCase;null==p?i.removeStyle(a,c,x):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),x|=Fr.Important),i.setStyle(a,c,p,x))}}(c,E,Qi(wr(),a),p,x))}(x,x.data[wr()],p,p[11],i,p[E+1]=function Fd(i,r){return null==i||("string"==typeof r?i+=r:"object"==typeof i&&(i=Je(Go(i)))),i}(r,a),c,E)}(i,r,null,!0),Bg}function Dc(i,r,a,c,p){let x=null;const E=a.directiveEnd;let F=a.directiveStylingLast;for(-1===F?F=a.directiveStart:F++;F<E&&(x=r[F],c=sa(c,x.hostAttrs,p),x!==i);)F++;return null!==i&&(a.directiveStylingLast=F),c}function sa(i,r,a){const c=a?1:2;let p=-1;if(null!==r)for(let x=0;x<r.length;x++){const E=r[x];"number"==typeof E?p=E:p===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),pr(i,E,!!a||r[++x]))}return void 0===i?null:i}function zg(i,r,a,c,p,x){const E=null===r;let F;for(;p>0;){const L=i[p],j=Array.isArray(L),J=j?L[1]:L,pe=null===J;let Ae=a[p+1];Ae===Hn&&(Ae=pe?Xe:void 0);let ze=pe?Ph(Ae,c):J===c?Ae:void 0;if(j&&!oa(ze)&&(ze=Ph(L,c)),oa(ze)&&(F=ze,E))return F;const yt=i[p+1];p=E?na(yt):el(yt)}if(null!==r){let L=x?r.residualClasses:r.residualStyles;null!=L&&(F=Ph(L,c))}return F}function oa(i){return void 0!==i}function Od(i,r=""){const a=vt(),c=ri(),p=i+22,x=c.firstCreatePass?Zr(c,p,1,r,null):c.data[p],E=a[p]=function Xo(i,r){return i.createText(r)}(a[11],r);ic(c,a,E,x),ns(x,!1)}function Ac(i){return Ld("",i,""),Ac}function Ld(i,r,a){const c=vt(),p=Ws(c,i,r,a);return p!==Hn&&function mo(i,r,a){const c=Qi(r,i);!function Wl(i,r,a){i.setValue(r,a)}(i[11],c,a)}(c,wr(),p),Ld}const Ms=void 0;var dC=["en",[["a","p"],["AM","PM"],Ms],[["AM","PM"],Ms,Ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ms,"{1} 'at' {0}",Ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fc(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let yr={};function Qg(i){const r=function I_(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=jr(r);if(a)return a;const c=r.split("-")[0];if(a=jr(c),a)return a;if("en"===c)return dC;throw new qe(701,!1)}function qg(i){return Qg(i)[Sn.PluralCase]}function jr(i){return i in yr||(yr[i]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[i]),yr[i]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const lu="en-US";let Hd=lu;function am(i,r,a,c,p){if(i=De(i),Array.isArray(i))for(let x=0;x<i.length;x++)am(i[x],r,a,c,p);else{const x=ri(),E=vt();let F=Na(i)?i:De(i.provide),L=Af(i);const j=Ji(),J=1048575&j.providerIndexes,pe=j.directiveStart,Ae=j.providerIndexes>>20;if(Na(i)||!i.multi){const ze=new xl(L,p,ja),yt=Qr(F,r,p?J:J+Ae,pe);-1===yt?(Du(eo(j,E),x,F),lm(x,i,r.length),r.push(F),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),a.push(ze),E.push(ze)):(a[yt]=ze,E[yt]=ze)}else{const ze=Qr(F,r,J+Ae,pe),yt=Qr(F,r,J,J+Ae),en=yt>=0&&a[yt];if(p&&!en||!p&&!(ze>=0&&a[ze])){Du(eo(j,E),x,F);const hn=function $C(i,r,a,c,p){const x=new xl(i,a,ja);return x.multi=[],x.index=r,x.componentProviders=0,K_(x,p,c&&!a),x}(p?um:jC,a.length,p,c,L);!p&&en&&(a[yt].providerFactory=hn),lm(x,i,r.length,0),r.push(F),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),a.push(hn),E.push(hn)}else lm(x,i,ze>-1?ze:yt,K_(a[p?yt:ze],L,!p&&c));!p&&c&&en&&a[yt].componentProviders++}}}function lm(i,r,a,c){const p=Na(r),x=function ob(i){return!!i.useClass}(r);if(p||x){const L=(x?De(r.useClass):r).prototype.ngOnDestroy;if(L){const j=i.destroyHooks||(i.destroyHooks=[]);if(!p&&r.multi){const J=j.indexOf(a);-1===J?j.push(a,[c,L]):j[J+1].push(c,L)}else j.push(a,L)}}}function K_(i,r,a){return a&&i.componentProviders++,i.multi.push(r)-1}function Qr(i,r,a,c){for(let p=a;p<c;p++)if(r[p]===i)return p;return-1}function jC(i,r,a,c){return Kd(this.multi,[])}function um(i,r,a,c){const p=this.multi;let x;if(this.providerFactory){const E=this.providerFactory.componentProviders,F=to(a,a[1],this.providerFactory.index,c);x=F.slice(0,E),Kd(p,x);for(let L=E;L<F.length;L++)x.push(F[L])}else x=[],Kd(p,x);return x}function Kd(i,r){for(let a=0;a<i.length;a++)r.push((0,i[a])());return r}function cm(i,r=[]){return a=>{a.providersResolver=(c,p)=>function HC(i,r,a){const c=ri();if(c.firstCreatePass){const p=on(i);am(a,c.data,c.blueprint,p,!0),am(r,c.data,c.blueprint,p,!1)}}(c,p?p(i):i,r)}}class cu{}class Q_{}function YC(i,r){return new hm(i,r??null)}class hm extends cu{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hg(this);const c=Z(r);this._bootstrapComponents=fo(c.bootstrap),this._r3Injector=Dv(r,a,[{provide:cu,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],Je(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class dm extends Q_{constructor(r){super(),this.moduleType=r}create(r){return new hm(this.moduleType,r)}}class XC extends cu{constructor(r,a,c){super(),this.componentFactoryResolver=new hg(this),this.instance=null;const p=new Zo([...r,{provide:cu,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],a||ed(),c,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function pm(i,r,a=null){return new XC(i,r,a).injector}let J_=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=yn(0,a.type),p=c.length>0?pm([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Me({token:i,providedIn:"environment",factory:()=>new i(B(Gr))}),i})();function q_(i){i.getStandaloneInjector=r=>r.get(J_).getOrCreateStandaloneInjector(i)}function ox(i,r,a){const c=function dr(){const i=Nn.lFrame;let r=i.bindingRootIndex;return-1===r&&(r=i.bindingRootIndex=i.tView.bindingStartIndex),r}()+i,p=vt();return p[c]===Hn?function Or(i,r,a){return i[r]=a}(p,c,a?r.call(a):r()):function us(i,r){return i[r]}(p,c)}function $s(i){return r=>{setTimeout(i,void 0,r)}}const Nr=class Is extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){let p=r,x=a||(()=>null),E=c;if(r&&"object"==typeof r){const L=r;p=L.next?.bind(L),x=L.error?.bind(L),E=L.complete?.bind(L)}this.__isAsync&&(x=$s(x),p&&(p=$s(p)),E&&(E=$s(E)));const F=super.subscribe({next:p,error:x,complete:E});return r instanceof he.w0&&r.add(F),F}};function gm(){return this._results[lr()]()}class hx{get changes(){return this._changes||(this._changes=new Nr)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=lr(),c=hx.prototype;c[a]||(c[a]=gm)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const p=function Tr(i){return i.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ky(i,r,a){if(i.length!==r.length)return!1;for(let c=0;c<i.length;c++){let p=i[c],x=r[c];if(a&&(p=a(p),x=a(x)),x!==p)return!1}return!0}(c._results,p,a))&&(c._results=p,c.length=p.length,c.last=p[this.length-1],c.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xc=(()=>{class i{}return i.__NG_ELEMENT_ID__=aw,i})();const mm=Xc,ow=class extends mm{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(r,a){const c=this._declarationTContainer.tViews,p=Gn(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,a||null);p[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(p[19]=E.createEmbeddedView(c)),Qf(c,p,r),new xc(p)}};function aw(){return ep(Ji(),vt())}function ep(i,r){return 4&i.type?new ow(r,i,Ua(i,r)):null}let tp=(()=>{class i{}return i.__NG_ELEMENT_ID__=lw,i})();function lw(){return hw(Ji(),vt())}const eM=tp,uw=class extends eM{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const r=Eu(this._hostTNode,this._hostLView);if(Su(r)){const a=qs(r,this._hostLView),c=Ro(r);return new no(a[1].data[c+8],a)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=cw(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,c){let p,x;"number"==typeof c?p=c:null!=c&&(p=c.index,x=c.injector);const E=r.createEmbeddedView(a||{},x);return this.insert(E,p),E}createComponent(r,a,c,p,x){const E=r&&!function Dl(i){return"function"==typeof i}(r);let F;if(E)F=a;else{const pe=a||{};F=pe.index,c=pe.injector,p=pe.projectableNodes,x=pe.environmentInjector||pe.ngModuleRef}const L=E?r:new wc(z(r)),j=c||this.parentInjector;if(!x&&null==L.ngModule){const Ae=(E?j:this.parentInjector).get(Gr,null);Ae&&(x=Ae)}const J=L.create(j,p,void 0,x);return this.insert(J.hostView,F),J}insert(r,a){const c=r._lView,p=c[1];if(function kp(i){return pt(i[3])}(c)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const pe=c[3],Ae=new uw(pe,pe[6],pe[3]);Ae.detach(Ae.indexOf(r))}}const x=this._adjustIndex(a),E=this._lContainer;!function Ea(i,r,a,c){const p=10+c,x=a.length;c>0&&(a[p-1][4]=r),c<x-10?(r[4]=a[p],Qp(a,10+c,r)):(a.push(r),r[4]=null),r[3]=a;const E=r[17];null!==E&&a!==E&&function Da(i,r){const a=i[9];r[16]!==r[3][3][16]&&(i[2]=!0),null===a?i[9]=[r]:a.push(r)}(E,r);const F=r[19];null!==F&&F.insertView(i),r[2]|=64}(p,c,E,x);const F=Hy(x,E),L=c[11],j=mf(L,E[7]);return null!==j&&function df(i,r,a,c,p,x){c[0]=p,c[6]=r,Ra(i,c,a,1,p,x)}(p,E[6],L,c,j,F),r.attachToViewContainerRef(),Qp(ym(E),x,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=cw(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=Pa(this._lContainer,a);c&&(Ru(ym(this._lContainer),a),ec(c[1],c))}detach(r){const a=this._adjustIndex(r,-1),c=Pa(this._lContainer,a);return c&&null!=Ru(ym(this._lContainer),a)?new xc(c):null}_adjustIndex(r,a=0){return r??this.length+a}};function cw(i){return i[8]}function ym(i){return i[8]||(i[8]=[])}function hw(i,r){let a;const c=r[i.index];if(pt(c))a=c;else{let p;if(8&i.type)p=Ni(c);else{const x=r[11];p=x.createComment("");const E=Di(i,r);ka(x,mf(x,E),p,function E0(i,r){return i.nextSibling(r)}(x,E),!1)}r[i.index]=a=og(c,r,p,i),Mi(r,a)}return new uw(a,i,r)}class dx{constructor(r){this.queryList=r,this.matches=null}clone(){return new dx(this.queryList)}setDirty(){this.queryList.setDirty()}}class px{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let x=0;x<c;x++){const E=a.getByIndex(x);p.push(this.queries[E.indexInDeclarationView].clone())}return new px(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==bm(r,a).matches&&this.queries[a].setDirty()}}class np{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class ip{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const p=null!==a?a.length:0,x=this.getByIndex(c).embeddedTView(r,p);x&&(x.indexInDeclarationView=c,null!==a?a.push(x):a=[x])}return null!==a?new ip(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class vm{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new vm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const x=c[p];this.matchTNodeWithReadOption(r,a,_r(a,x)),this.matchTNodeWithReadOption(r,a,Lo(a,r,x,!1,!1))}else c===Xc?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Lo(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===Yl||p===tp||p===Xc&&4&a.type)this.addMatch(a.index,-2);else{const x=Lo(a,r,p,!1,!1);null!==x&&this.addMatch(a.index,x)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function _r(i,r){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function rp(i,r,a,c){return-1===a?function dw(i,r){return 11&i.type?Ua(i,r):4&i.type?ep(i,r):null}(r,i):-2===a?function _m(i,r,a){return a===Yl?Ua(r,i):a===Xc?ep(r,i):a===tp?hw(r,i):void 0}(i,r,c):to(i,i[1],a,r)}function fx(i,r,a,c){const p=r[19].queries[c];if(null===p.matches){const x=i.data,E=a.matches,F=[];for(let L=0;L<E.length;L+=2){const j=E[L];F.push(j<0?null:rp(r,x[j],E[L+1],a.metadata.read))}p.matches=F}return p.matches}function xm(i,r,a,c){const p=i.queries.getByIndex(a),x=p.matches;if(null!==x){const E=fx(i,r,p,a);for(let F=0;F<x.length;F+=2){const L=x[F];if(L>0)c.push(E[F/2]);else{const j=x[F+1],J=r[-L];for(let pe=10;pe<J.length;pe++){const Ae=J[pe];Ae[17]===Ae[3]&&xm(Ae[1],Ae,j,c)}if(null!==J[9]){const pe=J[9];for(let Ae=0;Ae<pe.length;Ae++){const ze=pe[Ae];xm(ze[1],ze,j,c)}}}}}return c}function gx(i){const r=vt(),a=ri(),c=Bp();mh(c+1);const p=bm(a,c);if(i.dirty&&function _u(i){return 4==(4&i[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)i.reset([]);else{const x=p.crossesNgTemplate?xm(a,r,c,[]):fx(a,r,p,c);i.reset(x,or),i.notifyOnChanges()}return!0}return!1}function yx(i,r,a,c){const p=ri();if(p.firstCreatePass){const x=Ji();(function Dr(i,r,a){null===i.queries&&(i.queries=new ip),i.queries.track(new vm(r,a))})(p,new np(r,a,c),x.index),function sp(i,r){const a=i.contentQueries||(i.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,r)}(p,i),2==(2&a)&&(p.staticContentQueries=!0)}!function _x(i,r,a){const c=new hx(4==(4&a));Nv(i,r,c,c.destroy),null===r[19]&&(r[19]=new px),r[19].queries.push(new dx(c))}(p,vt(),a)}function vx(){return function pw(i,r){return i[19].queries[r].queryList}(vt(),Bp())}function bm(i,r){return i.queries.getByIndex(r)}function Zc(...i){}const Am=new gi("Application Initializer");let Pm=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Zc,this.reject=Zc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const x=this.appInits[p]();if(Mg(x))a.push(x);else if(Md(x)){const E=new Promise((F,L)=>{x.subscribe({complete:F,error:L})});a.push(E)}}Promise.all(a).then(()=>{c()}).catch(p=>{this.reject(p)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(B(Am,8))},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Lx=new gi("AppId",{providedIn:"root",factory:function Ew(){return`${Kc()}${Kc()}${Kc()}`}});function Kc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dw=new gi("Platform Initializer"),Aw=new gi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),km=new gi("appBootstrapListener");let Fm=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Rm=new gi("LocaleId",{providedIn:"root",factory:()=>Ce(Rm,Xt.Optional|Xt.SkipSelf)||function Qc(){return typeof $localize<"u"&&$localize.locale||lu}()}),Om=new gi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kw{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let Fw=(()=>{class i{compileModuleSync(a){return new dm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),x=fo(Z(a).declarations).reduce((E,F)=>{const L=z(F);return L&&E.push(new wc(L)),E},[]);return new kw(c,x)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hM=(()=>Promise.resolve(0))();function Lm(i){typeof Zone>"u"?hM.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class qr{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nr(!1),this.onMicrotaskEmpty=new Nr(!1),this.onStable=new Nr(!1),this.onError=new Nr(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&a,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Nw(){let i=nn.requestAnimationFrame,r=nn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&r){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Bx(i){const r=()=>{!function Vx(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,mp(i),i.isCheckStableRunning=!0,gp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),mp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,p,x,E,F)=>{try{return Nm(i),a.invokeTask(p,x,E,F)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||i.shouldCoalesceRunChangeDetection)&&r(),Bw(i)}},onInvoke:(a,c,p,x,E,F,L)=>{try{return Nm(i),a.invoke(p,x,E,F,L)}finally{i.shouldCoalesceRunChangeDetection&&r(),Bw(i)}},onHasTask:(a,c,p,x)=>{a.hasTask(p,x),c===p&&("microTask"==x.change?(i._hasPendingMicrotasks=x.microTask,mp(i),gp(i)):"macroTask"==x.change&&(i.hasPendingMacrotasks=x.macroTask))},onHandleError:(a,c,p,x)=>(a.handleError(p,x),i.runOutsideAngular(()=>i.onError.emit(x)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qr.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(qr.isInAngularZone())throw new qe(909,!1)}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,p){const x=this._inner,E=x.scheduleEventTask("NgZoneEvent: "+p,r,Nx,Zc,Zc);try{return x.runTask(E,a,c)}finally{x.cancelTask(E)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const Nx={};function gp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function mp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Nm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Bw(i){i._nesting--,gp(i)}class Ww{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nr,this.onMicrotaskEmpty=new Nr,this.onStable=new Nr,this.onError=new Nr}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,p){return r.apply(a,c)}}const Wx=new gi(""),Vm=new gi("");let al,Ux=(()=>{class i{constructor(a,c,p){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,al||(function zx(i){al=i}(p),p.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qr.assertNotInAngularZone(),Lm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,p){let x=-1;c&&c>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==x),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:x,updateCb:p})}whenStable(a,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,p){return[]}}return i.\u0275fac=function(a){return new(a||i)(B(qr),B(Bm),B(Vm))},i.\u0275prov=Me({token:i,factory:i.\u0275fac}),i})(),Bm=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return al?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),da=null;const Wm=new gi("AllowMultipleToken"),Um=new gi("PlatformDestroyListeners");class zw{constructor(r,a){this.name=r,this.token=a}}function $x(i,r,a=[]){const c=`Platform: ${r}`,p=new gi(c);return(x=[])=>{let E=Hm();if(!E||E.injector.get(Wm,!1)){const F=[...a,...x,{provide:p,useValue:!0}];i?i(F):function Hw(i){if(da&&!da.get(Wm,!1))throw new qe(400,!1);da=i;const r=i.get(jm);(function zm(i){const r=i.get(Dw,null);r&&r.forEach(a=>a())})(i)}(function Xx(i=[],r){return za.create({name:r,providers:[{provide:Df,useValue:"platform"},{provide:Um,useValue:new Set([()=>da=null])},...i]})}(F,c))}return function Yx(i){const r=Hm();if(!r)throw new qe(401,!1);return r}()}}function Hm(){return da?.get(jm)??null}let jm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const p=function $m(i,r){let a;return a="noop"===i?new Ww:("zone.js"===i?void 0:i)||new qr(r),a}(c?.ngZone,function Gx(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),x=[{provide:qr,useValue:p}];return p.run(()=>{const E=za.create({providers:x,parent:this.injector,name:a.moduleType.name}),F=a.create(E),L=F.injector.get(lc,null);if(!L)throw new qe(402,!1);return p.runOutsideAngular(()=>{const j=p.onError.subscribe({next:J=>{L.handleError(J)}});F.onDestroy(()=>{yp(this._modules,F),j.unsubscribe()})}),function fs(i,r,a){try{const c=a();return Mg(c)?c.catch(p=>{throw r.runOutsideAngular(()=>i.handleError(p)),p}):c}catch(c){throw r.runOutsideAngular(()=>i.handleError(c)),c}}(L,p,()=>{const j=F.injector.get(Pm);return j.runInitializers(),j.donePromise.then(()=>(function Oc(i){te(i,"Expected localeId to be defined"),"string"==typeof i&&(Hd=i.toLowerCase().replace(/_/g,"-"))}(F.injector.get(Rm,lu)||lu),this._moduleDoBootstrap(F),F))})})}bootstrapModule(a,c=[]){const p=Zx({},c);return function Hx(i,r,a){const c=new dm(a);return Promise.resolve(c)}(0,0,a).then(x=>this.bootstrapModuleFactory(x,p))}_moduleDoBootstrap(a){const c=a.injector.get(Jc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new qe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Um,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(B(za))},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Zx(i,r){return Array.isArray(r)?r.reduce(Zx,i):{...i,...r}}let Jc=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,p){this._zone=a,this._injector=c,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new ne.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),E=new ne.y(F=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{qr.assertNotInAngularZone(),Lm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{qr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,We.T)(x,E.pipe((0,Le.B)()))}bootstrap(a,c){const p=a instanceof Ko;if(!this._injector.get(Pm).done)throw!p&&$(a),new qe(405,false);let E;E=p?a:this._injector.get(co).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const F=function jx(i){return i.isBoundToModule}(E)?void 0:this._injector.get(cu),j=E.create(za.NULL,[],c||E.selector,F),J=j.location.nativeElement,pe=j.injector.get(Wx,null);return pe?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),yp(this.components,j),pe?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;yp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(km,[]);c.push(...this._bootstrapListeners),c.forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>yp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new qe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(B(qr),B(Gr),B(lc))},i.\u0275prov=Me({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yp(i,r){const a=i.indexOf(r);a>-1&&i.splice(a,1)}function $w(){return!1}let Kx=(()=>{class i{}return i.__NG_ELEMENT_ID__=Gm,i})();function Gm(i){return function Qx(i,r,a){if(Ln(i)&&!a){const c=rr(i.index,r);return new xc(c,c)}return 47&i.type?new xc(r[16],r):null}(Ji(),vt(),16==(16&i))}class So{constructor(){}supports(r){return tu(r)}create(r){return new Jw(r)}}const _p=(i,r)=>r;class Jw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_p}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,p=0,x=null;for(;a||c;){const E=!c||a&&a.currentIndex<Jm(c,p,x)?a:c,F=Jm(E,p,x),L=E.currentIndex;if(E===c)p--,c=c._nextRemoved;else if(a=a._next,null==E.previousIndex)p++;else{x||(x=[]);const j=F-p,J=L-p;if(j!=J){for(let Ae=0;Ae<j;Ae++){const ze=Ae<x.length?x[Ae]:x[Ae]=0,yt=ze+Ae;J<=yt&&yt<j&&(x[Ae]=ze+1)}x[E.previousIndex]=J-j}}F!==L&&r(E,F,L)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!tu(r))throw new qe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,x,E,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let F=0;F<this.length;F++)x=r[F],E=this._trackByFn(F,x),null!==a&&Object.is(a.trackById,E)?(c&&(a=this._verifyReinsertion(a,x,E,F)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,E,F),c=!0),a=a._next}else p=0,function vd(i,r){if(Array.isArray(i))for(let a=0;a<i.length;a++)r(i[a]);else{const a=i[lr()]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,F=>{E=this._trackByFn(p,F),null!==a&&Object.is(a.trackById,E)?(c&&(a=this._verifyReinsertion(a,F,E,p)),Object.is(a.item,F)||this._addIdentityChange(a,F)):(a=this._mismatch(a,F,E,p),c=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,p){let x;return null===r?x=this._itTail:(x=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,x,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,x,p)):r=this._addAfter(new Jx(a,c),x,p),r}_verifyReinsertion(r,a,c,p){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==x?r=this._reinsertAfter(x,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,x=r._nextRemoved;return null===p?this._removalsHead=x:p._nextRemoved=x,null===x?this._removalsTail=p:x._prevRemoved=p,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new e0),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Jx{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qx{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class e0{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new qx,this.map.set(a,c)),c.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jm(i,r,a){const c=i.previousIndex;if(null===c)return c;let p=0;return a&&c<a.length&&(p=a[c]),c+r+p}class t0{constructor(){}supports(r){return r instanceof Map||Za(r)}create(){return new n0}}class n0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Za(r)))throw new qe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const x=this._getOrCreateRecordForKey(p,c);a=this._insertBeforeOrAppend(a,x)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const x=p._prev,E=p._next;return x&&(x._next=E),E&&(E._prev=x),p._next=null,p._prev=null,p}const c=new r0(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class r0{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nh(){return new Io([new So])}let Io=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const p=c.factories.slice();a=a.concat(p)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||nh()),deps:[[i,new Ho,new oo]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(null!=c)return c;throw new qe(901,!1)}}return i.\u0275prov=Me({token:i,providedIn:"root",factory:nh}),i})();function yu(){return new qm([new t0])}let qm=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const p=c.factories.slice();a=a.concat(p)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||yu()),deps:[[i,new Ho,new oo]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new qe(901,!1)}}return i.\u0275prov=Me({token:i,providedIn:"root",factory:yu}),i})();const eT=$x(null,"core",[]);let bp=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(B(Jc))},i.\u0275mod=_({type:i}),i.\u0275inj=it({}),i})();function ih(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(an,Mt,q)=>{"use strict";q.d(Mt,{Z:()=>lt});var y=q(2090),he=q(4859),ne=q(9681),We=q(1877);class Le{constructor(qe,_t){this._delegate=qe,this.firebase=_t,(0,ne._addComponent)(qe,new he.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ne.deleteApp)(this._delegate)))}_getService(qe,_t=ne._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(qe);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Ke=Ct.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:_t})}_removeServiceInstance(qe,_t=ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(_t)}_addComponent(qe){(0,ne._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,ne._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const nt=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function Fe(){const xt=function Je(xt){const qe={},_t={__esModule:!0,initializeApp:function Tt(Ee,Ve={}){const ot=ne.initializeApp(Ee,Ve);if((0,y.r3)(qe,ot.name))return qe[ot.name];const It=new xt(ot,_t);return qe[ot.name]=It,It},app:Ct,registerVersion:ne.registerVersion,setLogLevel:ne.setLogLevel,onLog:ne.onLog,apps:null,SDK_VERSION:ne.SDK_VERSION,INTERNAL:{registerComponent:function Ze(Ee){const Ve=Ee.name,ot=Ve.replace("-compat","");if(ne._registerComponent(Ee)&&"PUBLIC"===Ee.type){const It=(kt=Ct())=>{if("function"!=typeof kt[ot])throw nt.create("invalid-app-argument",{appName:Ve});return kt[ot]()};void 0!==Ee.serviceProps&&(0,y.ZB)(It,Ee.serviceProps),_t[ot]=It,xt.prototype[ot]=function(...kt){return this._getService.bind(this,Ve).apply(this,Ee.multipleInstances?kt:[])}}return"PUBLIC"===Ee.type?_t[ot]:null},removeApp:function Ke(Ee){delete qe[Ee]},useAsService:function St(Ee,Ve){return"serverAuth"===Ve?null:Ve},modularAPIs:ne}};function Ct(Ee){if(!(0,y.r3)(qe,Ee=Ee||ne._DEFAULT_ENTRY_NAME))throw nt.create("no-app",{appName:Ee});return qe[Ee]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function mt(){return Object.keys(qe).map(Ee=>qe[Ee])}}),Ct.App=xt,_t}(Le);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function qe(_t){(0,y.ZB)(xt,_t)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),xt}(),H=new We.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=be;!function ht(xt){(0,ne.registerVersion)("@firebase/app-compat","0.2.3",xt)}()},9681:(an,Mt,q)=>{"use strict";q.r(Mt),q.d(Mt,{FirebaseError:()=>We.ZR,SDK_VERSION:()=>En,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>zt,_addOrOverwriteComponent:()=>K,_apps:()=>te,_clearComponents:()=>it,_components:()=>Ht,_getProvider:()=>Me,_registerComponent:()=>ve,_removeServiceInstance:()=>Re,deleteApp:()=>Dn,getApp:()=>qt,getApps:()=>Ft,initializeApp:()=>ln,onLog:()=>Xt,registerVersion:()=>Kn,setLogLevel:()=>$n});var y=q(5861),he=q(4859),ne=q(1877),We=q(2090),Le=q(8766);class Ye{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function nt(B){return"VERSION"===B.getComponent()?.type}(Ce)){const He=Ce.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Ce=>Ce).join(" ")}}const Je="@firebase/app",be=new ne.Yd("@firebase/app"),Dt="[DEFAULT]",ct={[Je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},te=new Map,Ht=new Map;function zt(B,Y){try{B.container.addComponent(Y)}catch(Ce){be.debug(`Component ${Y.name} failed to register with FirebaseApp ${B.name}`,Ce)}}function K(B,Y){B.container.addOrOverwriteComponent(Y)}function ve(B){const Y=B.name;if(Ht.has(Y))return be.debug(`There were multiple attempts to register component ${Y}.`),!1;Ht.set(Y,B);for(const Ce of te.values())zt(Ce,B);return!0}function Me(B,Y){const Ce=B.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),B.container.getProvider(Y)}function Re(B,Y,Ce=Dt){Me(B,Y).clearInstance(Ce)}function it(){Ht.clear()}const Vt=new We.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(Y,Ce,He){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new he.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const En="9.17.1";function ln(B,Y={}){let Ce=B;"object"!=typeof Y&&(Y={name:Y});const He=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Y),tt=He.name;if("string"!=typeof tt||!tt)throw Vt.create("bad-app-name",{appName:String(tt)});if(Ce||(Ce=(0,We.aH)()),!Ce)throw Vt.create("no-options");const Oe=te.get(tt);if(Oe){if((0,We.vZ)(Ce,Oe.options)&&(0,We.vZ)(He,Oe.config))return Oe;throw Vt.create("duplicate-app",{appName:tt})}const ue=new he.H0(tt);for(const me of Ht.values())ue.addComponent(me);const oe=new tn(Ce,He,ue);return te.set(tt,oe),oe}function qt(B=Dt){const Y=te.get(B);if(!Y&&B===Dt)return ln();if(!Y)throw Vt.create("no-app",{appName:B});return Y}function Ft(){return Array.from(te.values())}function Dn(B){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,y.Z)(function*(B){const Y=B.name;te.has(Y)&&(te.delete(Y),yield Promise.all(B.container.getProviders().map(Ce=>Ce.delete())),B.isDeleted=!0)})).apply(this,arguments)}function Kn(B,Y,Ce){var He;let tt=null!==(He=ct[B])&&void 0!==He?He:B;Ce&&(tt+=`-${Ce}`);const Oe=tt.match(/\s|\//),ue=Y.match(/\s|\//);if(Oe||ue){const oe=[`Unable to register library "${tt}" with version "${Y}":`];return Oe&&oe.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),Oe&&ue&&oe.push("and"),ue&&oe.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void be.warn(oe.join(" "))}ve(new he.wA(`${tt}-version`,()=>({library:tt,version:Y}),"VERSION"))}function Xt(B,Y){if(null!==B&&"function"!=typeof B)throw Vt.create("invalid-log-argument");(0,ne.Am)(B,Y)}function $n(B){(0,ne.Ub)(B)}const Si="firebase-heartbeat-store";let yi=null;function nn(){return yi||(yi=(0,Le.X3)("firebase-heartbeat-database",1,{upgrade:(B,Y)=>{0===Y&&B.createObjectStore(Si)}}).catch(B=>{throw Vt.create("idb-open",{originalErrorMessage:B.message})})),yi}function pn(){return(pn=(0,y.Z)(function*(B){try{return(yield nn()).transaction(Si).objectStore(Si).get(ui(B))}catch(Y){if(Y instanceof We.ZR)be.warn(Y.message);else{const Ce=Vt.create("idb-get",{originalErrorMessage:Y?.message});be.warn(Ce.message)}}})).apply(this,arguments)}function li(B,Y){return hi.apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(B,Y){try{const He=(yield nn()).transaction(Si,"readwrite");return yield He.objectStore(Si).put(Y,ui(B)),He.done}catch(Ce){if(Ce instanceof We.ZR)be.warn(Ce.message);else{const He=Vt.create("idb-set",{originalErrorMessage:Ce?.message});be.warn(He.message)}}})).apply(this,arguments)}function ui(B){return`${B.name}!${B.options.appId}`}class ii{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new An(Ce),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var Y=this;return(0,y.Z)(function*(){const He=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=Cn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==tt&&!Y._heartbeatsCache.heartbeats.some(Oe=>Oe.date===tt))return Y._heartbeatsCache.heartbeats.push({date:tt,agent:He}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Oe=>{const ue=new Date(Oe.date).valueOf();return Date.now()-ue<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,y.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Ce=Cn(),{heartbeatsToSend:He,unsentEntries:tt}=function ji(B,Y=1024){const Ce=[];let He=B.slice();for(const tt of B){const Oe=Ce.find(ue=>ue.agent===tt.agent);if(Oe){if(Oe.dates.push(tt.date),Qn(Ce)>Y){Oe.dates.pop();break}}else if(Ce.push({agent:tt.agent,dates:[tt.date]}),Qn(Ce)>Y){Ce.pop();break}He=He.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:He}}(Y._heartbeatsCache.heartbeats),Oe=(0,We.L)(JSON.stringify({version:2,heartbeats:He}));return Y._heartbeatsCache.lastSentHeartbeatDate=Ce,tt.length>0?(Y._heartbeatsCache.heartbeats=tt,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Oe})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class An{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,We.hl)()&&(0,We.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,y.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function $t(B){return pn.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Ce=this;return(0,y.Z)(function*(){var He;if(yield Ce._canUseIndexedDBPromise){const Oe=yield Ce.read();return li(Ce.app,{lastSentHeartbeatDate:null!==(He=Y.lastSentHeartbeatDate)&&void 0!==He?He:Oe.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Ce=this;return(0,y.Z)(function*(){var He;if(yield Ce._canUseIndexedDBPromise){const Oe=yield Ce.read();return li(Ce.app,{lastSentHeartbeatDate:null!==(He=Y.lastSentHeartbeatDate)&&void 0!==He?He:Oe.lastSentHeartbeatDate,heartbeats:[...Oe.heartbeats,...Y.heartbeats]})}})()}}function Qn(B){return(0,We.L)(JSON.stringify({version:2,heartbeats:B})).length}!function V(B){ve(new he.wA("platform-logger",Y=>new Ye(Y),"PRIVATE")),ve(new he.wA("heartbeat",Y=>new ii(Y),"PRIVATE")),Kn(Je,"0.9.3",B),Kn(Je,"0.9.3","esm2017"),Kn("fire-js","")}("")},4859:(an,Mt,q)=>{"use strict";q.d(Mt,{H0:()=>Je,wA:()=>ne,zt:()=>Le});var y=q(5861),he=q(2090);class ne{constructor(be,H,De){this.name=be,this.instanceFactory=H,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const We="[DEFAULT]";class Le{constructor(be,H){this.name=be,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const H=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(H)){const De=new he.BH;if(this.instancesDeferred.set(H,De),this.isInitialized(H)||this.shouldAutoInitialize())try{const Rt=this.getOrInitializeService({instanceIdentifier:H});Rt&&De.resolve(Rt)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(be){var H;const De=this.normalizeInstanceIdentifier(be?.identifier),Rt=null!==(H=be?.optional)&&void 0!==H&&H;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(ht){if(Rt)return null;throw ht}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function nt(Fe){return"EAGER"===Fe.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:We})}catch{}for(const[H,De]of this.instancesDeferred.entries()){const Rt=this.normalizeInstanceIdentifier(H);try{const ht=this.getOrInitializeService({instanceIdentifier:Rt});De.resolve(ht)}catch{}}}}clearInstance(be=We){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,y.Z)(function*(){const H=Array.from(be.instances.values());yield Promise.all([...H.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...H.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=We){return this.instances.has(be)}getOptions(be=We){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:H={}}=be,De=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Rt=this.getOrInitializeService({instanceIdentifier:De,options:H});for(const[ht,lt]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(ht)&&lt.resolve(Rt);return Rt}onInit(be,H){var De;const Rt=this.normalizeInstanceIdentifier(H),ht=null!==(De=this.onInitCallbacks.get(Rt))&&void 0!==De?De:new Set;ht.add(be),this.onInitCallbacks.set(Rt,ht);const lt=this.instances.get(Rt);return lt&&be(lt,Rt),()=>{ht.delete(be)}}invokeOnInitCallbacks(be,H){const De=this.onInitCallbacks.get(H);if(De)for(const Rt of De)try{Rt(be,H)}catch{}}getOrInitializeService({instanceIdentifier:be,options:H={}}){let De=this.instances.get(be);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=be,Fe===We?void 0:Fe),options:H}),this.instances.set(be,De),this.instancesOptions.set(be,H),this.invokeOnInitCallbacks(De,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,De)}catch{}var Fe;return De||null}normalizeInstanceIdentifier(be=We){return this.component?this.component.multipleInstances?be:We:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const H=this.getProvider(be.name);if(H.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);H.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const H=new Le(be,this);return this.providers.set(be,H),H}getProviders(){return Array.from(this.providers.values())}}},2833:(an,Mt,q)=>{"use strict";var y=q(5861),he=q(9681),ne=q(4859),We=q(2090),Le=q(8766);const Ye="@firebase/installations",nt="0.6.3",Fe=`w:${nt}`,be="FIS_v2",xt=new We.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(_){return _ instanceof We.ZR&&_.code.includes("request-failed")}function _t({projectId:_}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_}/installations`}function Ke(_){return{token:_.token,requestStatus:2,expiresIn:Ve(_.expiresIn),creationTime:Date.now()}}function Ct(_,T){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,y.Z)(function*(_,T){const m=(yield T.json()).error;return xt.create("request-failed",{requestName:_,serverCode:m.code,serverMessage:m.message,serverStatus:m.status})})).apply(this,arguments)}function mt({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function Ze(_,{refreshToken:T}){const I=mt(_);return I.append("Authorization",function ot(_){return`${be} ${_}`}(T)),I}function St(_){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,y.Z)(function*(_){const T=yield _();return T.status>=500&&T.status<600?_():T})).apply(this,arguments)}function Ve(_){return Number(_.replace("s","000"))}function It(_,T){return kt.apply(this,arguments)}function kt(){return(kt=(0,y.Z)(function*({appConfig:_,heartbeatServiceProvider:T},{fid:I}){const m=_t(_),P=mt(_),z=T.getImmediate({optional:!0});if(z){const Z=yield z.getHeartbeatsHeader();Z&&P.append("x-firebase-client",Z)}const N={method:"POST",headers:P,body:JSON.stringify({fid:I,authVersion:be,appId:_.appId,sdkVersion:Fe})},$=yield St(()=>fetch(m,N));if($.ok){const Z=yield $.json();return{fid:Z.fid||I,registrationStatus:2,refreshToken:Z.refreshToken,authToken:Ke(Z.authToken)}}throw yield Ct("Create Installation",$)})).apply(this,arguments)}function Ot(_){return new Promise(T=>{setTimeout(T,_)})}const je=/^[cdef][\w-]{21}$/;function ut(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const I=function bt(_){return function Wt(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return je.test(I)?I:""}catch{return""}}function Dt(_){return`${_.appName}!${_.appId}`}const ct=new Map;function te(_,T){const I=Dt(_);K(I,T),function ve(_,T){const I=function Re(){return!Me&&"BroadcastChannel"in self&&(Me=new BroadcastChannel("[Firebase] FID Change"),Me.onmessage=_=>{K(_.data.key,_.data.fid)}),Me}();I&&I.postMessage({key:_,fid:T}),function it(){0===ct.size&&Me&&(Me.close(),Me=null)}()}(I,T)}function K(_,T){const I=ct.get(_);if(I)for(const m of I)m(T)}let Me=null;const tn="firebase-installations-store";let En=null;function ln(){return En||(En=(0,Le.X3)("firebase-installations-database",1,{upgrade:(_,T)=>{0===T&&_.createObjectStore(tn)}})),En}function qt(_,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,y.Z)(function*(_,T){const I=Dt(_),P=(yield ln()).transaction(tn,"readwrite"),z=P.objectStore(tn),U=yield z.get(I);return yield z.put(T,I),yield P.done,(!U||U.fid!==T.fid)&&te(_,T.fid),T})).apply(this,arguments)}function Dn(_){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,y.Z)(function*(_){const T=Dt(_),m=(yield ln()).transaction(tn,"readwrite");yield m.objectStore(tn).delete(T),yield m.done})).apply(this,arguments)}function Kn(_,T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,y.Z)(function*(_,T){const I=Dt(_),P=(yield ln()).transaction(tn,"readwrite"),z=P.objectStore(tn),U=yield z.get(I),N=T(U);return void 0===N?yield z.delete(I):yield z.put(N,I),yield P.done,N&&(!U||U.fid!==N.fid)&&te(_,N.fid),N})).apply(this,arguments)}function $n(_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,y.Z)(function*(_){let T;const I=yield Kn(_.appConfig,m=>{const P=ai(m),z=Si(_,P);return T=z.registrationPromise,z.installationEntry});return""===I.fid?{installationEntry:yield T}:{installationEntry:I,registrationPromise:T}})).apply(this,arguments)}function ai(_){return hi(_||{fid:ut(),registrationStatus:0})}function Si(_,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(xt.create("app-offline"))};const I={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},m=function yi(_,T){return nn.apply(this,arguments)}(_,I);return{installationEntry:I,registrationPromise:m}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:$t(_)}:{installationEntry:T}}function nn(){return(nn=(0,y.Z)(function*(_,T){try{const I=yield It(_,T);return qt(_.appConfig,I)}catch(I){throw qe(I)&&409===I.customData.serverCode?yield Dn(_.appConfig):yield qt(_.appConfig,{fid:T.fid,registrationStatus:0}),I}})).apply(this,arguments)}function $t(_){return pn.apply(this,arguments)}function pn(){return(pn=(0,y.Z)(function*(_){let T=yield li(_.appConfig);for(;1===T.registrationStatus;)yield Ot(100),T=yield li(_.appConfig);if(0===T.registrationStatus){const{installationEntry:I,registrationPromise:m}=yield $n(_);return m||I}return T})).apply(this,arguments)}function li(_){return Kn(_,T=>{if(!T)throw xt.create("installation-not-found");return hi(T)})}function hi(_){return function ui(_){return 1===_.registrationStatus&&_.registrationTime+1e4<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function Yn(_,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,y.Z)(function*({appConfig:_,heartbeatServiceProvider:T},I){const m=ii(_,I),P=Ze(_,I),z=T.getImmediate({optional:!0});if(z){const Z=yield z.getHeartbeatsHeader();Z&&P.append("x-firebase-client",Z)}const N={method:"POST",headers:P,body:JSON.stringify({installation:{sdkVersion:Fe,appId:_.appId}})},$=yield St(()=>fetch(m,N));if($.ok)return Ke(yield $.json());throw yield Ct("Generate Auth Token",$)})).apply(this,arguments)}function ii(_,{fid:T}){return`${_t(_)}/${T}/authTokens:generate`}function Cn(_){return ji.apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(_,T=!1){let I;const m=yield Kn(_.appConfig,z=>{if(!Ce(z))throw xt.create("not-registered");const U=z.authToken;if(!T&&He(U))return z;if(1===U.requestStatus)return I=An(_,T),z;{if(!navigator.onLine)throw xt.create("app-offline");const N=Oe(z);return I=B(_,N),N}});return I?yield I:m.authToken})).apply(this,arguments)}function An(_,T){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(_,T){let I=yield V(_.appConfig);for(;1===I.authToken.requestStatus;)yield Ot(100),I=yield V(_.appConfig);const m=I.authToken;return 0===m.requestStatus?Cn(_,T):m})).apply(this,arguments)}function V(_){return Kn(_,T=>{if(!Ce(T))throw xt.create("not-registered");return function ue(_){return 1===_.requestStatus&&_.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function B(_,T){return Y.apply(this,arguments)}function Y(){return(Y=(0,y.Z)(function*(_,T){try{const I=yield Yn(_,T),m=Object.assign(Object.assign({},T),{authToken:I});return yield qt(_.appConfig,m),I}catch(I){if(!qe(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const m=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield qt(_.appConfig,m)}else yield Dn(_.appConfig);throw I}})).apply(this,arguments)}function Ce(_){return void 0!==_&&2===_.registrationStatus}function He(_){return 2===_.requestStatus&&!function tt(_){const T=Date.now();return T<_.creationTime||_.creationTime+_.expiresIn<T+36e5}(_)}function Oe(_){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:T})}function me(){return(me=(0,y.Z)(function*(_){const T=_,{installationEntry:I,registrationPromise:m}=yield $n(T);return m?m.catch(console.error):Cn(T).catch(console.error),I.fid})).apply(this,arguments)}function G(){return(G=(0,y.Z)(function*(_,T=!1){const I=_;return yield ae(I),(yield Cn(I,T)).token})).apply(this,arguments)}function ae(_){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,y.Z)(function*(_){const{registrationPromise:T}=yield $n(_);T&&(yield T)})).apply(this,arguments)}function d(_){return xt.create("missing-app-config-values",{valueName:_})}const v="installations",D=_=>{const T=_.getProvider("app").getImmediate(),I=function l(_){if(!_||!_.options)throw d("App Configuration");if(!_.name)throw d("App Name");const T=["projectId","apiKey","appId"];for(const I of T)if(!_.options[I])throw d(I);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(T);return{app:T,appConfig:I,heartbeatServiceProvider:(0,he._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},k=_=>{const T=_.getProvider("app").getImmediate(),I=(0,he._getProvider)(T,v).getImmediate();return{getId:()=>function oe(_){return me.apply(this,arguments)}(I),getToken:P=>function le(_){return G.apply(this,arguments)}(I,P)}};(function S(){(0,he._registerComponent)(new ne.wA(v,D,"PUBLIC")),(0,he._registerComponent)(new ne.wA("installations-internal",k,"PRIVATE"))})(),(0,he.registerVersion)(Ye,nt),(0,he.registerVersion)(Ye,nt,"esm2017")},1877:(an,Mt,q)=>{"use strict";q.d(Mt,{Am:()=>Fe,Ub:()=>Je,Yd:()=>nt,in:()=>he});const y=[];var he=(()=>{return(be=he||(he={}))[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",he;var be})();const ne={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},We=he.INFO,Le={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Ye=(be,H,...De)=>{if(H<be.logLevel)return;const Rt=(new Date).toISOString(),ht=Le[H];if(!ht)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ht](`[${Rt}]  ${be.name}:`,...De)};class nt{constructor(H){this.name=H,this._logLevel=We,this._logHandler=Ye,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in he))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?ne[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...H),this._logHandler(this,he.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...H),this._logHandler(this,he.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,he.INFO,...H),this._logHandler(this,he.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,he.WARN,...H),this._logHandler(this,he.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...H),this._logHandler(this,he.ERROR,...H)}}function Je(be){y.forEach(H=>{H.setLogLevel(be)})}function Fe(be,H){for(const De of y){let Rt=null;H&&H.level&&(Rt=ne[H.level]),De.userLogHandler=null===be?null:(ht,lt,...xt)=>{const qe=xt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");lt>=(Rt??ht.logLevel)&&be({level:he[lt].toLowerCase(),message:qe,args:xt,type:ht.name})}}}},908:(an,Mt,q)=>{"use strict";q.d(Mt,{Gb:()=>Pe,LP:()=>f,pQ:()=>l,ps:()=>d});var y=q(5861),ne=(q(2833),q(4859)),We=q(8766),Le=q(2090),Ye=q(9681);const nt="/firebase-messaging-sw.js",Je="/firebase-cloud-messaging-push-scope",Fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",H="google.c.a.c_id",De="google.c.a.c_l",Rt="google.c.a.ts",ht="google.c.a.e";var xt=(()=>{return(v=xt||(xt={})).PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",xt;var v})();function qe(v){const C=new Uint8Array(v);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _t(v){const D=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(D),S=new Uint8Array(k.length);for(let _=0;_<k.length;++_)S[_]=k.charCodeAt(_);return S}const Ke="fcm_token_details_db",Tt="fcm_token_object_Store";function mt(v){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,y.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_=>_.name).includes(Ke))return null;let C=null;return(yield(0,We.X3)(Ke,5,{upgrade:(k=(0,y.Z)(function*(S,_,T,I){var m;if(_<2||!S.objectStoreNames.contains(Tt))return;const P=I.objectStore(Tt),z=yield P.index("fcmSenderId").get(v);if(yield P.clear(),z)if(2===_){const U=z;if(!U.auth||!U.p256dh||!U.endpoint)return;C={token:U.fcmToken,createTime:null!==(m=U.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:U.auth,p256dh:U.p256dh,endpoint:U.endpoint,swScope:U.swScope,vapidKey:"string"==typeof U.vapidKey?U.vapidKey:qe(U.vapidKey)}}}else if(3===_){const U=z;C={token:U.fcmToken,createTime:U.createTime,subscriptionOptions:{auth:qe(U.auth),p256dh:qe(U.p256dh),endpoint:U.endpoint,swScope:U.swScope,vapidKey:qe(U.vapidKey)}}}else if(4===_){const U=z;C={token:U.fcmToken,createTime:U.createTime,subscriptionOptions:{auth:qe(U.auth),p256dh:qe(U.p256dh),endpoint:U.endpoint,swScope:U.swScope,vapidKey:qe(U.vapidKey)}}}}),function(_,T,I,m){return k.apply(this,arguments)})})).close(),yield(0,We.Lj)(Ke),yield(0,We.Lj)("fcm_vapid_details_db"),yield(0,We.Lj)("undefined"),St(C)?C:null;var k}),Ze.apply(this,arguments)}function St(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:C}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const ot="firebase-messaging-store";let It=null;function kt(){return It||(It=(0,We.X3)("firebase-messaging-database",1,{upgrade:(v,C)=>{0===C&&v.createObjectStore(ot)}})),It}function Ot(v){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,y.Z)(function*(v){const C=Dt(v),k=yield(yield kt()).transaction(ot).objectStore(ot).get(C);if(k)return k;{const S=yield mt(v.appConfig.senderId);if(S)return yield je(v,S),S}})).apply(this,arguments)}function je(v,C){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(v,C){const D=Dt(v),S=(yield kt()).transaction(ot,"readwrite");return yield S.objectStore(ot).put(C,D),yield S.done,C})).apply(this,arguments)}function ut(v){return bt.apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(v){const C=Dt(v),k=(yield kt()).transaction(ot,"readwrite");yield k.objectStore(ot).delete(C),yield k.done})).apply(this,arguments)}function Dt({appConfig:v}){return v.appId}const te=new Le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ht(v,C){return zt.apply(this,arguments)}function zt(){return(zt=(0,y.Z)(function*(v,C){const D=yield at(v),k=tn(C),S={method:"POST",headers:D,body:JSON.stringify(k)};let _;try{_=yield(yield fetch(it(v.appConfig),S)).json()}catch(T){throw te.create("token-subscribe-failed",{errorInfo:T?.toString()})}if(_.error)throw te.create("token-subscribe-failed",{errorInfo:_.error.message});if(!_.token)throw te.create("token-subscribe-no-token");return _.token})).apply(this,arguments)}function K(v,C){return ve.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(v,C){const D=yield at(v),k=tn(C.subscriptionOptions),S={method:"PATCH",headers:D,body:JSON.stringify(k)};let _;try{_=yield(yield fetch(`${it(v.appConfig)}/${C.token}`,S)).json()}catch(T){throw te.create("token-update-failed",{errorInfo:T?.toString()})}if(_.error)throw te.create("token-update-failed",{errorInfo:_.error.message});if(!_.token)throw te.create("token-update-no-token");return _.token})).apply(this,arguments)}function Me(v,C){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(v,C){const k={method:"DELETE",headers:yield at(v)};try{const _=yield(yield fetch(`${it(v.appConfig)}/${C}`,k)).json();if(_.error)throw te.create("token-unsubscribe-failed",{errorInfo:_.error.message})}catch(S){throw te.create("token-unsubscribe-failed",{errorInfo:S?.toString()})}})).apply(this,arguments)}function it({projectId:v}){return`https://fcmregistrations.googleapis.com/v1/projects/${v}/registrations`}function at(v){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*({appConfig:v,installations:C}){const D=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${D}`})})).apply(this,arguments)}function tn({p256dh:v,auth:C,endpoint:D,vapidKey:k}){const S={web:{endpoint:D,auth:C,p256dh:v}};return k!==Fe&&(S.web.applicationPubKey=k),S}const En=6048e5;function ln(v){return qt.apply(this,arguments)}function qt(){return(qt=(0,y.Z)(function*(v){const C=yield Pi(v.swRegistration,v.vapidKey),D={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:C.endpoint,auth:qe(C.getKey("auth")),p256dh:qe(C.getKey("p256dh"))},k=yield Ot(v.firebaseDependencies);if(k){if(Si(k.subscriptionOptions,D))return Date.now()>=k.createTime+En?Gt(v,{token:k.token,createTime:Date.now(),subscriptionOptions:D}):k.token;try{yield Me(v.firebaseDependencies,k.token)}catch(S){console.warn(S)}return Xt(v.firebaseDependencies,D)}return Xt(v.firebaseDependencies,D)})).apply(this,arguments)}function Ft(v){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(v){const C=yield Ot(v.firebaseDependencies);C&&(yield Me(v.firebaseDependencies,C.token),yield ut(v.firebaseDependencies));const D=yield v.swRegistration.pushManager.getSubscription();return!D||D.unsubscribe()})).apply(this,arguments)}function Gt(v,C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(v,C){try{const D=yield K(v.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:D,createTime:Date.now()});return yield je(v.firebaseDependencies,k),D}catch(D){throw yield Ft(v),D}})).apply(this,arguments)}function Xt(v,C){return $n.apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(v,C){const k={token:yield Ht(v,C),createTime:Date.now(),subscriptionOptions:C};return yield je(v,k),k.token})).apply(this,arguments)}function Pi(v,C){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(v,C){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_t(C)})})).apply(this,arguments)}function Si(v,C){return C.vapidKey===v.vapidKey&&C.endpoint===v.endpoint&&C.auth===v.auth&&C.p256dh===v.p256dh}function yi(v){const C={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function nn(v,C){if(!C.notification)return;v.notification={};const D=C.notification.title;D&&(v.notification.title=D);const k=C.notification.body;k&&(v.notification.body=k);const S=C.notification.image;S&&(v.notification.image=S);const _=C.notification.icon;_&&(v.notification.icon=_)}(C,v),function $t(v,C){C.data&&(v.data=C.data)}(C,v),function pn(v,C){var D,k,S,_,T;if(!(C.fcmOptions||null!==(D=C.notification)&&void 0!==D&&D.click_action))return;v.fcmOptions={};const I=null!==(S=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==S?S:null===(_=C.notification)||void 0===_?void 0:_.click_action;I&&(v.fcmOptions.link=I);const m=null===(T=C.fcmOptions)||void 0===T?void 0:T.analytics_label;m&&(v.fcmOptions.analyticsLabel=m)}(C,v),C}function li(v){return"object"==typeof v&&!!v&&H in v}function hi(v,C){const D=[];for(let k=0;k<v.length;k++)D.push(v.charAt(k)),k<C.length&&D.push(C.charAt(k));return D.join("")}function Yn(v){return te.create("missing-app-config-values",{valueName:v})}hi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bn{constructor(C,D,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const S=function ui(v){if(!v||!v.options)throw Yn("App Configuration Object");if(!v.name)throw Yn("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:D}=v;for(const k of C)if(!D[k])throw Yn(k);return{appName:v.name,projectId:D.projectId,apiKey:D.apiKey,appId:D.appId,senderId:D.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:S,installations:D,analyticsProvider:k}}_delete(){return Promise.resolve()}}function ii(v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(nt,{scope:Je}),v.swRegistration.update().catch(()=>{})}catch(C){throw te.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function ji(v,C){return An.apply(this,arguments)}function An(){return(An=(0,y.Z)(function*(v,C){if(!C&&!v.swRegistration&&(yield ii(v)),C||!v.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw te.create("invalid-sw-registration");v.swRegistration=C}})).apply(this,arguments)}function Qn(v,C){return V.apply(this,arguments)}function V(){return(V=(0,y.Z)(function*(v,C){C?v.vapidKey=C:v.vapidKey||(v.vapidKey=Fe)})).apply(this,arguments)}function B(v,C){return Y.apply(this,arguments)}function Y(){return(Y=(0,y.Z)(function*(v,C){if(!navigator)throw te.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw te.create("permission-blocked");return yield Qn(v,C?.vapidKey),yield ji(v,C?.serviceWorkerRegistration),ln(v)})).apply(this,arguments)}function Ce(v,C,D){return He.apply(this,arguments)}function He(){return(He=(0,y.Z)(function*(v,C,D){const k=tt(C);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:D[H],message_name:D[De],message_time:D[Rt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tt(v){switch(v){case xt.NOTIFICATION_CLICKED:return"notification_open";case xt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ue(){return(ue=(0,y.Z)(function*(v,C){const D=C.data;if(!D.isFirebaseMessaging)return;v.onMessageHandler&&D.messageType===xt.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(yi(D)):v.onMessageHandler.next(yi(D)));const k=D.data;li(k)&&"1"===k[ht]&&(yield Ce(v,D.messageType,k))})).apply(this,arguments)}const oe="@firebase/messaging",le=v=>{const C=new bn(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",D=>function Oe(v,C){return ue.apply(this,arguments)}(C,D)),C},G=v=>{const C=v.getProvider("messaging").getImmediate();return{getToken:k=>B(C,k)}};function Pe(){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(){try{yield(0,Le.eu)()}catch{return!1}return typeof window<"u"&&(0,Le.hl)()&&(0,Le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Xe(){return(Xe=(0,y.Z)(function*(v){if(!navigator)throw te.create("only-available-in-window");return v.swRegistration||(yield ii(v)),Ft(v)})).apply(this,arguments)}function f(v,C){return h.apply(this,arguments)}function h(){return(h=(0,y.Z)(function*(v,C){return B(v=(0,Le.m9)(v),C)})).apply(this,arguments)}function l(v){return function jt(v){return Xe.apply(this,arguments)}(v=(0,Le.m9)(v))}function d(v,C){return function Qt(v,C){if(!navigator)throw te.create("only-available-in-window");return v.onMessageHandler=C,()=>{v.onMessageHandler=null}}(v=(0,Le.m9)(v),C)}!function ae(){(0,Ye._registerComponent)(new ne.wA("messaging",le,"PUBLIC")),(0,Ye._registerComponent)(new ne.wA("messaging-internal",G,"PRIVATE")),(0,Ye.registerVersion)(oe,"0.12.3"),(0,Ye.registerVersion)(oe,"0.12.3","esm2017")}()},259:(an,Mt,q)=>{"use strict";q.d(Mt,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=q(9681);(0,y.registerVersion)("firebase","9.17.1","app")},9260:(an,Mt,q)=>{"use strict";q.d(Mt,{Z:()=>y.Z});var y=q(3942);y.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(an,Mt,q)=>{"use strict";q.r(Mt);var y=q(5861),he=q(3942),ne=q(2722),We=q(2090),nt=(q(9681),q(1877),q(4859));function Je(){return window}function H(){return(H=(0,y.Z)(function*(le,G,ae){var Pe;const{BuildInfo:ft}=Je();(0,ne.ap)(G.sessionId,"AuthEvent did not contain a session ID");const jt=yield _t(G.sessionId),Xe={};return(0,ne.aq)()?Xe.ibi=ft.packageName:(0,ne.ar)()?Xe.apn=ft.packageName:(0,ne.as)(le,"operation-not-supported-in-this-environment"),ft.displayName&&(Xe.appDisplayName=ft.displayName),Xe.sessionId=jt,(0,ne.at)(le,ae,G.type,void 0,null!==(Pe=G.eventId)&&void 0!==Pe?Pe:void 0,Xe)})).apply(this,arguments)}function Rt(){return(Rt=(0,y.Z)(function*(le){const{BuildInfo:G}=Je(),ae={};(0,ne.aq)()?ae.iosBundleId=G.packageName:(0,ne.ar)()?ae.androidPackageName=G.packageName:(0,ne.as)(le,"operation-not-supported-in-this-environment"),yield(0,ne.au)(le,ae)})).apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(le,G,ae){const{cordova:Pe}=Je();let ft=()=>{};try{yield new Promise((jt,Xe)=>{let Qt=null;function o(){var l;jt();const d=null===(l=Pe.plugins.browsertab)||void 0===l?void 0:l.close;"function"==typeof d&&d(),"function"==typeof ae?.close&&ae.close()}function f(){Qt||(Qt=window.setTimeout(()=>{Xe((0,ne.aw)(le,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===document?.visibilityState&&f()}G.addPassiveListener(o),document.addEventListener("resume",f,!1),(0,ne.ar)()&&document.addEventListener("visibilitychange",h,!1),ft=()=>{G.removePassiveListener(o),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",h,!1),Qt&&window.clearTimeout(Qt)}})}finally{ft()}})).apply(this,arguments)}function _t(le){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(le){const G=Ct(le),ae=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(ae)).map(ft=>ft.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ct(le){if((0,ne.ap)(/[0-9a-zA-Z]+/.test(le),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(le);const G=new ArrayBuffer(le.length),ae=new Uint8Array(G);for(let Pe=0;Pe<le.length;Pe++)ae[Pe]=le.charCodeAt(Pe);return ae}class mt extends ne.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(ae=>ae(G)),super.onEvent(G)}initialized(){var G=this;return(0,y.Z)(function*(){yield G.initPromise})()}}function Ee(le){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,y.Z)(function*(le){const G=yield kt()._get(Ot(le));return G&&(yield kt()._remove(Ot(le))),G})).apply(this,arguments)}function It(){const le=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ae=0;ae<20;ae++){const Pe=Math.floor(Math.random()*G.length);le.push(G.charAt(Pe))}return le.join("")}function kt(){return(0,ne.az)(ne.b)}function Ot(le){return(0,ne.aA)("authEvent",le.config.apiKey,le.name)}function Qe(le){if(!le?.includes("?"))return{};const[G,...ae]=le.split("?");return(0,We.zd)(ae.join("?"))}const Dt=class bt{constructor(){this._redirectPersistence=ne.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ne.aB,this._overrideRedirectResult=ne.aC}_initialize(G){var ae=this;return(0,y.Z)(function*(){const Pe=G._key();let ft=ae.eventManagers.get(Pe);return ft||(ft=new mt(G),ae.eventManagers.set(Pe,ft),ae.attachCallbackListeners(G,ft)),ft})()}_openPopup(G){(0,ne.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,ae,Pe,ft){var jt=this;return(0,y.Z)(function*(){!function qe(le){var G,ae,Pe,ft,jt,Xe,Qt,o,f,h;const l=Je();(0,ne.ax)("function"==typeof(null===(G=l?.universalLinks)||void 0===G?void 0:G.subscribe),le,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ne.ax)(typeof(null===(ae=l?.BuildInfo)||void 0===ae?void 0:ae.packageName)<"u",le,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ne.ax)("function"==typeof(null===(jt=null===(ft=null===(Pe=l?.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===jt?void 0:jt.openUrl),le,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ne.ax)("function"==typeof(null===(o=null===(Qt=null===(Xe=l?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===o?void 0:o.isAvailable),le,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ne.ax)("function"==typeof(null===(h=null===(f=l?.cordova)||void 0===f?void 0:f.InAppBrowser)||void 0===h?void 0:h.open),le,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Xe=yield jt._initialize(G);yield Xe.initialized(),Xe.resetRedirect(),(0,ne.aD)(),yield jt._originValidation(G);const Qt=function Ze(le,G,ae=null){return{type:G,eventId:ae,urlResponse:null,sessionId:It(),postBody:null,tenantId:le.tenantId,error:(0,ne.aw)(le,"no-auth-event")}}(G,Pe,ft);yield function St(le,G){return kt()._set(Ot(le),G)}(G,Qt);const o=yield function be(le,G,ae){return H.apply(this,arguments)}(G,Qt,ae),f=yield function ht(le){const{cordova:G}=Je();return new Promise(ae=>{G.plugins.browsertab.isAvailable(Pe=>{let ft=null;Pe?G.plugins.browsertab.openUrl(le):ft=G.InAppBrowser.open(le,(0,ne.av)()?"_blank":"_system","location=yes"),ae(ft)})})}(o);return function lt(le,G,ae){return xt.apply(this,arguments)}(G,Xe,f)})()}_isIframeWebStorageSupported(G,ae){throw new Error("Method not implemented.")}_originValidation(G){const ae=G._key();return this.originValidationPromises[ae]||(this.originValidationPromises[ae]=function De(le){return Rt.apply(this,arguments)}(G)),this.originValidationPromises[ae]}attachCallbackListeners(G,ae){const{universalLinks:Pe,handleOpenURL:ft,BuildInfo:jt}=Je(),Xe=setTimeout((0,y.Z)(function*(){yield Ee(G),ae.onEvent(ct())}),500),Qt=function(){var h=(0,y.Z)(function*(l){clearTimeout(Xe);const d=yield Ee(G);let v=null;d&&l?.url&&(v=function ot(le,G){var ae,Pe;const ft=function je(le){const G=Qe(le),ae=G.link?decodeURIComponent(G.link):void 0,Pe=Qe(ae).link,ft=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Qe(ft).link||ft||Pe||ae||le}(G);if(ft.includes("/__/auth/callback")){const jt=Qe(ft),Xe=jt.firebaseError?function Wt(le){try{return JSON.parse(le)}catch{return null}}(decodeURIComponent(jt.firebaseError)):null,Qt=null===(Pe=null===(ae=Xe?.code)||void 0===ae?void 0:ae.split("auth/"))||void 0===Pe?void 0:Pe[1],o=Qt?(0,ne.aw)(Qt):null;return o?{type:le.type,eventId:le.eventId,tenantId:le.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:le.type,eventId:le.eventId,tenantId:le.tenantId,sessionId:le.sessionId,urlResponse:ft,postBody:null}}return null}(d,l.url)),ae.onEvent(v||ct())});return function(d){return h.apply(this,arguments)}}();typeof Pe<"u"&&"function"==typeof Pe.subscribe&&Pe.subscribe(null,Qt);const o=ft,f=`${jt.packageName.toLowerCase()}://`;Je().handleOpenURL=function(){var h=(0,y.Z)(function*(l){if(l.toLowerCase().startsWith(f)&&Qt({url:l}),"function"==typeof o)try{o(l)}catch(d){console.error(d)}});return function(l){return h.apply(this,arguments)}}()}};function ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ne.aw)("no-auth-event")}}function ve(){var le;return(null===(le=self?.location)||void 0===le?void 0:le.protocol)||null}function Re(le=(0,We.z$)()){return!("file:"!==ve()&&"ionic:"!==ve()&&"capacitor:"!==ve()||!le.toLowerCase().match(/iphone|ipad|ipod|android/))}function En(){try{const le=self.localStorage,G=ne.aI();if(le)return le.setItem(G,"1"),le.removeItem(G),!function tn(le=(0,We.z$)()){return function at(){return(0,We.w1)()&&11===document?.documentMode}()||function Vt(le=(0,We.z$)()){return/Edge\/\d+/.test(le)}(le)}()||(0,We.hl)()}catch{return ln()&&(0,We.hl)()}return!1}function ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qt(){return(function Me(){return"http:"===ve()||"https:"===ve()}()||(0,We.ru)()||Re())&&!function it(){return(0,We.b$)()||(0,We.UG)()}()&&En()&&!ln()}function Ft(){return Re()&&typeof document<"u"}function Gt(){return(Gt=(0,y.Z)(function*(){return!!Ft()&&new Promise(le=>{const G=setTimeout(()=>{le(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),le(!0)})})})).apply(this,arguments)}const Xt={LOCAL:"local",NONE:"none",SESSION:"session"},$n=ne.ax,Pi="persistence";function Si(le){return yi.apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(le){yield le._initializationPromise;const G=$t(),ae=ne.aA(Pi,le.config.apiKey,le.name);G&&G.setItem(ae,le._getPersistence())})).apply(this,arguments)}function $t(){var le;try{return(null===(le=function Kn(){return typeof window<"u"?window:null}())||void 0===le?void 0:le.sessionStorage)||null}catch{return null}}const pn=ne.ax;class li{constructor(){this.browserResolver=ne.az(ne.k),this.cordovaResolver=ne.az(Dt),this.underlyingResolver=null,this._redirectPersistence=ne.a,this._completeRedirectFn=ne.aB,this._overrideRedirectResult=ne.aC}_initialize(G){var ae=this;return(0,y.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,ae,Pe,ft){var jt=this;return(0,y.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(G,ae,Pe,ft)})()}_openRedirect(G,ae,Pe,ft){var jt=this;return(0,y.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(G,ae,Pe,ft)})()}_isIframeWebStorageSupported(G,ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,ae)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Ft()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,y.Z)(function*(){if(G.underlyingResolver)return;const ae=yield function Dn(){return Gt.apply(this,arguments)}();G.underlyingResolver=ae?G.cordovaResolver:G.browserResolver})()}}function hi(le){return le.unwrap()}function Yn(le){return ii(le)}function ii(le){const{_tokenResponse:G}=le instanceof We.ZR?le.customData:le;if(!G)return null;if(!(le instanceof We.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return ne.P.credentialFromResult(le);const ae=G.providerId;if(!ae||ae===ne.o.PASSWORD)return null;let Pe;switch(ae){case ne.o.GOOGLE:Pe=ne.Q;break;case ne.o.FACEBOOK:Pe=ne.N;break;case ne.o.GITHUB:Pe=ne.T;break;case ne.o.TWITTER:Pe=ne.W;break;default:const{oauthIdToken:ft,oauthAccessToken:jt,oauthTokenSecret:Xe,pendingToken:Qt,nonce:o}=G;return jt||Xe||ft||Qt?Qt?ae.startsWith("saml.")?ne.aL._create(ae,Qt):ne.J._fromParams({providerId:ae,signInMethod:ae,pendingToken:Qt,idToken:ft,accessToken:jt}):new ne.U(ae).credential({idToken:ft,accessToken:jt,rawNonce:o}):null}return le instanceof We.ZR?Pe.credentialFromError(le):Pe.credentialFromResult(le)}function Cn(le,G){return G.catch(ae=>{throw ae instanceof We.ZR&&function bn(le,G){var ae;const Pe=null===(ae=G.customData)||void 0===ae?void 0:ae._tokenResponse;if("auth/multi-factor-auth-required"===G?.code)G.resolver=new Qn(le,ne.an(le,G));else if(Pe){const ft=ii(G),jt=G;ft&&(jt.credential=ft,jt.tenantId=Pe.tenantId||void 0,jt.email=Pe.email||void 0,jt.phoneNumber=Pe.phoneNumber||void 0)}}(le,ae),ae}).then(ae=>{const ft=ae.user;return{operationType:ae.operationType,credential:Yn(ae),additionalUserInfo:ne.al(ae),user:V.getOrCreate(ft)}})}function ji(le,G){return An.apply(this,arguments)}function An(){return(An=(0,y.Z)(function*(le,G){const ae=yield G;return{verificationId:ae.verificationId,confirm:Pe=>Cn(le,ae.confirm(Pe))}})).apply(this,arguments)}class Qn{constructor(G,ae){this.resolver=ae,this.auth=function ui(le){return le.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Cn(hi(this.auth),this.resolver.resolveSignIn(G))}}class V{constructor(G){this._delegate=G,this.multiFactor=ne.ao(G)}static getOrCreate(G){return V.USER_MAP.has(G)||V.USER_MAP.set(G,new V(G)),V.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var ae=this;return(0,y.Z)(function*(){return Cn(ae.auth,ne.Z(ae._delegate,G))})()}linkWithPhoneNumber(G,ae){var Pe=this;return(0,y.Z)(function*(){return ji(Pe.auth,ne.l(Pe._delegate,G,ae))})()}linkWithPopup(G){var ae=this;return(0,y.Z)(function*(){return Cn(ae.auth,ne.d(ae._delegate,G,li))})()}linkWithRedirect(G){var ae=this;return(0,y.Z)(function*(){return yield Si(ne.aE(ae.auth)),ne.g(ae._delegate,G,li)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var ae=this;return(0,y.Z)(function*(){return Cn(ae.auth,ne._(ae._delegate,G))})()}reauthenticateWithPhoneNumber(G,ae){return ji(this.auth,ne.r(this._delegate,G,ae))}reauthenticateWithPopup(G){return Cn(this.auth,ne.e(this._delegate,G,li))}reauthenticateWithRedirect(G){var ae=this;return(0,y.Z)(function*(){return yield Si(ne.aE(ae.auth)),ne.h(ae._delegate,G,li)})()}sendEmailVerification(G){return ne.ab(this._delegate,G)}unlink(G){var ae=this;return(0,y.Z)(function*(){return yield ne.ak(ae._delegate,G),ae})()}updateEmail(G){return ne.ag(this._delegate,G)}updatePassword(G){return ne.ah(this._delegate,G)}updatePhoneNumber(G){return ne.u(this._delegate,G)}updateProfile(G){return ne.af(this._delegate,G)}verifyBeforeUpdateEmail(G,ae){return ne.ac(this._delegate,G,ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}V.USER_MAP=new WeakMap;const B=ne.ax;let Y=(()=>{class le{constructor(ae,Pe){if(this.app=ae,Pe.isInitialized())return this._delegate=Pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ft}=ae.options;B(ft,"invalid-api-key",{appName:ae.name}),B(ft,"invalid-api-key",{appName:ae.name});const jt=typeof window<"u"?li:void 0;this._delegate=Pe.initialize({options:{persistence:He(ft,ae.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(ne.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?V.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ae){this._delegate.languageCode=ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ae){this._delegate.tenantId=ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ae,Pe){ne.G(this._delegate,ae,Pe)}applyActionCode(ae){return ne.a2(this._delegate,ae)}checkActionCode(ae){return ne.a3(this._delegate,ae)}confirmPasswordReset(ae,Pe){return ne.a1(this._delegate,ae,Pe)}createUserWithEmailAndPassword(ae,Pe){var ft=this;return(0,y.Z)(function*(){return Cn(ft._delegate,ne.a5(ft._delegate,ae,Pe))})()}fetchProvidersForEmail(ae){return this.fetchSignInMethodsForEmail(ae)}fetchSignInMethodsForEmail(ae){return ne.aa(this._delegate,ae)}isSignInWithEmailLink(ae){return ne.a8(this._delegate,ae)}getRedirectResult(){var ae=this;return(0,y.Z)(function*(){B(qt(),ae._delegate,"operation-not-supported-in-this-environment");const Pe=yield ne.j(ae._delegate,li);return Pe?Cn(ae._delegate,Promise.resolve(Pe)):{credential:null,user:null}})()}addFrameworkForLogging(ae){!function te(le,G){(0,ne.aE)(le)._logFramework(G)}(this._delegate,ae)}onAuthStateChanged(ae,Pe,ft){const{next:jt,error:Xe,complete:Qt}=Ce(ae,Pe,ft);return this._delegate.onAuthStateChanged(jt,Xe,Qt)}onIdTokenChanged(ae,Pe,ft){const{next:jt,error:Xe,complete:Qt}=Ce(ae,Pe,ft);return this._delegate.onIdTokenChanged(jt,Xe,Qt)}sendSignInLinkToEmail(ae,Pe){return ne.a7(this._delegate,ae,Pe)}sendPasswordResetEmail(ae,Pe){return ne.a0(this._delegate,ae,Pe||void 0)}setPersistence(ae){var Pe=this;return(0,y.Z)(function*(){let ft;switch(function ai(le,G){$n(Object.values(Xt).includes(G),le,"invalid-persistence-type"),(0,We.b$)()?$n(G!==Xt.SESSION,le,"unsupported-persistence-type"):(0,We.UG)()?$n(G===Xt.NONE,le,"unsupported-persistence-type"):ln()?$n(G===Xt.NONE||G===Xt.LOCAL&&(0,We.hl)(),le,"unsupported-persistence-type"):$n(G===Xt.NONE||En(),le,"unsupported-persistence-type")}(Pe._delegate,ae),ae){case Xt.SESSION:ft=ne.a;break;case Xt.LOCAL:ft=(yield ne.az(ne.i)._isAvailable())?ne.i:ne.b;break;case Xt.NONE:ft=ne.L;break;default:return ne.as("argument-error",{appName:Pe._delegate.name})}return Pe._delegate.setPersistence(ft)})()}signInAndRetrieveDataWithCredential(ae){return this.signInWithCredential(ae)}signInAnonymously(){return Cn(this._delegate,ne.X(this._delegate))}signInWithCredential(ae){return Cn(this._delegate,ne.Y(this._delegate,ae))}signInWithCustomToken(ae){return Cn(this._delegate,ne.$(this._delegate,ae))}signInWithEmailAndPassword(ae,Pe){return Cn(this._delegate,ne.a6(this._delegate,ae,Pe))}signInWithEmailLink(ae,Pe){return Cn(this._delegate,ne.a9(this._delegate,ae,Pe))}signInWithPhoneNumber(ae,Pe){return ji(this._delegate,ne.s(this._delegate,ae,Pe))}signInWithPopup(ae){var Pe=this;return(0,y.Z)(function*(){return B(qt(),Pe._delegate,"operation-not-supported-in-this-environment"),Cn(Pe._delegate,ne.c(Pe._delegate,ae,li))})()}signInWithRedirect(ae){var Pe=this;return(0,y.Z)(function*(){return B(qt(),Pe._delegate,"operation-not-supported-in-this-environment"),yield Si(Pe._delegate),ne.f(Pe._delegate,ae,li)})()}updateCurrentUser(ae){return this._delegate.updateCurrentUser(ae)}verifyPasswordResetCode(ae){return ne.a4(this._delegate,ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return le.Persistence=Xt,le})();function Ce(le,G,ae){let Pe=le;"function"!=typeof le&&({next:Pe,error:G,complete:ae}=le);const ft=Pe;return{next:Xe=>ft(Xe&&V.getOrCreate(Xe)),error:G,complete:ae}}function He(le,G){const ae=function nn(le,G){const ae=$t();if(!ae)return[];const Pe=ne.aA(Pi,le,G);switch(ae.getItem(Pe)){case Xt.NONE:return[ne.L];case Xt.LOCAL:return[ne.i,ne.a];case Xt.SESSION:return[ne.a];default:return[]}}(le,G);if(typeof self<"u"&&!ae.includes(ne.i)&&ae.push(ne.i),typeof window<"u")for(const Pe of[ne.b,ne.a])ae.includes(Pe)||ae.push(Pe);return ae.includes(ne.L)||ae.push(ne.L),ae}class tt{constructor(){this.providerId="phone",this._delegate=new ne.P(hi(he.Z.auth()))}static credential(G,ae){return ne.P.credential(G,ae)}verifyPhoneNumber(G,ae){return this._delegate.verifyPhoneNumber(G,ae)}unwrap(){return this._delegate}}tt.PHONE_SIGN_IN_METHOD=ne.P.PHONE_SIGN_IN_METHOD,tt.PROVIDER_ID=ne.P.PROVIDER_ID;const Oe=ne.ax;class ue{constructor(G,ae,Pe=he.Z.app()){var ft;Oe(null===(ft=Pe.options)||void 0===ft?void 0:ft.apiKey,"invalid-api-key",{appName:Pe.name}),this._delegate=new ne.R(G,ae,Pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function me(le){le.INTERNAL.registerComponent(new nt.wA("auth-compat",G=>{const ae=G.getProvider("app-compat").getImmediate(),Pe=G.getProvider("auth");return new Y(ae,Pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ne.A.EMAIL_SIGNIN,PASSWORD_RESET:ne.A.PASSWORD_RESET,RECOVER_EMAIL:ne.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ne.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ne.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ne.A.VERIFY_EMAIL}},EmailAuthProvider:ne.M,FacebookAuthProvider:ne.N,GithubAuthProvider:ne.T,GoogleAuthProvider:ne.Q,OAuthProvider:ne.U,SAMLAuthProvider:ne.V,PhoneAuthProvider:tt,PhoneMultiFactorGenerator:ne.m,RecaptchaVerifier:ue,TwitterAuthProvider:ne.W,Auth:Y,AuthCredential:ne.H,Error:We.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),le.registerVersion("@firebase/auth-compat","0.3.3")}(he.Z)},6774:(an,Mt,q)=>{"use strict";q.d(Mt,{Gb:()=>y.Gb});var y=q(908)},8766:(an,Mt,q)=>{"use strict";q.d(Mt,{Lj:()=>Tt,X3:()=>Ct});var y=q(5861);let ne,We;const nt=new WeakMap,Je=new WeakMap,Fe=new WeakMap,be=new WeakMap,H=new WeakMap;let ht={get(Ve,ot,It){if(Ve instanceof IDBTransaction){if("done"===ot)return Je.get(Ve);if("objectStoreNames"===ot)return Ve.objectStoreNames||Fe.get(Ve);if("store"===ot)return It.objectStoreNames[1]?void 0:It.objectStore(It.objectStoreNames[0])}return _t(Ve[ot])},set:(Ve,ot,It)=>(Ve[ot]=It,!0),has:(Ve,ot)=>Ve instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in Ve};function qe(Ve){return"function"==typeof Ve?function xt(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return We||(We=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...ot){return Ve.apply(Ke(this),ot),_t(nt.get(this))}:function(...ot){return _t(Ve.apply(Ke(this),ot))}:function(ot,...It){const kt=Ve.call(Ke(this),ot,...It);return Fe.set(kt,ot.sort?ot.sort():[ot]),_t(kt)}}(Ve):(Ve instanceof IDBTransaction&&function Rt(Ve){if(Je.has(Ve))return;const ot=new Promise((It,kt)=>{const Ot=()=>{Ve.removeEventListener("complete",Wt),Ve.removeEventListener("error",je),Ve.removeEventListener("abort",je)},Wt=()=>{It(),Ot()},je=()=>{kt(Ve.error||new DOMException("AbortError","AbortError")),Ot()};Ve.addEventListener("complete",Wt),Ve.addEventListener("error",je),Ve.addEventListener("abort",je)});Je.set(Ve,ot)}(Ve),((Ve,ot)=>ot.some(It=>Ve instanceof It))(Ve,function Le(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,ht):Ve)}function _t(Ve){if(Ve instanceof IDBRequest)return function De(Ve){const ot=new Promise((It,kt)=>{const Ot=()=>{Ve.removeEventListener("success",Wt),Ve.removeEventListener("error",je)},Wt=()=>{It(_t(Ve.result)),Ot()},je=()=>{kt(Ve.error),Ot()};Ve.addEventListener("success",Wt),Ve.addEventListener("error",je)});return ot.then(It=>{It instanceof IDBCursor&&nt.set(It,Ve)}).catch(()=>{}),H.set(ot,Ve),ot}(Ve);if(be.has(Ve))return be.get(Ve);const ot=qe(Ve);return ot!==Ve&&(be.set(Ve,ot),H.set(ot,Ve)),ot}const Ke=Ve=>H.get(Ve);function Ct(Ve,ot,{blocked:It,upgrade:kt,blocking:Ot,terminated:Wt}={}){const je=indexedDB.open(Ve,ot),Qe=_t(je);return kt&&je.addEventListener("upgradeneeded",ut=>{kt(_t(je.result),ut.oldVersion,ut.newVersion,_t(je.transaction))}),It&&je.addEventListener("blocked",()=>It()),Qe.then(ut=>{Wt&&ut.addEventListener("close",()=>Wt()),Ot&&ut.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),Qe}function Tt(Ve,{blocked:ot}={}){const It=indexedDB.deleteDatabase(Ve);return ot&&It.addEventListener("blocked",()=>ot()),_t(It).then(()=>{})}const mt=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],St=new Map;function Ee(Ve,ot){if(!(Ve instanceof IDBDatabase)||ot in Ve||"string"!=typeof ot)return;if(St.get(ot))return St.get(ot);const It=ot.replace(/FromIndex$/,""),kt=ot!==It,Ot=Ze.includes(It);if(!(It in(kt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!mt.includes(It))return;const Wt=function(){var je=(0,y.Z)(function*(Qe,...ut){const bt=this.transaction(Qe,Ot?"readwrite":"readonly");let Dt=bt.store;return kt&&(Dt=Dt.index(ut.shift())),(yield Promise.all([Dt[It](...ut),Ot&&bt.done]))[0]});return function(ut){return je.apply(this,arguments)}}();return St.set(ot,Wt),Wt}!function lt(Ve){ht=Ve(ht)}(Ve=>({...Ve,get:(ot,It,kt)=>Ee(ot,It)||Ve.get(ot,It,kt),has:(ot,It)=>!!Ee(ot,It)||Ve.has(ot,It)}))},5861:(an,Mt,q)=>{"use strict";function y(ne,We,Le,Ye,nt,Je,Fe){try{var be=ne[Je](Fe),H=be.value}catch(De){return void Le(De)}be.done?We(H):Promise.resolve(H).then(Ye,nt)}function he(ne){return function(){var We=this,Le=arguments;return new Promise(function(Ye,nt){var Je=ne.apply(We,Le);function Fe(H){y(Je,Ye,nt,Fe,be,"next",H)}function be(H){y(Je,Ye,nt,Fe,be,"throw",H)}Fe(void 0)})}}q.d(Mt,{Z:()=>he})}},an=>{an(an.s=1699)}]);